var hn=Object.defineProperty;var gn=(e,t,n)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var J=(e,t,n)=>gn(e,typeof t!="symbol"?t+"":t,n);import{c as Z}from"./_commonjsHelpers-Cpj98o6Y.js";import{i as Pt,e as Rt,d as ie,r as F,p as re,m as Sn,a as Ie,b as Tt,c as wn,f as pn,g as bn,h as An,j as Qe,k as Mt,l as Ce,n as Lt,u as kt,t as _t,o as En,q as xt,s as Cn,v as On,w as Fn,x as Pn,y as Je,z as E,I as ye,A as Ze,B as V,C as le,D as Rn,E as vt,F as Ve,G as Be,H as dt,J as N,K as Ke,L as mt,M as ae,N as yt,O as et,P as qt,Q as Tn,R as De,S as Nt,T as ht,U,V as Mn,W as we,X as Ln,Y as kn,Z as It,_ as _n,$ as xn,a0 as qn,a1 as Nn,a2 as Dt,a3 as In,a4 as Dn,a5 as $n,a6 as Vn,a7 as Bn,a8 as jn,a9 as Un,aa as Wn,ab as fe,ac as Gn,ad as Hn,ae as zn,af as Yn,ag as be,ah as P,ai as H,aj as k,ak as j,al as G,am as $t,an as D,ao as Y,ap as ee,aq as Oe,ar as $e,as as tt,at as Vt,au as je,av as oe,aw as de,ax as Xn,ay as Fe,az as Qn}from"./index-B_Mkjod5.js";class me{constructor(t){let{x:n,y:s,width:i,height:o}=t;this.x=n,this.y=s,this.width=i,this.height=o}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function gt(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Jn(e){return Array.isArray(e)?new me({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Zn(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),s=n.transform;if(s){let i,o,r,a,l;if(s.startsWith("matrix3d("))i=s.slice(9,-1).split(/, /),o=+i[0],r=+i[5],a=+i[12],l=+i[13];else if(s.startsWith("matrix("))i=s.slice(7,-1).split(/, /),o=+i[0],r=+i[3],a=+i[4],l=+i[5];else return new me(t);const c=n.transformOrigin,v=t.x-a-(1-o)*parseFloat(c),f=t.y-l-(1-r)*parseFloat(c.slice(c.indexOf(" ")+1)),u=o?t.width/o:e.offsetWidth+1,d=r?t.height/r:e.offsetHeight+1;return new me({x:v,y:f,width:u,height:d})}else return new me(t)}function Kn(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let s;try{s=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof s.finished>"u"&&(s.finished=new Promise(i=>{s.onfinish=()=>{i(s)}})),s}const Pe=new WeakMap;function ea(e,t){Object.keys(t).forEach(n=>{if(Pt(n)){const s=Rt(n),i=Pe.get(e);if(t[n]==null)i==null||i.forEach(o=>{const[r,a]=o;r===s&&(e.removeEventListener(s,a),i.delete(o))});else if(!i||![...i].some(o=>o[0]===s&&o[1]===t[n])){e.addEventListener(s,t[n]);const o=i||new Set;o.add([s,t[n]]),Pe.has(e)||Pe.set(e,o)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function ta(e,t){Object.keys(t).forEach(n=>{if(Pt(n)){const s=Rt(n),i=Pe.get(e);i==null||i.forEach(o=>{const[r,a]=o;r===s&&(e.removeEventListener(s,a),i.delete(o))})}else e.removeAttribute(n)})}function Bt(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const na="cubic-bezier(0.4, 0, 0.2, 1)";function aa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?ra(e):nt(e))return e;e=e.parentElement}return document.scrollingElement}function Me(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(nt(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function nt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function ra(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function sa(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const ne=class ne{};J(ne,"IsOnRange",(t,n,s)=>s<n&&s>t),J(ne,"Clamp",(t,n=0,s=1)=>Math.min(s,Math.max(n,t))),J(ne,"Lerp",(t,n,s)=>t*(1-s)+n*s),J(ne,"Invlerp",(t,n,s)=>ne.Clamp((s-t)/(n-t))),J(ne,"ToRange",(t,n,s,i=0,o=1)=>ne.Lerp(i,o,ne.Invlerp(n,s,t)));let pe=ne;class M{constructor(t,n,s){J(this,"$natural",!0);J(this,"name",{classic:M.Classic.ENotes.NONE,american:M.American.ENotes.NONE});J(this,"frequency",{main:0,min:0,max:0});J(this,"isNatural",()=>this.$natural);this.frequency.main=t,n&&(this.name.classic=n),s&&(this.name.american=s)}}class te extends M{constructor(n,s=M.Classic.ENotes.NONE,i=M.American.ENotes.NONE){super(n,s,i);J(this,"sharp",M.EmptyNote);J(this,"flat",M.EmptyNote);this.$natural=!1}}(e=>{(o=>{o[o.CLASSIC=0]="CLASSIC",o[o.AMERICAN=1]="AMERICAN"})(e.Systems||(e.Systems={})),(o=>{o[o.SHARP=0]="SHARP",o[o.FLAT=1]="FLAT",o[o.NATURAL=2]="NATURAL",o[o.DOUBLE_SHARP=3]="DOUBLE_SHARP",o[o.DOUBLE_FLAT=4]="DOUBLE_FLAT"})(e.Accidentals||(e.Accidentals={})),(o=>{(r=>{r.NONE="?",r.DO="DO",r.DOS_REF="DO# REb",r.RE="RE",r.RES_MIF="RE# MIb",r.MI="MI",r.FA="FA",r.FAS_SOLF="FA# SOLb",r.SOL="SOL",r.SOLS_LAF="SOL# LAb",r.LA="LA",r.LAS_SIF="LA# SIb",r.SI="SI"})(o.ENotes||(o.ENotes={}))})(e.Classic||(e.Classic={})),(o=>{(r=>{r.NONE="?",r.C="C",r.CS_DF="C# Db",r.D="D",r.DS_EF="D# Eb",r.E="E",r.F="F",r.FS_GF="F# Gb",r.G="G",r.GS_AF="G# Ab",r.A="A",r.AS_BF="A# Bb",r.B="B"})(o.ENotes||(o.ENotes={}))})(e.American||(e.American={}));let t=[new e(261.63,"DO","C"),new te(277.18,"DO# REb","C# Db"),new e(293.66,"RE","D"),new te(311.13,"RE# MIb","D# Eb"),new e(329.63,"MI","E"),new e(349.23,"FA","F"),new te(369.99,"FA# SOLb","F# Gb"),new e(392,"SOL","G"),new te(415.3,"SOL# LAb","G# Ab"),new e(440,"LA","A"),new te(466.16,"LA# SIb","A# Bb"),new e(493.88,"SI","B")];e.Notes=t,e.EmptyNote=new te(0);let n=[],s=[];const i=(o,r)=>Math.sqrt(o*r);e.FillMedFrequencys=(o,r,a)=>{for(let l=0;l<o.length;l++){{const c=l>0?o[l-1].frequency.main:o[o.length-1].frequency.main/2;o[l].frequency.min=i(c,o[l].frequency.main)}{const c=l<o.length-1?o[l+1].frequency.main:o[0].frequency.main*2;o[l].frequency.max=i(o[l].frequency.main,c)}o[l]instanceof te?(o[l].sharp=o[l-1],o[l].flat=o[l+1],a.push(o[l])):(r.push(o[l]),l<o.length-1&&!(o[l+1]instanceof te)&&a.push(e.EmptyNote))}},(0,e.FillMedFrequencys)(t,n,s),e.Naturals=n,e.Semis=s})(M||(M={}));var ce;(e=>{e.OCTAVE_CENTRAL=4,e.OCTAVE_RANGE={MIN:1,MAX:7};const t=(l,c)=>l/Math.pow(2,c),n=(l,c)=>l*Math.pow(2,c),s=(l,c)=>l==e.OCTAVE_CENTRAL?c:l<e.OCTAVE_CENTRAL?t(c,e.OCTAVE_CENTRAL-l):n(c,l-e.OCTAVE_CENTRAL);let i=[],o=[],r=[];for(let l=e.OCTAVE_RANGE.MIN;l<=e.OCTAVE_RANGE.MAX;l++){let c=[],v=[],f=[];M.Notes.forEach(u=>{const d=s(l,u.frequency.main);let w;u instanceof te?w=new te(d,u.name.classic,u.name.american):w=new M(d,u.name.classic,u.name.american),c.push(w)}),M.FillMedFrequencys(c,v,f),i.push(c),o.push(v),r.push(f)}const a=l=>pe.Clamp(l,e.OCTAVE_RANGE.MIN,e.OCTAVE_RANGE.MAX)-e.OCTAVE_RANGE.MIN;e.GetNotesAtOctave=l=>i[a(l)],e.GetNaturalsAtOctave=l=>o[a(l)],e.GetSemisAtOctave=l=>r[a(l)]})(ce||(ce={}));var ve={},at={},Le=Z&&Z.__assign||function(){return Le=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Le.apply(this,arguments)};Object.defineProperty(at,"__esModule",{value:!0});var oa={threshold:.1,sampleRate:44100,probabilityThreshold:.1};function ia(e){e===void 0&&(e={});var t=Le(Le({},oa),e),n=t.threshold,s=t.sampleRate,i=t.probabilityThreshold;return function(r){var a;for(a=1;a<r.length;a*=2);a/=2;for(var l=a/2,c=new Float32Array(l),v=0,f,u=0;u<l;u++)c[u]=0;for(var u=1;u<l;u++)for(var d=0;d<l;d++){var w=r[d]-r[d+u];c[u]+=w*w}c[0]=1,c[1]=1;for(var g=0,u=1;u<l;u++)g+=c[u],c[u]*=u/g;for(f=2;f<l;f++)if(c[f]<n){for(;f+1<l&&c[f+1]<c[f];)f++;v=1-c[f];break}if(f===l||c[f]>=n||v<i)return null;var A,m,h;if(f<1?m=f:m=f-1,f+1<l?h=f+1:h=f,m===f)c[f]<=c[h]?A=f:A=h;else if(h===f)c[f]<=c[m]?A=f:A=m;else{var y=c[m],S=c[f],b=c[h];A=f+(b-y)/(2*(2*S-b-y))}return s/A}}at.YIN=ia;var rt={},ke=Z&&Z.__assign||function(){return ke=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ke.apply(this,arguments)};Object.defineProperty(rt,"__esModule",{value:!0});var la={sampleRate:44100,minFrequency:82,maxFrequency:1e3,ratio:5,sensitivity:.1};function ua(e){e===void 0&&(e={});var t=ke(ke({},la),e),n=t.sampleRate,s=t.minFrequency,i=t.maxFrequency,o=t.sensitivity,r=t.ratio,a=[],l=Math.ceil(n/s),c=Math.floor(n/i);return function(f){var u=f.length,d=0,w=1/0,g=-1/0,A,m,h,y,S,b,C,O;for(y=0;y<u;y++)if(c<=y&&y<=l){for(C=0,O=y,d=0,A=[],m=[];C<u-y;d++,O++,C++)A[d]=f[C],m[d]=f[O];var p=A.length;for(h=[],b=0;b<p;b++)h[b]=A[b]-m[b];var I=0;for(b=0;b<p;b++)I+=Math.abs(h[b]);a[y]=I}for(S=c;S<l;S++)a[S]<w&&(w=a[S]),a[S]>g&&(g=a[S]);var X=Math.round(o*(g-w)+w);for(S=c;S<=l&&a[S]>X;S++);var q=c/2;w=a[S];var R=S;for(y=S-1;y<S+q&&y<=l;y++)a[y]<w&&(w=a[y],R=y);return Math.round(a[R]*r)<g?n/R:null}}rt.AMDF=ua;var st={},_e=Z&&Z.__assign||function(){return _e=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_e.apply(this,arguments)};Object.defineProperty(st,"__esModule",{value:!0});var St={sampleRate:44100};function ca(e){e===void 0&&(e=St);var t=_e(_e({},St),e),n=t.sampleRate;return function(i){var o=i.length,r=0,a,l,c,v;for(a=0;a<o;a++)v=i[a],r+=v*v;if(r=Math.sqrt(r/o),r<.01)return-1;var f=0,u=o-1,d=.2;for(a=0;a<o/2;a++)if(Math.abs(i[a])<d){f=a;break}for(a=1;a<o/2;a++)if(Math.abs(i[o-a])<d){u=o-a;break}var w=i.slice(f,u),g=w.length,A=new Array(g).fill(0);for(a=0;a<g;a++)for(l=0;l<g-a;l++)A[a]=A[a]+w[l]*w[l+a];for(c=0;A[c]>A[c+1];)c++;var m=-1,h=-1;for(a=c;a<g;a++)A[a]>m&&(m=A[a],h=a);var y=h,S=A[y-1],b=A[y],C=A[y+1],O=(S+C-2*b)/2,p=(C-S)/2;return O&&(y=y-p/(2*O)),n/y}}st.ACF2PLUS=ca;var ot={},xe=Z&&Z.__assign||function(){return xe=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xe.apply(this,arguments)};Object.defineProperty(ot,"__esModule",{value:!0});var fa=6,va=3e3,da=3,ma=.75,ya={sampleRate:44100};function ha(e){e===void 0&&(e={});var t=xe(xe({},ya),e),n=t.sampleRate;return function(i){for(var o=[],r=[],a=i.length,l=null,c=0,v=0,f=0,u=0;u<a;u++){var d=i[u];c=c+d,f=Math.max(f,d),v=Math.min(v,d)}c/=a,v-=c,f-=c;for(var w=f>-1*v?f:-1*v,g=w*ma,A=0,m=-1,h=i.length,y,S,b;y=~~(n/(Math.pow(2,A)*va)),!(h<2);){var C=void 0,O=-1e3,p=-1e6,I=-1e6,X=!1,q=!1;b=0,S=0;for(var u=2;u<h;u++){var R=i[u]-c,T=i[u-1]-c;T<=0&&R>0&&(X=!0),T>=0&&R<0&&(q=!0),C=R-T,O>-1e3&&(q&&O<0&&C>=0&&Math.abs(R)>=g&&u>p+y&&(o[b++]=u,p=u,q=!1),X&&O>0&&C<=0&&Math.abs(R)>=g&&u>I+y&&(r[S++]=u,I=u,X=!1)),O=C}if(b===0&&S===0)break;for(var _=void 0,B=[],u=0;u<h;u++)B[u]=0;for(var u=0;u<b;u++)for(var L=1;L<da;L++)u+L<b&&(_=Math.abs(o[u]-o[u+L]),B[_]+=1);for(var W=-1,$=-1,u=0;u<h;u++){for(var z=0,L=-1*y;L<=y;L++)u+L>=0&&u+L<h&&(z+=B[u+L]);z===$?u===2*W&&(W=u):z>$&&($=z,W=u)}for(var K=0,se=0,L=-y;L<=y;L++)if(W+L>=0&&W+L<a){var he=B[W+L];he>0&&(se+=he,K+=(W+L)*he)}if(K/=se,m>-1&&Math.abs(K*2-m)<=2*y){l=n/(Math.pow(2,A-1)*m);break}if(m=K,A++,A>=fa||h<2)break;var ue=i.subarray(0);h===B.length&&(ue=new Float32Array(h/2));for(var u=0;u<h/2;u++)ue[u]=(i[2*u]+i[2*u+1])/2;i=ue,h/=2}return l}}ot.DynamicWavelet=ha;var it={},qe=Z&&Z.__assign||function(){return qe=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qe.apply(this,arguments)};Object.defineProperty(it,"__esModule",{value:!0});var ga={bufferSize:1024,cutoff:.97,sampleRate:44100};function Sa(e){e===void 0&&(e={});var t=qe(qe({},ga),e),n=t.bufferSize,s=t.cutoff,i=t.sampleRate,o=.5,r=80,a=new Float32Array(n),l=new Float32Array(n),c,v,f=[],u=[],d=[];function w(m){var h,y;l[0]=m[0]*m[0];for(var S=1;S<m.length;S+=1)l[S]=m[S]*m[S]+l[S-1];for(var b=0;b<m.length;b++){h=0,y=l[m.length-1-b]+l[m.length-1]-l[b];for(var S=0;S<m.length-b;S++)h+=m[S]*m[S+b];a[b]=2*h/y}}function g(m){var h=a[m-1],y=a[m],S=a[m+1],b=m,C=S+h-2*y;if(C===0)c=b,v=y;else{var O=h-S;c=b+O/(2*C),v=y-O*O/(8*C)}}function A(){for(var m=0,h=0;m<(a.length-1)/3&&a[m]>0;)m++;for(;m<a.length-1&&a[m]<=0;)m++;for(m==0&&(m=1);m<a.length-1;)if(a[m]>a[m-1]&&a[m]>=a[m+1]&&(h==0||a[m]>a[h])&&(h=m),m++,m<a.length-1&&a[m]<=0)for(h>0&&(f.push(h),h=0);m<a.length-1&&a[m]<=0;)m++;h>0&&f.push(h)}return function(h){var y;f=[],u=[],d=[],w(h),A();for(var S=-1/0,b=0;b<f.length;b++){var C=f[b];S=Math.max(S,a[C]),a[C]>o&&(g(C),d.push(v),u.push(c),S=Math.max(S,v))}if(u.length){for(var O=s*S,p=0,b=0;b<d.length;b++)if(d[b]>=O){p=b;break}var I=u[p],X=i/I;X>r?y=X:y=-1}else y=-1;return{probability:S,freq:y}}}it.Macleod=Sa;var jt={};(function(e){var t=Z&&Z.__assign||function(){return t=Object.assign||function(i){for(var o,r=1,a=arguments.length;r<a;r++){o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FREQUENCIES_PARAMS={tempo:120,quantization:4,sampleRate:44100};function n(i,o){var r=i.map(function(d){return d(o)}).filter(function(d){return d!==null}).sort(function(d,w){return d-w});if(r.length===1)return r[0];if(r.length===2){var a=r[0],l=r[1];return a*2>l?Math.sqrt(a*l):a}else{var a=r[0],l=r[1],c=r[r.length-2],v=r[r.length-1],f=a*2>l?r:r.slice(1),u=c*2>v?f:f.slice(0,-1);return Math.pow(u.reduce(function(g,A){return g*A},1),1/u.length)}}function s(i,o,r){r===void 0&&(r={});var a=t(t({},e.DEFAULT_FREQUENCIES_PARAMS),r),l=a.tempo,c=a.quantization,v=a.sampleRate,f=o.length,u=Math.round(v*60/(c*l)),d;Array.isArray(i)?d=n.bind(null,i):d=i;for(var w=[],g=0,A=f-u;g<=A;g+=u){var m=o.slice(g,g+u),h=d(m);w.push(h)}return w}e.frequencies=s})(jt);Object.defineProperty(ve,"__esModule",{value:!0});var Ut=at;ve.YIN=Ut.YIN;var Wt=rt;ve.AMDF=Wt.AMDF;var Gt=st;ve.ACF2PLUS=Gt.ACF2PLUS;var Ht=ot;ve.DynamicWavelet=Ht.DynamicWavelet;var zt=it;ve.Macleod=zt.Macleod;var Yt=jt;ve.frequencies=Yt.frequencies;var wa=ve.default={YIN:Ut.YIN,AMDF:Wt.AMDF,ACF2PLUS:Gt.ACF2PLUS,DynamicWavelet:Ht.DynamicWavelet,Macleod:zt.Macleod,frequencies:Yt.frequencies};const pa=ie({name:"Tuner",emits:["update:frequency","update:note","is-running","update:bad-frequency"],props:{classes:{type:String,default:""},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,defailt:!0},showSemiFlats:{type:Boolean,defailt:!0}},setup(e,{emit:t,expose:n}){const s=F(null),i=F(null),o=F(0),r=F({note:M.EmptyNote,octave:0}),a=F(!1),l=F(!0),c=F(null),v=F(new Date),f=500,u=wa.YIN(),d=m=>{const S=Math.round(12*(Math.log(m/440)/Math.log(2)))+69,b=S%12,C=Math.floor(S/12)-1;if(pe.IsOnRange(ce.OCTAVE_RANGE.MIN,ce.OCTAVE_RANGE.MAX,C)){const O=M.Notes[b];return v.value=new Date,{note:O,octave:C}}return{note:M.EmptyNote,octave:-1}},w=()=>{if(!i.value||!s.value||!a.value)return;const m=i.value.fftSize,h=new Float32Array(m);i.value.getFloatTimeDomainData(h);const y=u(h);if(y){const S=d(y);S.octave==-1?new Date().getTime()-v.value.getTime()>f&&(l.value=!0,t("update:bad-frequency",!0)):(o.value=y,r.value=S,l.value=!1,t("update:note",r.value),t("update:frequency",y),t("update:bad-frequency",!1))}requestAnimationFrame(w)},g=async()=>{if(a.value)return;s.value=new AudioContext,i.value=s.value.createAnalyser(),i.value.fftSize=2048,c.value=await navigator.mediaDevices.getUserMedia({audio:!0}),s.value.createMediaStreamSource(c.value).connect(i.value),a.value=!0,t("is-running",!0),w()},A=()=>{s.value&&s.value.close(),a.value=!1,t("is-running",!1),c.value!=null&&c.value.getTracks().forEach(m=>{m.stop()})};return n({startTuner:g,stopTuner:A}),{frequency:o,note:r,startTuner:g,stopTuner:A,running:a,badFrequency:l}}}),ba=re({color:String,...Sn(),...Ie(),...Tt(),...wn(),...pn(),...bn(),...An(),...Qe(),...Mt()},"VSheet"),ze=Ce()({name:"VSheet",props:ba(),setup(e,t){let{slots:n}=t;const{themeClasses:s}=Lt(e),{backgroundColorClasses:i,backgroundColorStyles:o}=kt(_t(e,"color")),{borderClasses:r}=En(e),{dimensionStyles:a}=xt(e),{elevationClasses:l}=Cn(e),{locationStyles:c}=On(e),{positionClasses:v}=Fn(e),{roundedClasses:f}=Pn(e);return Je(()=>E(e.tag,{class:["v-sheet",s.value,i.value,r.value,l.value,v.value,f.value,e.class],style:[o.value,a.value,c.value,e.style]},n)),{}}});function Ue(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Aa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wt(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:s}=e,i=s==="left"?0:s==="center"?t.width/2:s==="right"?t.width:s,o=n==="top"?0:n==="bottom"?t.height:n;return Ue({x:i,y:o},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:s}=e,i=n==="left"?0:n==="right"?t.width:n,o=s==="top"?0:s==="center"?t.height/2:s==="bottom"?t.height:s;return Ue({x:i,y:o},t)}return Ue({x:t.width/2,y:t.height/2},t)}const Xt={static:Oa,connected:Pa},Ea=re({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Xt},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Ca(e,t){const n=F({}),s=F();ye&&Ze(()=>!!(t.isActive.value&&e.locationStrategy),o=>{var r,a;V(()=>e.locationStrategy,o),le(()=>{window.removeEventListener("resize",i),s.value=void 0}),window.addEventListener("resize",i,{passive:!0}),typeof e.locationStrategy=="function"?s.value=(r=e.locationStrategy(t,e,n))==null?void 0:r.updateLocation:s.value=(a=Xt[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function i(o){var r;(r=s.value)==null||r.call(s,o)}return{contentStyles:n,updateLocation:s}}function Oa(){}function Fa(e,t){const n=Zn(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Pa(e,t,n){(Array.isArray(e.target.value)||sa(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:i,preferredOrigin:o}=Rn(()=>{const w=vt(t.location,e.isRtl.value),g=t.origin==="overlap"?w:t.origin==="auto"?Ve(w):vt(t.origin,e.isRtl.value);return w.side===g.side&&w.align===Be(g).align?{preferredAnchor:dt(w),preferredOrigin:dt(g)}:{preferredAnchor:w,preferredOrigin:g}}),[r,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(w=>N(()=>{const g=parseFloat(t[w]);return isNaN(g)?1/0:g})),v=N(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const w=t.offset.split(" ").map(parseFloat);return w.length<2&&w.push(0),w}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let f=!1;const u=new ResizeObserver(()=>{f&&d()});V([e.target,e.contentEl],(w,g)=>{let[A,m]=w,[h,y]=g;h&&!Array.isArray(h)&&u.unobserve(h),A&&!Array.isArray(A)&&u.observe(A),y&&u.unobserve(y),m&&u.observe(m)},{immediate:!0}),le(()=>{u.disconnect()});function d(){if(f=!1,requestAnimationFrame(()=>f=!0),!e.target.value||!e.contentEl.value)return;const w=Jn(e.target.value),g=Fa(e.contentEl.value,e.isRtl.value),A=Me(e.contentEl.value),m=12;A.length||(A.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const h=A.reduce((q,R)=>{const T=R.getBoundingClientRect(),_=new me({x:R===document.documentElement?0:T.x,y:R===document.documentElement?0:T.y,width:R.clientWidth,height:R.clientHeight});return q?new me({x:Math.max(q.left,_.left),y:Math.max(q.top,_.top),width:Math.min(q.right,_.right)-Math.max(q.left,_.left),height:Math.min(q.bottom,_.bottom)-Math.max(q.top,_.top)}):_},void 0);h.x+=m,h.y+=m,h.width-=m*2,h.height-=m*2;let y={anchor:i.value,origin:o.value};function S(q){const R=new me(g),T=wt(q.anchor,w),_=wt(q.origin,R);let{x:B,y:L}=Aa(T,_);switch(q.anchor.side){case"top":L-=v.value[0];break;case"bottom":L+=v.value[0];break;case"left":B-=v.value[0];break;case"right":B+=v.value[0];break}switch(q.anchor.align){case"top":L-=v.value[1];break;case"bottom":L+=v.value[1];break;case"left":B-=v.value[1];break;case"right":B+=v.value[1];break}return R.x+=B,R.y+=L,R.width=Math.min(R.width,l.value),R.height=Math.min(R.height,c.value),{overflows:gt(R,h),x:B,y:L}}let b=0,C=0;const O={x:0,y:0},p={x:!1,y:!1};let I=-1;for(;!(I++>10);){const{x:q,y:R,overflows:T}=S(y);b+=q,C+=R,g.x+=q,g.y+=R;{const _=mt(y.anchor),B=T.x.before||T.x.after,L=T.y.before||T.y.after;let W=!1;if(["x","y"].forEach($=>{if($==="x"&&B&&!p.x||$==="y"&&L&&!p.y){const z={anchor:{...y.anchor},origin:{...y.origin}},K=$==="x"?_==="y"?Be:Ve:_==="y"?Ve:Be;z.anchor=K(z.anchor),z.origin=K(z.origin);const{overflows:se}=S(z);(se[$].before<=T[$].before&&se[$].after<=T[$].after||se[$].before+se[$].after<(T[$].before+T[$].after)/2)&&(y=z,W=p[$]=!0)}}),W)continue}T.x.before&&(b+=T.x.before,g.x+=T.x.before),T.x.after&&(b-=T.x.after,g.x-=T.x.after),T.y.before&&(C+=T.y.before,g.y+=T.y.before),T.y.after&&(C-=T.y.after,g.y-=T.y.after);{const _=gt(g,h);O.x=h.width-_.x.before-_.x.after,O.y=h.height-_.y.before-_.y.after,b+=_.x.before,g.x+=_.x.before,C+=_.y.before,g.y+=_.y.before}break}const X=mt(y.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${y.anchor.side} ${y.anchor.align}`,transformOrigin:`${y.origin.side} ${y.origin.align}`,top:ae(We(C)),left:e.isRtl.value?void 0:ae(We(b)),right:e.isRtl.value?ae(We(-b)):void 0,minWidth:ae(X==="y"?Math.min(r.value,w.width):r.value),maxWidth:ae(pt(yt(O.x,r.value===1/0?0:r.value,l.value))),maxHeight:ae(pt(yt(O.y,a.value===1/0?0:a.value,c.value)))}),{available:O,contentBox:g}}return V(()=>[i.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>d()),Ke(()=>{const w=d();if(!w)return;const{available:g,contentBox:A}=w;A.height>g.y&&requestAnimationFrame(()=>{d(),requestAnimationFrame(()=>{d()})})}),{updateLocation:d}}function We(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pt(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Ye=!0;const Ne=[];function Ra(e){!Ye||Ne.length?(Ne.push(e),Xe()):(Ye=!1,e(),Xe())}let bt=-1;function Xe(){cancelAnimationFrame(bt),bt=requestAnimationFrame(()=>{const e=Ne.shift();e&&e(),Ne.length?Xe():Ye=!0})}const Re={none:null,close:La,block:ka,reposition:_a},Ta=re({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Re}},"VOverlay-scroll-strategies");function Ma(e,t){if(!ye)return;let n;et(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=qt(),await new Promise(s=>setTimeout(s)),n.active&&n.run(()=>{var s;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(s=Re[e.scrollStrategy])==null||s.call(Re,t,e,n)}))}),le(()=>{n==null||n.stop()})}function La(e){function t(n){e.isActive.value=!1}Qt(e.targetEl.value??e.contentEl.value,t)}function ka(e,t){var r;const n=(r=e.root.value)==null?void 0:r.offsetParent,s=[...new Set([...Me(e.targetEl.value,t.contained?n:void 0),...Me(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,o=(a=>nt(a)&&a)(n||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),s.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",ae(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",ae(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",ae(i)),a.classList.add("v-overlay-scroll-blocked")}),le(()=>{s.forEach((a,l)=>{const c=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),v=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),f=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-c,a.scrollTop=-v,a.style.scrollBehavior=f}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function _a(e,t,n){let s=!1,i=-1,o=-1;function r(a){Ra(()=>{var v,f;const l=performance.now();(f=(v=e.updateLocation).value)==null||f.call(v,a),s=(performance.now()-l)/(1e3/60)>2})}o=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Qt(e.targetEl.value??e.contentEl.value,a=>{s?(cancelAnimationFrame(i),i=requestAnimationFrame(()=>{i=requestAnimationFrame(()=>{r(a)})})):r(a)})})}),le(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(o),cancelAnimationFrame(i)})}function Qt(e,t){const n=[document,...Me(e)];n.forEach(s=>{s.addEventListener("scroll",t,{passive:!0})}),le(()=>{n.forEach(s=>{s.removeEventListener("scroll",t)})})}const xa=Symbol.for("vuetify:v-menu"),qa=re({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Na(e,t){let n=()=>{};function s(r){n==null||n();const a=Number(r?e.openDelay:e.closeDelay);return new Promise(l=>{n=Tn(a,()=>{t==null||t(r),l(r)})})}function i(){return s(!0)}function o(){return s(!1)}return{clearDelay:n,runOpenDelay:i,runCloseDelay:o}}const Ia=re({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...qa()},"VOverlay-activator");function Da(e,t){let{isActive:n,isTop:s,contentEl:i}=t;const o=De("useActivator"),r=F();let a=!1,l=!1,c=!0;const v=N(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),f=N(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!v.value),{runOpenDelay:u,runCloseDelay:d}=Na(e,p=>{p===(e.openOnHover&&a||v.value&&l)&&!(e.openOnHover&&n.value&&!s.value)&&(n.value!==p&&(c=!0),n.value=p)}),w=F(),g={onClick:p=>{p.stopPropagation(),r.value=p.currentTarget||p.target,n.value||(w.value=[p.clientX,p.clientY]),n.value=!n.value},onMouseenter:p=>{var I;(I=p.sourceCapabilities)!=null&&I.firesTouchEvents||(a=!0,r.value=p.currentTarget||p.target,u())},onMouseleave:p=>{a=!1,d()},onFocus:p=>{Mn(p.target,":focus-visible")!==!1&&(l=!0,p.stopPropagation(),r.value=p.currentTarget||p.target,u())},onBlur:p=>{l=!1,p.stopPropagation(),d()}},A=N(()=>{const p={};return f.value&&(p.onClick=g.onClick),e.openOnHover&&(p.onMouseenter=g.onMouseenter,p.onMouseleave=g.onMouseleave),v.value&&(p.onFocus=g.onFocus,p.onBlur=g.onBlur),p}),m=N(()=>{const p={};if(e.openOnHover&&(p.onMouseenter=()=>{a=!0,u()},p.onMouseleave=()=>{a=!1,d()}),v.value&&(p.onFocusin=()=>{l=!0,u()},p.onFocusout=()=>{l=!1,d()}),e.closeOnContentClick){const I=Nt(xa,null);p.onClick=()=>{n.value=!1,I==null||I.closeParents()}}return p}),h=N(()=>{const p={};return e.openOnHover&&(p.onMouseenter=()=>{c&&(a=!0,c=!1,u())},p.onMouseleave=()=>{a=!1,d()}),p});V(s,p=>{var I;p&&(e.openOnHover&&!a&&(!v.value||!l)||v.value&&!l&&(!e.openOnHover||!a))&&!((I=i.value)!=null&&I.contains(document.activeElement))&&(n.value=!1)}),V(n,p=>{p||setTimeout(()=>{w.value=void 0})},{flush:"post"});const y=ht();et(()=>{y.value&&Ke(()=>{r.value=y.el})});const S=ht(),b=N(()=>e.target==="cursor"&&w.value?w.value:S.value?S.el:Jt(e.target,o)||r.value),C=N(()=>Array.isArray(b.value)?void 0:b.value);let O;return V(()=>!!e.activator,p=>{p&&ye?(O=qt(),O.run(()=>{$a(e,o,{activatorEl:r,activatorEvents:A})})):O&&O.stop()},{flush:"post",immediate:!0}),le(()=>{O==null||O.stop()}),{activatorEl:r,activatorRef:y,target:b,targetEl:C,targetRef:S,activatorEvents:A,contentEvents:m,scrimEvents:h}}function $a(e,t,n){let{activatorEl:s,activatorEvents:i}=n;V(()=>e.activator,(l,c)=>{if(c&&l!==c){const v=a(c);v&&r(v)}l&&Ke(()=>o())},{immediate:!0}),V(()=>e.activatorProps,()=>{o()}),le(()=>{r()});function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&ea(l,U(i.value,c))}function r(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&ta(l,U(i.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const c=Jt(l,t);return s.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,s.value}}function Jt(e,t){var s,i;if(!e)return;let n;if(e==="parent"){let o=(i=(s=t==null?void 0:t.proxy)==null?void 0:s.$el)==null?void 0:i.parentNode;for(;o!=null&&o.hasAttribute("data-no-activator");)o=o.parentNode;n=o}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function Va(){if(!ye)return we(!1);const{ssr:e}=Ln();if(e){const t=we(!1);return kn(()=>{t.value=!0}),t}else return we(!0)}const Ba=re({eager:Boolean},"lazy");function ja(e,t){const n=we(!1),s=N(()=>n.value||e.eager||t.value);V(t,()=>n.value=!0);function i(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:s,onAfterLeave:i}}function Zt(){const t=De("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const At=Symbol.for("vuetify:stack"),Ee=It([]);function Ua(e,t,n){const s=De("useStack"),i=!n,o=Nt(At,void 0),r=It({activeChildren:new Set});_n(At,r);const a=we(+t.value);Ze(e,()=>{var f;const v=(f=Ee.at(-1))==null?void 0:f[1];a.value=v?v+10:+t.value,i&&Ee.push([s.uid,a.value]),o==null||o.activeChildren.add(s.uid),le(()=>{if(i){const u=qn(Ee).findIndex(d=>d[0]===s.uid);Ee.splice(u,1)}o==null||o.activeChildren.delete(s.uid)})});const l=we(!0);i&&et(()=>{var f;const v=((f=Ee.at(-1))==null?void 0:f[0])===s.uid;setTimeout(()=>l.value=v)});const c=N(()=>!r.activeChildren.size);return{globalTop:xn(l),localTop:c,stackStyles:N(()=>({zIndex:a.value}))}}function Wa(e){return{teleportTarget:N(()=>{const n=e();if(n===!0||!ye)return;const s=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(s==null)return;let i=[...s.children].find(o=>o.matches(".v-overlay-container"));return i||(i=document.createElement("div"),i.className="v-overlay-container",s.appendChild(i)),i})}}function Ga(){return!0}function Kt(e,t,n){if(!e||en(e,n)===!1)return!1;const s=Bt(t);if(typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&s.host===e.target)return!1;const i=(typeof n.value=="object"&&n.value.include||(()=>[]))();return i.push(t),!i.some(o=>o==null?void 0:o.contains(e.target))}function en(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Ga)(e)}function Ha(e,t,n){const s=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Kt(e,t,n)&&setTimeout(()=>{en(e,n)&&s&&s(e)},0)}function Et(e,t){const n=Bt(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const za={mounted(e,t){const n=i=>Ha(i,e,t),s=i=>{e._clickOutside.lastMousedownWasOutside=Kt(i,e,t)};Et(e,i=>{i.addEventListener("click",n,!0),i.addEventListener("mousedown",s,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:s}},beforeUnmount(e,t){e._clickOutside&&(Et(e,n=>{var o;if(!n||!((o=e._clickOutside)!=null&&o[t.instance.$.uid]))return;const{onClick:s,onMousedown:i}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",s,!0),n.removeEventListener("mousedown",i,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Ya(e){const{modelValue:t,color:n,...s}=e;return E(Gn,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&E("div",U({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},s),null)]})}const tn=re({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ia(),...Ie(),...Tt(),...Ba(),...Ea(),...Ta(),...Mt(),...Nn()},"VOverlay"),Ct=Ce()({name:"VOverlay",directives:{ClickOutside:za},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...tn()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:s,emit:i}=t;const o=De("VOverlay"),r=F(),a=F(),l=F(),c=Dt(e,"modelValue"),v=N({get:()=>c.value,set:x=>{x&&e.disabled||(c.value=x)}}),{themeClasses:f}=Lt(e),{rtlClasses:u,isRtl:d}=In(),{hasContent:w,onAfterLeave:g}=ja(e,v),A=kt(N(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:m,localTop:h,stackStyles:y}=Ua(v,_t(e,"zIndex"),e._disableGlobalStack),{activatorEl:S,activatorRef:b,target:C,targetEl:O,targetRef:p,activatorEvents:I,contentEvents:X,scrimEvents:q}=Da(e,{isActive:v,isTop:h,contentEl:l}),{teleportTarget:R}=Wa(()=>{var Ae,ct,ft;const x=e.attach||e.contained;if(x)return x;const Q=((Ae=S==null?void 0:S.value)==null?void 0:Ae.getRootNode())||((ft=(ct=o.proxy)==null?void 0:ct.$el)==null?void 0:ft.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:T}=xt(e),_=Va(),{scopeId:B}=Zt();V(()=>e.disabled,x=>{x&&(v.value=!1)});const{contentStyles:L,updateLocation:W}=Ca(e,{isRtl:d,contentEl:l,target:C,isActive:v});Ma(e,{root:r,contentEl:l,targetEl:O,isActive:v,updateLocation:W});function $(x){i("click:outside",x),e.persistent?ue():v.value=!1}function z(x){return v.value&&m.value&&(!e.scrim||x.target===a.value||x instanceof MouseEvent&&x.shadowTarget===a.value)}ye&&V(v,x=>{x?window.addEventListener("keydown",K):window.removeEventListener("keydown",K)},{immediate:!0}),Dn(()=>{ye&&window.removeEventListener("keydown",K)});function K(x){var Q,Ae;x.key==="Escape"&&m.value&&(e.persistent?ue():(v.value=!1,(Q=l.value)!=null&&Q.contains(document.activeElement)&&((Ae=S.value)==null||Ae.focus())))}const se=$n();Ze(()=>e.closeOnBack,()=>{Hn(se,x=>{m.value&&v.value?(x(!1),e.persistent?ue():v.value=!1):x()})});const he=F();V(()=>v.value&&(e.absolute||e.contained)&&R.value==null,x=>{if(x){const Q=aa(r.value);Q&&Q!==document.scrollingElement&&(he.value=Q.scrollTop)}});function ue(){e.noClickAnimation||l.value&&Kn(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:na})}function mn(){i("afterEnter")}function yn(){g(),i("afterLeave")}return Je(()=>{var x;return E(fe,null,[(x=n.activator)==null?void 0:x.call(n,{isActive:v.value,targetRef:p,props:U({ref:b},I.value,e.activatorProps)}),_.value&&w.value&&E(Vn,{disabled:!R.value,to:R.value},{default:()=>[E("div",U({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":v.value,"v-overlay--contained":e.contained},f.value,u.value,e.class],style:[y.value,{"--v-overlay-opacity":e.opacity,top:ae(he.value)},e.style],ref:r},B,s),[E(Ya,U({color:A,modelValue:v.value&&!!e.scrim,ref:a},q.value),null),E(Bn,{appear:!0,persisted:!0,transition:e.transition,target:C.value,onAfterEnter:mn,onAfterLeave:yn},{default:()=>{var Q;return[jn(E("div",U({ref:l,class:["v-overlay__content",e.contentClass],style:[T.value,L.value]},X.value,e.contentProps),[(Q=n.default)==null?void 0:Q.call(n,{isActive:v})]),[[Un,v.value],[Wn("click-outside"),{handler:$,closeConditional:z,include:()=>[S.value]}]])]}})])]})])}),{activatorEl:S,scrimEl:a,target:C,animateClick:ue,contentEl:l,globalTop:m,localTop:h,updateLocation:W}}}),Ge=Symbol("Forwarded refs");function He(e,t){let n=e;for(;n;){const s=Reflect.getOwnPropertyDescriptor(n,t);if(s)return s;n=Object.getPrototypeOf(n)}}function Xa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return e[Ge]=n,new Proxy(e,{get(i,o){if(Reflect.has(i,o))return Reflect.get(i,o);if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const r of n)if(r.value&&Reflect.has(r.value,o)){const a=Reflect.get(r.value,o);return typeof a=="function"?a.bind(r.value):a}}},has(i,o){if(Reflect.has(i,o))return!0;if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const r of n)if(r.value&&Reflect.has(r.value,o))return!0;return!1},set(i,o,r){if(Reflect.has(i,o))return Reflect.set(i,o,r);if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,o))return Reflect.set(a.value,o,r);return!1},getOwnPropertyDescriptor(i,o){var a;const r=Reflect.getOwnPropertyDescriptor(i,o);if(r)return r;if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=He(l.value,o)??("_"in l.value?He((a=l.value._)==null?void 0:a.setupState,o):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Ge];if(!c)continue;const v=c.slice();for(;v.length;){const f=v.shift(),u=He(f.value,o);if(u)return u;const d=f.value&&f.value[Ge];d&&v.push(...d)}}}}})}const Qa=re({id:String,text:String,...zn(tn({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),ge=Ce()({name:"VTooltip",props:Qa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const s=Dt(e,"modelValue"),{scopeId:i}=Zt(),o=Yn(),r=N(()=>e.id||`v-tooltip-${o}`),a=F(),l=N(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=N(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),v=N(()=>e.transition?e.transition:s.value?"scale-transition":"fade-transition"),f=N(()=>U({"aria-describedby":r.value},e.activatorProps));return Je(()=>{const u=Ct.filterProps(e);return E(Ct,U({ref:a,class:["v-tooltip",e.class],style:e.style,id:r.value},u,{modelValue:s.value,"onUpdate:modelValue":d=>s.value=d,transition:v.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:f.value,_disableGlobalStack:!0},i),{activator:n.activator,default:function(){var A;for(var d=arguments.length,w=new Array(d),g=0;g<d;g++)w[g]=arguments[g];return((A=n.default)==null?void 0:A.call(n,...w))??e.text}})}),Xa({},a)}}),Ja={class:"tuner-note text-primary d-flex ga-1"},Za={key:0,class:"tuner-classic tuner-natural"},Ka={key:1,class:"tuner-classic tuner-semi"},er={key:0,class:"tuner-american tuner-natural"},tr={key:1,class:"tuner-american tuner-semi"},nr={class:"tuner-octave"},ar={class:"text-body-1 text-right",style:{width:"7rem"}};function rr(e,t,n,s,i,o){return P(),H(ze,{class:Oe(`d-flex flex-wrap justify-center ga-4 bg-background align-center my-4 ${e.classes}`),style:{"z-index":"100"}},{default:k(()=>[e.running?(P(),H(ge,{key:1,text:"Detener afinador",location:"start"},{activator:k(({props:r})=>[E(j,U(r,{icon:"mdi-stop",onClick:e.stopTuner}),null,16,["onClick"])]),_:1})):(P(),H(ge,{key:0,text:"Iniciar afinador",location:"start"},{activator:k(({props:r})=>[E(j,U(r,{icon:"mdi-microphone",onClick:e.startTuner,color:"primary"}),null,16,["onClick"])]),_:1})),G("div",{class:"d-flex justify-center align-center ga-3",style:$t(`opacity: ${e.badFrequency?"0.5":"1"}`)},[G("div",Ja,[e.showClassicSystem||!e.showAmericanSystem?(P(),D(fe,{key:0},[e.note.note.isNatural()?(P(),D("span",Za,Y(e.note.note.name.classic),1)):(P(),D("span",Ka,Y(e.showSemiFlats?e.showSemiSharps?e.note.note.name.classic:e.note.note.name.classic.split(" ")[1]:e.note.note.name.classic.split(" ")[0]),1))],64)):ee("",!0),e.showAmericanSystem?(P(),D(fe,{key:1},[e.note.note.isNatural()?(P(),D("span",er,Y(e.note.note.name.american),1)):(P(),D("span",tr,Y(e.showSemiFlats?e.showSemiSharps?e.note.note.name.american:e.note.note.name.american.split(" ")[1]:e.note.note.name.american.split(" ")[0]),1))],64)):ee("",!0),G("span",nr,Y(e.note.octave),1)]),G("div",ar,Y(e.frequency.toFixed(2))+" Hz ",1)],4)]),_:1},8,["class"])}const sr=be(pa,[["render",rr],["__scopeId","data-v-98050293"]]),nn=$e.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),an=$e.reduce((e,t)=>{const n="offset"+tt(t);return e[n]={type:[String,Number],default:null},e},{}),rn=$e.reduce((e,t)=>{const n="order"+tt(t);return e[n]={type:[String,Number],default:null},e},{}),Ot={col:Object.keys(nn),offset:Object.keys(an),order:Object.keys(rn)};function or(e,t,n){let s=e;if(!(n==null||n===!1)){if(t){const i=t.replace(e,"");s+=`-${i}`}return e==="col"&&(s="v-"+s),e==="col"&&(n===""||n===!0)||(s+=`-${n}`),s.toLowerCase()}}const ir=["auto","start","end","center","baseline","stretch"],lr=re({cols:{type:[Boolean,String,Number],default:!1},...nn,offset:{type:[String,Number],default:null},...an,order:{type:[String,Number],default:null},...rn,alignSelf:{type:String,default:null,validator:e=>ir.includes(e)},...Ie(),...Qe()},"VCol"),Se=Ce()({name:"VCol",props:lr(),setup(e,t){let{slots:n}=t;const s=N(()=>{const i=[];let o;for(o in Ot)Ot[o].forEach(a=>{const l=e[a],c=or(o,a,l);c&&i.push(c)});const r=i.some(a=>a.startsWith("v-col-"));return i.push({"v-col":!r||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),i});return()=>{var i;return Vt(e.tag,{class:[s.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),lt=["start","end","center"],sn=["space-between","space-around","space-evenly"];function ut(e,t){return $e.reduce((n,s)=>{const i=e+tt(s);return n[i]=t(),n},{})}const ur=[...lt,"baseline","stretch"],on=e=>ur.includes(e),ln=ut("align",()=>({type:String,default:null,validator:on})),cr=[...lt,...sn],un=e=>cr.includes(e),cn=ut("justify",()=>({type:String,default:null,validator:un})),fr=[...lt,...sn,"stretch"],fn=e=>fr.includes(e),vn=ut("alignContent",()=>({type:String,default:null,validator:fn})),Ft={align:Object.keys(ln),justify:Object.keys(cn),alignContent:Object.keys(vn)},vr={align:"align",justify:"justify",alignContent:"align-content"};function dr(e,t,n){let s=vr[e];if(n!=null){if(t){const i=t.replace(e,"");s+=`-${i}`}return s+=`-${n}`,s.toLowerCase()}}const mr=re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:on},...ln,justify:{type:String,default:null,validator:un},...cn,alignContent:{type:String,default:null,validator:fn},...vn,...Ie(),...Qe()},"VRow"),Te=Ce()({name:"VRow",props:mr(),setup(e,t){let{slots:n}=t;const s=N(()=>{const i=[];let o;for(o in Ft)Ft[o].forEach(r=>{const a=e[r],l=dr(o,r,a);l&&i.push(l)});return i.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),i});return()=>{var i;return Vt(e.tag,{class:["v-row",s.value,e.class],style:e.style},(i=n.default)==null?void 0:i.call(n))}}}),yr=ie({__name:"InstrumentSettings",props:{classes:{}},emits:["octaves","show:noteSystems","show:noteSemis","waveform"],setup(e,{emit:t}){const n=t,s=F({min:3,max:5}),i=F([M.Systems.CLASSIC,M.Systems.AMERICAN]),o=F([M.Accidentals.SHARP,M.Accidentals.FLAT]),r=F("sine");V(i,v=>{const f=v.indexOf(M.Systems.CLASSIC)!=-1,u=v.indexOf(M.Systems.AMERICAN)!=-1;n("show:noteSystems",f,u)}),V(o,v=>{const f=v.indexOf(M.Accidentals.SHARP)!=-1,u=v.indexOf(M.Accidentals.FLAT)!=-1;n("show:noteSemis",f,u)}),V(r,()=>{n("waveform",r.value)});const a=()=>{const v=s.value.max-s.value.min+1,f=Array.from(Array(v).keys()).map(u=>u+s.value.min);n("octaves",f)};a();const l=(v=!0)=>{v?s.value.min-=1:s.value.min+=1,a()},c=(v=!0)=>{v?s.value.max+=1:s.value.max-=1,a()};return(v,f)=>(P(),H(Te,{"no-gutters":"",class:Oe(`align-center px-3 mb-2 position-relative gr-1 ${v.classes}`),style:{"z-index":"20"}},{default:k(()=>[E(Se,{cols:"6",sm:"3",md:"2",class:"d-flex align-center justify-start ga-2 order-1"},{default:k(()=>[E(ge,{text:"Incluir una octava grave más",location:"top"},{activator:k(({props:u})=>[E(j,U(u,{variant:"tonal",disabled:s.value.min<=1,icon:"mdi-music-note-plus",onClick:f[0]||(f[0]=d=>l(!0))}),null,16,["disabled"])]),_:1}),E(ge,{text:"Disminuir una octava grave",location:"right"},{activator:k(({props:u})=>[E(j,U(u,{size:"small",variant:"tonal",disabled:s.value.min>=s.value.max,icon:"mdi-music-note-minus",onClick:f[1]||(f[1]=d=>l(!1))}),null,16,["disabled"])]),_:1})]),_:1}),E(Se,{cols:"12",sm:"12",md:"5",class:"d-flex justify-space-evenly order-3 order-sm-4 order-md-2"},{default:k(()=>[E(je,{multiple:"",modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=u=>i.value=u),rounded:"xl",variant:"outlined"},{default:k(()=>[E(j,{value:oe(M).Systems.CLASSIC},{default:k(()=>f[7]||(f[7]=[de("Do, Re, ...")])),_:1},8,["value"]),E(j,{value:oe(M).Systems.AMERICAN},{default:k(()=>f[8]||(f[8]=[de("C, D, ...")])),_:1},8,["value"])]),_:1},8,["modelValue"]),E(je,{multiple:"",modelValue:o.value,"onUpdate:modelValue":f[3]||(f[3]=u=>o.value=u),rounded:"xl",variant:"outlined"},{default:k(()=>[E(j,{icon:"mdi-music-accidental-sharp",value:oe(M).Accidentals.SHARP},null,8,["value"]),E(j,{icon:"mdi-music-accidental-flat",value:oe(M).Accidentals.FLAT},null,8,["value"])]),_:1},8,["modelValue"])]),_:1}),E(Se,{cols:"12",sm:"6",md:"3",class:"d-flex justify-space-evenly ga-2 order-4 order-sm-2 order-md-3"},{default:k(()=>[E(je,{modelValue:r.value,"onUpdate:modelValue":f[4]||(f[4]=u=>r.value=u),rounded:"xl",variant:"outlined"},{default:k(()=>[E(j,{icon:"mdi-sine-wave",value:"sine"}),E(j,{icon:"mdi-sawtooth-wave",value:"sawtooth"}),E(j,{icon:"mdi-square-wave",value:"square"}),E(j,{icon:"mdi-triangle-wave",value:"triangle"})]),_:1},8,["modelValue"])]),_:1}),E(Se,{cols:"6",sm:"3",md:"2",class:"d-flex align-center justify-end ga-2 order-2 order-sm-3 order-md-4"},{default:k(()=>[E(ge,{text:"Disminuir una octava aguda",location:"left"},{activator:k(({props:u})=>[E(j,U(u,{size:"small",variant:"tonal",disabled:s.value.min>=s.value.max,icon:"mdi-music-note-minus",onClick:f[5]||(f[5]=d=>c(!1))}),null,16,["disabled"])]),_:1}),E(ge,{text:"Incluir una octava aguda más",location:"top"},{activator:k(({props:u})=>[E(j,U(u,{variant:"tonal",disabled:s.value.max>=7,icon:"mdi-music-note-plus",onClick:f[6]||(f[6]=d=>c(!0))}),null,16,["disabled"])]),_:1})]),_:1})]),_:1},8,["class"]))}}),hr={listenedFrequency:0,badFrequency:!1},gr=ie({__name:"PianoKey",props:{note:{},variant:{}},emits:["pressedFrequency","pressedStopped"],setup(e,{emit:t}){const n=t,s=F(!1),i=()=>{s.value||(s.value=!0,n("pressedFrequency",e.note.frequency.main))},o=()=>{s.value&&(s.value=!1,n("pressedStopped",e.note.frequency.main))};return(r,a)=>(P(),H(j,{class:Oe(`piano-key key-${r.variant}`),onMousedown:i,onMouseup:o,onTouchstart:i,onTouchend:o},{default:k(()=>[Xn(r.$slots,"default",{},void 0,!0)]),_:3},8,["class"]))}}),dn=be(gr,[["__scopeId","data-v-1e67e62e"]]),Sr={class:"text-center"},wr={key:0},pr={key:1},br=ie({__name:"PianoKeyNatural",props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},note:{}},setup(e){return(t,n)=>(P(),H(dn,{note:t.note,variant:"white"},{default:k(()=>[G("div",Sr,[t.showClassicSystem?(P(),D("div",wr,Y(t.note.name.classic),1)):ee("",!0),t.showAmericanSystem?(P(),D("div",pr,Y(t.note.name.american),1)):ee("",!0)])]),_:1},8,["note"]))}}),Ar=be(br,[["__scopeId","data-v-59d32181"]]),Er={key:0},Cr={key:0},Or={key:1},Fr={key:1},Pr={key:0},Rr={key:1},Tr=ie({__name:"PianoKeySemiSF",props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0},note:{}},setup(e){return(t,n)=>t.note!=oe(M).EmptyNote?(P(),H(dn,{key:0,note:t.note,variant:"black"},{default:k(()=>[t.showSemiSharps?(P(),D("div",Er,[t.showClassicSystem?(P(),D("div",Cr,[de(Y(t.note.sharp.name.classic),1),n[0]||(n[0]=G("span",{class:"accidental"},"#",-1))])):ee("",!0),t.showAmericanSystem?(P(),D("div",Or,[de(Y(t.note.sharp.name.american),1),n[1]||(n[1]=G("span",{class:"accidental"},"#",-1))])):ee("",!0)])):ee("",!0),t.showSemiFlats?(P(),D("div",Fr,[t.showClassicSystem?(P(),D("div",Pr,[de(Y(t.note.flat.name.classic),1),n[2]||(n[2]=G("span",{class:"accidental"},"b",-1))])):ee("",!0),t.showAmericanSystem?(P(),D("div",Rr,[de(Y(t.note.flat.name.american),1),n[3]||(n[3]=G("span",{class:"accidental"},"b",-1))])):ee("",!0)])):ee("",!0)]),_:1},8,["note"])):(P(),H(j,{key:1,class:"key-black empty"}))}}),Mr=be(Tr,[["__scopeId","data-v-8d44301e"]]),Lr={key:0,class:"light-tail-indicator pressed"},kr=ie({__name:"PianoLightTail",props:{listenedFrequency:{default:()=>note.frequency.main},badFrequency:{type:Boolean,default:!0},note:{default:()=>M.EmptyNote},isPressed:{type:Boolean,default:!1}},emits:["key-state"],setup(e,{emit:t}){let n;(a=>{a[a.INACTIVE=0]="INACTIVE",a[a.LISTENED=2]="LISTENED",a[a.IS_BAD_LISTENED=4]="IS_BAD_LISTENED",a[a.PRESSED=8]="PRESSED",a[a.PRESSED_ANY=12]="PRESSED_ANY",a[a.LISTENED_PRESSED=10]="LISTENED_PRESSED",a[a.LISTENED_BAD=6]="LISTENED_BAD",a[a.LISTENED_PRESSED_BAD=14]="LISTENED_PRESSED_BAD"})(n||(n={}));const s=new Map([[0,"none"],[4,"none"],[2,"listened"],[8,"pressed"],[12,"pressed"],[10,"glow"],[6,"listened-bad"],[14,"pressed-bad"]]);e.note;const i=t,o=F(50),r=F(0);return V(()=>e.badFrequency,()=>{e.badFrequency?r.value|=4:r.value&=-5,i("key-state",r.value)}),V(()=>e.listenedFrequency,()=>{pe.IsOnRange(e.note.frequency.min,e.note.frequency.max,e.listenedFrequency)?r.value|=2:r.value&=-3,o.value=(r.value&2)==2?pe.Invlerp(e.note.frequency.min,e.note.frequency.max,e.listenedFrequency)*100:50,i("key-state",r.value)}),V(()=>e.isPressed,()=>{e.isPressed===!0?r.value|=8:e.isPressed===!1&&(r.value&=-9),i("key-state",r.value)}),(a,l)=>(P(),D("div",{class:Oe(`light-tail ${a.note.isNatural()?"":"shrink"} ${oe(s).get(r.value)} ${r.value}}`)},[l[2]||(l[2]=G("div",{class:"light-tail-border left"},null,-1)),G("div",{class:"light-tail-indicator listened",style:$t(`left: ${o.value}%;`)},l[0]||(l[0]=[G("div",{class:"light-tail-indicator-point"},null,-1)]),4),r.value?(P(),D("div",Lr,l[1]||(l[1]=[G("div",{class:"light-tail-indicator-point"},null,-1)]))):ee("",!0),l[3]||(l[3]=G("div",{class:"light-tail-border right"},null,-1))],2))}}),_r=be(kr,[["__scopeId","data-v-8ce3d670"]]),xr=ie({__name:"PianoOctave",props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0},listenedFrequency:{default:0},badFrequency:{type:Boolean,default:!0},octaveId:{default:()=>ce.OCTAVE_CENTRAL}},emits:["frequency-pressed","frequency-stopped"],setup(e,{emit:t}){const n=t,s=F(new Set),i=r=>{s.value.has(r)||(s.value.add(r),n("frequency-pressed",r))},o=r=>{s.value.has(r)&&(s.value.delete(r),n("frequency-stopped",r))};return(r,a)=>(P(),H(Se,{class:"position-relative rounded-lg mt-4",xs:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"3"},{default:k(()=>[E(Te,{class:"flex-nowrap piano-keys key-tails mx-0"},{default:k(()=>[(P(!0),D(fe,null,Fe(oe(ce).GetNotesAtOctave(r.octaveId),l=>(P(),H(_r,{key:l.frequency.main,note:l,"bad-frequency":r.badFrequency,"listened-frequency":r.listenedFrequency,"is-pressed":s.value.has(l.frequency.main)},null,8,["note","bad-frequency","listened-frequency","is-pressed"]))),128))]),_:1}),E(Te,{class:"flex-nowrap piano-keys white-keys"},{default:k(()=>[(P(!0),D(fe,null,Fe(oe(ce).GetNaturalsAtOctave(r.octaveId),l=>(P(),H(Ar,{note:l,"show-classic-system":r.showClassicSystem,"show-american-system":r.showAmericanSystem,onPressedFrequency:i,onPressedStopped:o},null,8,["note","show-classic-system","show-american-system"]))),256))]),_:1}),E(Te,{class:"flex-nowrap piano-keys black-keys mt-6"},{default:k(()=>[(P(!0),D(fe,null,Fe(oe(ce).GetSemisAtOctave(r.octaveId),l=>(P(),H(Mr,{note:l,"show-classic-system":r.showClassicSystem,"show-american-system":r.showAmericanSystem,"show-semi-sharps":r.showSemiSharps,"show-semi-flats":r.showSemiFlats,onPressedFrequency:i,onPressedStopped:o},null,8,["note","show-classic-system","show-american-system","show-semi-sharps","show-semi-flats"]))),256))]),_:1}),E(Se,{cols:"12",class:"piano-octave-id"},{default:k(()=>[de(Y(r.octaveId),1)]),_:1})]),_:1}))}}),qr=be(xr,[["__scopeId","data-v-c73b83e5"]]),Nr=ie({__name:"Piano",props:Qn({activeOctaves:{},waveform:{},showClassicSystem:{type:Boolean},showAmericanSystem:{type:Boolean},showSemiSharps:{type:Boolean},showSemiFlats:{type:Boolean},listenedFrequency:{},badFrequency:{type:Boolean},classes:{}},{waveform:"sine",...hr}),setup(e){const t=e;let n=null;const s=new Map,i=r=>{if(n==null&&(n=new(AudioContext||window.AudioContext||window.webkitAudioContext),n==null))return;let a=n.createGain(),l=n.createOscillator();l&&(l.type=t.waveform??"sine",l.frequency.setValueAtTime(r,n.currentTime),a?(a.gain.setValueAtTime(1,n.currentTime),l.connect(a),a.connect(n.destination)):l.connect(n.destination),l.start(),s.set(r,{oscillator:l,gainNode:a}))},o=r=>{let a=s.get(r);if(a&&a.oscillator)if(a.gainNode){const l=(n==null?void 0:n.currentTime)??0;a.gainNode.gain.setValueAtTime(a.gainNode.gain.value,l),a.gainNode.gain.exponentialRampToValueAtTime(1e-4,l+.05),a.oscillator.stop(l+.06),setTimeout(()=>{s.delete(r)},75)}else a.oscillator.stop()};return(r,a)=>(P(),H(ze,{class:Oe(`bg-background ${r.classes}`)},{default:k(()=>[E(ze,{class:"d-flex flex-wrap justify-center align-center ga-0 position-relative pa-2 pt-10",style:{"z-index":"10"}},{default:k(()=>[(P(!0),D(fe,null,Fe(r.activeOctaves,l=>(P(),H(qr,{octaveId:l,"listened-frequency":r.listenedFrequency,"bad-frequency":r.badFrequency,"show-classic-system":r.showClassicSystem,"show-american-system":r.showAmericanSystem,"show-semi-sharps":r.showSemiSharps,"show-semi-flats":r.showSemiFlats,onFrequencyPressed:i,onFrequencyStopped:o},null,8,["octaveId","listened-frequency","bad-frequency","show-classic-system","show-american-system","show-semi-sharps","show-semi-flats"]))),256))]),_:1})]),_:1},8,["class"]))}}),Vr=ie({__name:"Home",setup(e){const t=F(!1),n=F(0),s=F(!0),i=F({note:M.EmptyNote,octave:-1}),o=F(!0),r=F(!0),a=F(!0),l=F(!0),c=F([]),v=F("sine");return(f,u)=>(P(),D(fe,null,[E(sr,{ref:"tunerRef",classes:"order-1 order-md-1 position-sticky top-0","show-american-system":r.value,"show-classic-system":o.value,"show-semi-sharps":a.value,"show-semi-flats":l.value,"onUpdate:frequency":u[0]||(u[0]=d=>n.value=d),"onUpdate:note":u[1]||(u[1]=d=>i.value=d),"onUpdate:badFrequency":u[2]||(u[2]=d=>s.value=d),onIsRunning:u[3]||(u[3]=d=>t.value=d)},null,8,["show-american-system","show-classic-system","show-semi-sharps","show-semi-flats"]),E(yr,{classes:"order-3 order-md-2",onOctaves:u[4]||(u[4]=d=>{c.value=d}),"onShow:noteSystems":u[5]||(u[5]=(d,w)=>{o.value=d,r.value=w}),"onShow:noteSemis":u[6]||(u[6]=(d,w)=>{a.value=d,l.value=w}),onWaveform:u[7]||(u[7]=d=>{d&&(v.value=d)})}),E(Nr,{classes:"order-2 order-md-3","active-octaves":c.value,waveform:v.value,showAmericanSystem:r.value,showClassicSystem:o.value,showSemiSharps:a.value,showSemiFlats:l.value,"listened-frequency":n.value,"bad-frequency":s.value},null,8,["active-octaves","waveform","showAmericanSystem","showClassicSystem","showSemiSharps","showSemiFlats","listened-frequency","bad-frequency"])],64))}});export{Vr as default};

var yn=Object.defineProperty;var hn=(e,t,n)=>t in e?yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var K=(e,t,n)=>hn(e,typeof t!="symbol"?t+"":t,n);import{c as Q}from"./_commonjsHelpers-Cpj98o6Y.js";import{i as Mt,e as Rt,g as we,c as Ne,a as gn,m as Ce,h as Ke,d as ce,r as F,p as re,b as Sn,f as xt,j as wn,k as pn,l as bn,n as An,o as Qe,q as Lt,s as kt,u as Tt,t as Nt,v as Cn,w as It,x as En,y as On,z as Fn,A as Pn,B as Je,C,I as me,D as Ze,E as W,F as se,G as _n,H as vt,J as $e,K as De,L as dt,M as N,N as et,O as mt,P as ne,Q as yt,R as tt,S as qt,T as Mn,U as Ie,V as $t,W as ht,X as j,Y as Rn,Z as ge,_ as xn,$ as Ln,a0 as Dt,a1 as kn,a2 as Tn,a3 as Nn,a4 as In,a5 as Vt,a6 as qn,a7 as $n,a8 as Dn,a9 as Vn,aa as jn,ab as Bn,ac as Wn,ad as Un,ae as Ae,af as Hn,ag as Gn,ah as zn,ai as Yn,aj as Ee,ak as R,al as z,am as q,an as G,ao as B,ap as V,aq as Ge,ar as Z,as as ae,at as le,au as ve,av as Xn,aw as qe,ax as Oe,ay as gt,az as Kn}from"./index-ByLY5PzT.js";class de{constructor(t){let{x:n,y:a,width:r,height:o}=t;this.x=n,this.y=a,this.width=r,this.height=o}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function St(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Qn(e){return Array.isArray(e)?new de({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Jn(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),a=n.transform;if(a){let r,o,i,s,l;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=+r[0],i=+r[5],s=+r[12],l=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=+r[0],i=+r[3],s=+r[4],l=+r[5];else return new de(t);const u=n.transformOrigin,c=t.x-s-(1-o)*parseFloat(u),v=t.y-l-(1-i)*parseFloat(u.slice(u.indexOf(" ")+1)),f=o?t.width/o:e.offsetWidth+1,g=i?t.height/i:e.offsetHeight+1;return new de({x:c,y:v,width:f,height:g})}else return new de(t)}function Zn(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let a;try{a=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof a.finished>"u"&&(a.finished=new Promise(r=>{a.onfinish=()=>{r(a)}})),a}const Fe=new WeakMap;function ea(e,t){Object.keys(t).forEach(n=>{if(Mt(n)){const a=Rt(n),r=Fe.get(e);if(t[n]==null)r==null||r.forEach(o=>{const[i,s]=o;i===a&&(e.removeEventListener(a,s),r.delete(o))});else if(!r||![...r].some(o=>o[0]===a&&o[1]===t[n])){e.addEventListener(a,t[n]);const o=r||new Set;o.add([a,t[n]]),Fe.has(e)||Fe.set(e,o)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function ta(e,t){Object.keys(t).forEach(n=>{if(Mt(n)){const a=Rt(n),r=Fe.get(e);r==null||r.forEach(o=>{const[i,s]=o;i===a&&(e.removeEventListener(a,s),r.delete(o))})}else e.removeAttribute(n)})}function na(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return we()({name:n??Ne(gn(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ce()},setup(a,r){let{slots:o}=r;return()=>{var i;return Ke(a.tag,{class:[e,a.class],style:a.style},(i=o.default)==null?void 0:i.call(o))}}})}function jt(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const aa="cubic-bezier(0.4, 0, 0.2, 1)";function ra(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?oa(e):nt(e))return e;e=e.parentElement}return document.scrollingElement}function _e(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(nt(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function nt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function oa(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function sa(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}var fe={},at={},Me=Q&&Q.__assign||function(){return Me=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Me.apply(this,arguments)};Object.defineProperty(at,"__esModule",{value:!0});var ia={threshold:.1,sampleRate:44100,probabilityThreshold:.1};function la(e){e===void 0&&(e={});var t=Me(Me({},ia),e),n=t.threshold,a=t.sampleRate,r=t.probabilityThreshold;return function(i){var s;for(s=1;s<i.length;s*=2);s/=2;for(var l=s/2,u=new Float32Array(l),c=0,v,f=0;f<l;f++)u[f]=0;for(var f=1;f<l;f++)for(var g=0;g<l;g++){var p=i[g]-i[g+f];u[f]+=p*p}u[0]=1,u[1]=1;for(var h=0,f=1;f<l;f++)h+=u[f],u[f]*=f/h;for(v=2;v<l;v++)if(u[v]<n){for(;v+1<l&&u[v+1]<u[v];)v++;c=1-u[v];break}if(v===l||u[v]>=n||c<r)return null;var b,d,m;if(v<1?d=v:d=v-1,v+1<l?m=v+1:m=v,d===v)u[v]<=u[m]?b=v:b=m;else if(m===v)u[v]<=u[d]?b=v:b=d;else{var y=u[d],S=u[v],A=u[m];b=v+(A-y)/(2*(2*S-A-y))}return a/b}}at.YIN=la;var rt={},Re=Q&&Q.__assign||function(){return Re=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Re.apply(this,arguments)};Object.defineProperty(rt,"__esModule",{value:!0});var ua={sampleRate:44100,minFrequency:82,maxFrequency:1e3,ratio:5,sensitivity:.1};function ca(e){e===void 0&&(e={});var t=Re(Re({},ua),e),n=t.sampleRate,a=t.minFrequency,r=t.maxFrequency,o=t.sensitivity,i=t.ratio,s=[],l=Math.ceil(n/a),u=Math.floor(n/r);return function(v){var f=v.length,g=0,p=1/0,h=-1/0,b,d,m,y,S,A,E,O;for(y=0;y<f;y++)if(u<=y&&y<=l){for(E=0,O=y,g=0,b=[],d=[];E<f-y;g++,O++,E++)b[g]=v[E],d[g]=v[O];var w=b.length;for(m=[],A=0;A<w;A++)m[A]=b[A]-d[A];var I=0;for(A=0;A<w;A++)I+=Math.abs(m[A]);s[y]=I}for(S=u;S<l;S++)s[S]<p&&(p=s[S]),s[S]>h&&(h=s[S]);var Y=Math.round(o*(h-p)+p);for(S=u;S<=l&&s[S]>Y;S++);var T=u/2;p=s[S];var P=S;for(y=S-1;y<S+T&&y<=l;y++)s[y]<p&&(p=s[y],P=y);return Math.round(s[P]*i)<h?n/P:null}}rt.AMDF=ca;var ot={},xe=Q&&Q.__assign||function(){return xe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xe.apply(this,arguments)};Object.defineProperty(ot,"__esModule",{value:!0});var wt={sampleRate:44100};function fa(e){e===void 0&&(e=wt);var t=xe(xe({},wt),e),n=t.sampleRate;return function(r){var o=r.length,i=0,s,l,u,c;for(s=0;s<o;s++)c=r[s],i+=c*c;if(i=Math.sqrt(i/o),i<.01)return-1;var v=0,f=o-1,g=.2;for(s=0;s<o/2;s++)if(Math.abs(r[s])<g){v=s;break}for(s=1;s<o/2;s++)if(Math.abs(r[o-s])<g){f=o-s;break}var p=r.slice(v,f),h=p.length,b=new Array(h).fill(0);for(s=0;s<h;s++)for(l=0;l<h-s;l++)b[s]=b[s]+p[l]*p[l+s];for(u=0;b[u]>b[u+1];)u++;var d=-1,m=-1;for(s=u;s<h;s++)b[s]>d&&(d=b[s],m=s);var y=m,S=b[y-1],A=b[y],E=b[y+1],O=(S+E-2*A)/2,w=(E-S)/2;return O&&(y=y-w/(2*O)),n/y}}ot.ACF2PLUS=fa;var st={},Le=Q&&Q.__assign||function(){return Le=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Le.apply(this,arguments)};Object.defineProperty(st,"__esModule",{value:!0});var va=6,da=3e3,ma=3,ya=.75,ha={sampleRate:44100};function ga(e){e===void 0&&(e={});var t=Le(Le({},ha),e),n=t.sampleRate;return function(r){for(var o=[],i=[],s=r.length,l=null,u=0,c=0,v=0,f=0;f<s;f++){var g=r[f];u=u+g,v=Math.max(v,g),c=Math.min(c,g)}u/=s,c-=u,v-=u;for(var p=v>-1*c?v:-1*c,h=p*ya,b=0,d=-1,m=r.length,y,S,A;y=~~(n/(Math.pow(2,b)*da)),!(m<2);){var E=void 0,O=-1e3,w=-1e6,I=-1e6,Y=!1,T=!1;A=0,S=0;for(var f=2;f<m;f++){var P=r[f]-u,_=r[f-1]-u;_<=0&&P>0&&(Y=!0),_>=0&&P<0&&(T=!0),E=P-_,O>-1e3&&(T&&O<0&&E>=0&&Math.abs(P)>=h&&f>w+y&&(o[A++]=f,w=f,T=!1),Y&&O>0&&E<=0&&Math.abs(P)>=h&&f>I+y&&(i[S++]=f,I=f,Y=!1)),O=E}if(A===0&&S===0)break;for(var L=void 0,D=[],f=0;f<m;f++)D[f]=0;for(var f=0;f<A;f++)for(var x=1;x<ma;x++)f+x<A&&(L=Math.abs(o[f]-o[f+x]),D[L]+=1);for(var U=-1,$=-1,f=0;f<m;f++){for(var H=0,x=-1*y;x<=y;x++)f+x>=0&&f+x<m&&(H+=D[f+x]);H===$?f===2*U&&(U=f):H>$&&($=H,U=f)}for(var J=0,oe=0,x=-y;x<=y;x++)if(U+x>=0&&U+x<s){var ye=D[U+x];ye>0&&(oe+=ye,J+=(U+x)*ye)}if(J/=oe,d>-1&&Math.abs(J*2-d)<=2*y){l=n/(Math.pow(2,b-1)*d);break}if(d=J,b++,b>=va||m<2)break;var ie=r.subarray(0);m===D.length&&(ie=new Float32Array(m/2));for(var f=0;f<m/2;f++)ie[f]=(r[2*f]+r[2*f+1])/2;r=ie,m/=2}return l}}st.DynamicWavelet=ga;var it={},ke=Q&&Q.__assign||function(){return ke=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ke.apply(this,arguments)};Object.defineProperty(it,"__esModule",{value:!0});var Sa={bufferSize:1024,cutoff:.97,sampleRate:44100};function wa(e){e===void 0&&(e={});var t=ke(ke({},Sa),e),n=t.bufferSize,a=t.cutoff,r=t.sampleRate,o=.5,i=80,s=new Float32Array(n),l=new Float32Array(n),u,c,v=[],f=[],g=[];function p(d){var m,y;l[0]=d[0]*d[0];for(var S=1;S<d.length;S+=1)l[S]=d[S]*d[S]+l[S-1];for(var A=0;A<d.length;A++){m=0,y=l[d.length-1-A]+l[d.length-1]-l[A];for(var S=0;S<d.length-A;S++)m+=d[S]*d[S+A];s[A]=2*m/y}}function h(d){var m=s[d-1],y=s[d],S=s[d+1],A=d,E=S+m-2*y;if(E===0)u=A,c=y;else{var O=m-S;u=A+O/(2*E),c=y-O*O/(8*E)}}function b(){for(var d=0,m=0;d<(s.length-1)/3&&s[d]>0;)d++;for(;d<s.length-1&&s[d]<=0;)d++;for(d==0&&(d=1);d<s.length-1;)if(s[d]>s[d-1]&&s[d]>=s[d+1]&&(m==0||s[d]>s[m])&&(m=d),d++,d<s.length-1&&s[d]<=0)for(m>0&&(v.push(m),m=0);d<s.length-1&&s[d]<=0;)d++;m>0&&v.push(m)}return function(m){var y;v=[],f=[],g=[],p(m),b();for(var S=-1/0,A=0;A<v.length;A++){var E=v[A];S=Math.max(S,s[E]),s[E]>o&&(h(E),g.push(c),f.push(u),S=Math.max(S,c))}if(f.length){for(var O=a*S,w=0,A=0;A<g.length;A++)if(g[A]>=O){w=A;break}var I=f[w],Y=r/I;Y>i?y=Y:y=-1}else y=-1;return{probability:S,freq:y}}}it.Macleod=wa;var Bt={};(function(e){var t=Q&&Q.__assign||function(){return t=Object.assign||function(r){for(var o,i=1,s=arguments.length;i<s;i++){o=arguments[i];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])}return r},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FREQUENCIES_PARAMS={tempo:120,quantization:4,sampleRate:44100};function n(r,o){var i=r.map(function(g){return g(o)}).filter(function(g){return g!==null}).sort(function(g,p){return g-p});if(i.length===1)return i[0];if(i.length===2){var s=i[0],l=i[1];return s*2>l?Math.sqrt(s*l):s}else{var s=i[0],l=i[1],u=i[i.length-2],c=i[i.length-1],v=s*2>l?i:i.slice(1),f=u*2>c?v:v.slice(0,-1);return Math.pow(f.reduce(function(h,b){return h*b},1),1/f.length)}}function a(r,o,i){i===void 0&&(i={});var s=t(t({},e.DEFAULT_FREQUENCIES_PARAMS),i),l=s.tempo,u=s.quantization,c=s.sampleRate,v=o.length,f=Math.round(c*60/(u*l)),g;Array.isArray(r)?g=n.bind(null,r):g=r;for(var p=[],h=0,b=v-f;h<=b;h+=f){var d=o.slice(h,h+f),m=g(d);p.push(m)}return p}e.frequencies=a})(Bt);Object.defineProperty(fe,"__esModule",{value:!0});var Wt=at;fe.YIN=Wt.YIN;var Ut=rt;fe.AMDF=Ut.AMDF;var Ht=ot;fe.ACF2PLUS=Ht.ACF2PLUS;var Gt=st;fe.DynamicWavelet=Gt.DynamicWavelet;var zt=it;fe.Macleod=zt.Macleod;var Yt=Bt;fe.frequencies=Yt.frequencies;var pa=fe.default={YIN:Wt.YIN,AMDF:Ut.AMDF,ACF2PLUS:Ht.ACF2PLUS,DynamicWavelet:Gt.DynamicWavelet,Macleod:zt.Macleod,frequencies:Yt.frequencies};const te=class te{};K(te,"IsOnRange",(t,n,a)=>a<n&&a>t),K(te,"Clamp",(t,n=0,a=1)=>Math.min(a,Math.max(n,t))),K(te,"Lerp",(t,n,a)=>t*(1-a)+n*a),K(te,"Invlerp",(t,n,a)=>te.Clamp((a-t)/(n-t))),K(te,"ToRange",(t,n,a,r=0,o=1)=>te.Lerp(r,o,te.Invlerp(n,a,t)));let Se=te;class M{constructor(t,n,a){K(this,"$natural",!0);K(this,"name",{classic:M.Classic.ENotes.NONE,american:M.American.ENotes.NONE});K(this,"frequency",{main:0,min:0,max:0});K(this,"isNatural",()=>this.$natural);this.frequency.main=t,n&&(this.name.classic=n),a&&(this.name.american=a)}}class ee extends M{constructor(n,a=M.Classic.ENotes.NONE,r=M.American.ENotes.NONE){super(n,a,r);K(this,"sharp",M.EmptyNote);K(this,"flat",M.EmptyNote);this.$natural=!1}}(e=>{(o=>{o[o.CLASSIC=0]="CLASSIC",o[o.AMERICAN=1]="AMERICAN"})(e.Systems||(e.Systems={})),(o=>{o[o.SHARP=0]="SHARP",o[o.FLAT=1]="FLAT",o[o.NATURAL=2]="NATURAL",o[o.DOUBLE_SHARP=3]="DOUBLE_SHARP",o[o.DOUBLE_FLAT=4]="DOUBLE_FLAT"})(e.Accidentals||(e.Accidentals={})),(o=>{(i=>{i.NONE="?",i.DO="DO",i.DOS_REF="DO# REb",i.RE="RE",i.RES_MIF="RE# MIb",i.MI="MI",i.FA="FA",i.FAS_SOLF="FA# SOLb",i.SOL="SOL",i.SOLS_LAF="SOL# LAb",i.LA="LA",i.LAS_SIF="LA# SIb",i.SI="SI"})(o.ENotes||(o.ENotes={}))})(e.Classic||(e.Classic={})),(o=>{(i=>{i.NONE="?",i.C="C",i.CS_DF="C# Db",i.D="D",i.DS_EF="D# Eb",i.E="E",i.F="F",i.FS_GF="F# Gb",i.G="G",i.GS_AF="G# Ab",i.A="A",i.AS_BF="A# Bb",i.B="B"})(o.ENotes||(o.ENotes={}))})(e.American||(e.American={}));let t=[new e(261.63,"DO","C"),new ee(277.18,"DO# REb","C# Db"),new e(293.66,"RE","D"),new ee(311.13,"RE# MIb","D# Eb"),new e(329.63,"MI","E"),new e(349.23,"FA","F"),new ee(369.99,"FA# SOLb","F# Gb"),new e(392,"SOL","G"),new ee(415.3,"SOL# LAb","G# Ab"),new e(440,"LA","A"),new ee(466.16,"LA# SIb","A# Bb"),new e(493.88,"SI","B")];e.Notes=t,e.EmptyNote=new ee(0);let n=[],a=[];const r=(o,i)=>Math.sqrt(o*i);e.FillMedFrequencys=(o,i,s)=>{for(let l=0;l<o.length;l++){{const u=l>0?o[l-1].frequency.main:o[o.length-1].frequency.main/2;o[l].frequency.min=r(u,o[l].frequency.main)}{const u=l<o.length-1?o[l+1].frequency.main:o[0].frequency.main*2;o[l].frequency.max=r(o[l].frequency.main,u)}o[l]instanceof ee?(o[l].sharp=o[l-1],o[l].flat=o[l+1],s.push(o[l])):(i.push(o[l]),l<o.length-1&&!(o[l+1]instanceof ee)&&s.push(e.EmptyNote))}},(0,e.FillMedFrequencys)(t,n,a),e.Naturals=n,e.Semis=a})(M||(M={}));var ue;(e=>{e.OCTAVE_CENTRAL=4,e.OCTAVE_RANGE={MIN:1,MAX:7};const t=(l,u)=>l/Math.pow(2,u),n=(l,u)=>l*Math.pow(2,u),a=(l,u)=>l==e.OCTAVE_CENTRAL?u:l<e.OCTAVE_CENTRAL?t(u,e.OCTAVE_CENTRAL-l):n(u,l-e.OCTAVE_CENTRAL);let r=[],o=[],i=[];for(let l=e.OCTAVE_RANGE.MIN;l<=e.OCTAVE_RANGE.MAX;l++){let u=[],c=[],v=[];M.Notes.forEach(f=>{const g=a(l,f.frequency.main);let p;f instanceof ee?p=new ee(g,f.name.classic,f.name.american):p=new M(g,f.name.classic,f.name.american),u.push(p)}),M.FillMedFrequencys(u,c,v),r.push(u),o.push(c),i.push(v)}const s=l=>Se.Clamp(l,e.OCTAVE_RANGE.MIN,e.OCTAVE_RANGE.MAX)-e.OCTAVE_RANGE.MIN;e.GetNotesAtOctave=l=>r[s(l)],e.GetNaturalsAtOctave=l=>o[s(l)],e.GetSemisAtOctave=l=>i[s(l)]})(ue||(ue={}));const ba=ce({name:"Tuner",emits:["update:frequency","update:note","is-running"],props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0}},setup(e,{emit:t,expose:n}){const a=F(null),r=F(null),o=F(0),i=F({note:M.EmptyNote,octave:0}),s=F(!1),l=F(null),u=F(new Date),c=500,v=pa.YIN(),f=b=>{const y=Math.round(12*(Math.log(b/440)/Math.log(2)))+69,S=y%12,A=Math.floor(y/12)-1;if(Se.IsOnRange(ue.OCTAVE_RANGE.MIN,ue.OCTAVE_RANGE.MAX,A)){const E=M.Notes[S];return u.value=new Date,{note:E,octave:A}}return new Date().getTime()-u.value.getTime()<c&&i.value.note instanceof M?{note:i.value.note,octave:i.value.octave}:{note:M.EmptyNote,octave:-1}},g=()=>{if(!r.value||!a.value||!s.value)return;const b=r.value.fftSize,d=new Float32Array(b);r.value.getFloatTimeDomainData(d);const m=v(d);m&&(o.value=m,i.value=f(m),t("update:frequency",m),t("update:note",i.value)),requestAnimationFrame(g)},p=async()=>{if(s.value)return;a.value=new AudioContext,r.value=a.value.createAnalyser(),r.value.fftSize=2048,l.value=await navigator.mediaDevices.getUserMedia({audio:!0}),a.value.createMediaStreamSource(l.value).connect(r.value),s.value=!0,t("is-running",!0),g()},h=()=>{a.value&&a.value.close(),s.value=!1,t("is-running",!1),l.value!=null&&l.value.getTracks().forEach(b=>{b.stop()})};return n({startTuner:p,stopTuner:h}),{frequency:o,note:i,startTuner:p,stopTuner:h,running:s}}}),Aa=re({color:String,...Sn(),...Ce(),...xt(),...wn(),...pn(),...bn(),...An(),...Qe(),...Lt()},"VSheet"),ze=we()({name:"VSheet",props:Aa(),setup(e,t){let{slots:n}=t;const{themeClasses:a}=kt(e),{backgroundColorClasses:r,backgroundColorStyles:o}=Tt(Nt(e,"color")),{borderClasses:i}=Cn(e),{dimensionStyles:s}=It(e),{elevationClasses:l}=En(e),{locationStyles:u}=On(e),{positionClasses:c}=Fn(e),{roundedClasses:v}=Pn(e);return Je(()=>C(e.tag,{class:["v-sheet",a.value,r.value,i.value,l.value,c.value,v.value,e.class],style:[o.value,s.value,u.value,e.style]},n)),{}}});function Ve(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Ca(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pt(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:a}=e,r=a==="left"?0:a==="center"?t.width/2:a==="right"?t.width:a,o=n==="top"?0:n==="bottom"?t.height:n;return Ve({x:r,y:o},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:a}=e,r=n==="left"?0:n==="right"?t.width:n,o=a==="top"?0:a==="center"?t.height/2:a==="bottom"?t.height:a;return Ve({x:r,y:o},t)}return Ve({x:t.width/2,y:t.height/2},t)}const Xt={static:Fa,connected:_a},Ea=re({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Xt},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Oa(e,t){const n=F({}),a=F();me&&Ze(()=>!!(t.isActive.value&&e.locationStrategy),o=>{var i,s;W(()=>e.locationStrategy,o),se(()=>{window.removeEventListener("resize",r),a.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?a.value=(i=e.locationStrategy(t,e,n))==null?void 0:i.updateLocation:a.value=(s=Xt[e.locationStrategy](t,e,n))==null?void 0:s.updateLocation});function r(o){var i;(i=a.value)==null||i.call(a,o)}return{contentStyles:n,updateLocation:a}}function Fa(){}function Pa(e,t){const n=Jn(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function _a(e,t,n){(Array.isArray(e.target.value)||sa(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:o}=_n(()=>{const p=vt(t.location,e.isRtl.value),h=t.origin==="overlap"?p:t.origin==="auto"?$e(p):vt(t.origin,e.isRtl.value);return p.side===h.side&&p.align===De(h).align?{preferredAnchor:dt(p),preferredOrigin:dt(h)}:{preferredAnchor:p,preferredOrigin:h}}),[i,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(p=>N(()=>{const h=parseFloat(t[p]);return isNaN(h)?1/0:h})),c=N(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const p=t.offset.split(" ").map(parseFloat);return p.length<2&&p.push(0),p}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let v=!1;const f=new ResizeObserver(()=>{v&&g()});W([e.target,e.contentEl],(p,h)=>{let[b,d]=p,[m,y]=h;m&&!Array.isArray(m)&&f.unobserve(m),b&&!Array.isArray(b)&&f.observe(b),y&&f.unobserve(y),d&&f.observe(d)},{immediate:!0}),se(()=>{f.disconnect()});function g(){if(v=!1,requestAnimationFrame(()=>v=!0),!e.target.value||!e.contentEl.value)return;const p=Qn(e.target.value),h=Pa(e.contentEl.value,e.isRtl.value),b=_e(e.contentEl.value),d=12;b.length||(b.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(h.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),h.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const m=b.reduce((T,P)=>{const _=P.getBoundingClientRect(),L=new de({x:P===document.documentElement?0:_.x,y:P===document.documentElement?0:_.y,width:P.clientWidth,height:P.clientHeight});return T?new de({x:Math.max(T.left,L.left),y:Math.max(T.top,L.top),width:Math.min(T.right,L.right)-Math.max(T.left,L.left),height:Math.min(T.bottom,L.bottom)-Math.max(T.top,L.top)}):L},void 0);m.x+=d,m.y+=d,m.width-=d*2,m.height-=d*2;let y={anchor:r.value,origin:o.value};function S(T){const P=new de(h),_=pt(T.anchor,p),L=pt(T.origin,P);let{x:D,y:x}=Ca(_,L);switch(T.anchor.side){case"top":x-=c.value[0];break;case"bottom":x+=c.value[0];break;case"left":D-=c.value[0];break;case"right":D+=c.value[0];break}switch(T.anchor.align){case"top":x-=c.value[1];break;case"bottom":x+=c.value[1];break;case"left":D-=c.value[1];break;case"right":D+=c.value[1];break}return P.x+=D,P.y+=x,P.width=Math.min(P.width,l.value),P.height=Math.min(P.height,u.value),{overflows:St(P,m),x:D,y:x}}let A=0,E=0;const O={x:0,y:0},w={x:!1,y:!1};let I=-1;for(;!(I++>10);){const{x:T,y:P,overflows:_}=S(y);A+=T,E+=P,h.x+=T,h.y+=P;{const L=mt(y.anchor),D=_.x.before||_.x.after,x=_.y.before||_.y.after;let U=!1;if(["x","y"].forEach($=>{if($==="x"&&D&&!w.x||$==="y"&&x&&!w.y){const H={anchor:{...y.anchor},origin:{...y.origin}},J=$==="x"?L==="y"?De:$e:L==="y"?$e:De;H.anchor=J(H.anchor),H.origin=J(H.origin);const{overflows:oe}=S(H);(oe[$].before<=_[$].before&&oe[$].after<=_[$].after||oe[$].before+oe[$].after<(_[$].before+_[$].after)/2)&&(y=H,U=w[$]=!0)}}),U)continue}_.x.before&&(A+=_.x.before,h.x+=_.x.before),_.x.after&&(A-=_.x.after,h.x-=_.x.after),_.y.before&&(E+=_.y.before,h.y+=_.y.before),_.y.after&&(E-=_.y.after,h.y-=_.y.after);{const L=St(h,m);O.x=m.width-L.x.before-L.x.after,O.y=m.height-L.y.before-L.y.after,A+=L.x.before,h.x+=L.x.before,E+=L.y.before,h.y+=L.y.before}break}const Y=mt(y.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${y.anchor.side} ${y.anchor.align}`,transformOrigin:`${y.origin.side} ${y.origin.align}`,top:ne(je(E)),left:e.isRtl.value?void 0:ne(je(A)),right:e.isRtl.value?ne(je(-A)):void 0,minWidth:ne(Y==="y"?Math.min(i.value,p.width):i.value),maxWidth:ne(bt(yt(O.x,i.value===1/0?0:i.value,l.value))),maxHeight:ne(bt(yt(O.y,s.value===1/0?0:s.value,u.value)))}),{available:O,contentBox:h}}return W(()=>[r.value,o.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>g()),et(()=>{const p=g();if(!p)return;const{available:h,contentBox:b}=p;b.height>h.y&&requestAnimationFrame(()=>{g(),requestAnimationFrame(()=>{g()})})}),{updateLocation:g}}function je(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function bt(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Ye=!0;const Te=[];function Ma(e){!Ye||Te.length?(Te.push(e),Xe()):(Ye=!1,e(),Xe())}let At=-1;function Xe(){cancelAnimationFrame(At),At=requestAnimationFrame(()=>{const e=Te.shift();e&&e(),Te.length?Xe():Ye=!0})}const Pe={none:null,close:La,block:ka,reposition:Ta},Ra=re({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Pe}},"VOverlay-scroll-strategies");function xa(e,t){if(!me)return;let n;tt(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=qt(),await new Promise(a=>setTimeout(a)),n.active&&n.run(()=>{var a;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(a=Pe[e.scrollStrategy])==null||a.call(Pe,t,e,n)}))}),se(()=>{n==null||n.stop()})}function La(e){function t(n){e.isActive.value=!1}Kt(e.targetEl.value??e.contentEl.value,t)}function ka(e,t){var i;const n=(i=e.root.value)==null?void 0:i.offsetParent,a=[...new Set([..._e(e.targetEl.value,t.contained?n:void 0),..._e(e.contentEl.value,t.contained?n:void 0)])].filter(s=>!s.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,o=(s=>nt(s)&&s)(n||document.documentElement);o&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((s,l)=>{s.style.setProperty("--v-body-scroll-x",ne(-s.scrollLeft)),s.style.setProperty("--v-body-scroll-y",ne(-s.scrollTop)),s!==document.documentElement&&s.style.setProperty("--v-scrollbar-offset",ne(r)),s.classList.add("v-overlay-scroll-blocked")}),se(()=>{a.forEach((s,l)=>{const u=parseFloat(s.style.getPropertyValue("--v-body-scroll-x")),c=parseFloat(s.style.getPropertyValue("--v-body-scroll-y")),v=s.style.scrollBehavior;s.style.scrollBehavior="auto",s.style.removeProperty("--v-body-scroll-x"),s.style.removeProperty("--v-body-scroll-y"),s.style.removeProperty("--v-scrollbar-offset"),s.classList.remove("v-overlay-scroll-blocked"),s.scrollLeft=-u,s.scrollTop=-c,s.style.scrollBehavior=v}),o&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Ta(e,t,n){let a=!1,r=-1,o=-1;function i(s){Ma(()=>{var c,v;const l=performance.now();(v=(c=e.updateLocation).value)==null||v.call(c,s),a=(performance.now()-l)/(1e3/60)>2})}o=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{n.run(()=>{Kt(e.targetEl.value??e.contentEl.value,s=>{a?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i(s)})})):i(s)})})}),se(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(o),cancelAnimationFrame(r)})}function Kt(e,t){const n=[document,..._e(e)];n.forEach(a=>{a.addEventListener("scroll",t,{passive:!0})}),se(()=>{n.forEach(a=>{a.removeEventListener("scroll",t)})})}const Na=Symbol.for("vuetify:v-menu"),Ia=re({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function qa(e,t){let n=()=>{};function a(i){n==null||n();const s=Number(i?e.openDelay:e.closeDelay);return new Promise(l=>{n=Mn(s,()=>{t==null||t(i),l(i)})})}function r(){return a(!0)}function o(){return a(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:o}}const $a=re({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Ia()},"VOverlay-activator");function Da(e,t){let{isActive:n,isTop:a,contentEl:r}=t;const o=Ie("useActivator"),i=F();let s=!1,l=!1,u=!0;const c=N(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),v=N(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!c.value),{runOpenDelay:f,runCloseDelay:g}=qa(e,w=>{w===(e.openOnHover&&s||c.value&&l)&&!(e.openOnHover&&n.value&&!a.value)&&(n.value!==w&&(u=!0),n.value=w)}),p=F(),h={onClick:w=>{w.stopPropagation(),i.value=w.currentTarget||w.target,n.value||(p.value=[w.clientX,w.clientY]),n.value=!n.value},onMouseenter:w=>{var I;(I=w.sourceCapabilities)!=null&&I.firesTouchEvents||(s=!0,i.value=w.currentTarget||w.target,f())},onMouseleave:w=>{s=!1,g()},onFocus:w=>{Rn(w.target,":focus-visible")!==!1&&(l=!0,w.stopPropagation(),i.value=w.currentTarget||w.target,f())},onBlur:w=>{l=!1,w.stopPropagation(),g()}},b=N(()=>{const w={};return v.value&&(w.onClick=h.onClick),e.openOnHover&&(w.onMouseenter=h.onMouseenter,w.onMouseleave=h.onMouseleave),c.value&&(w.onFocus=h.onFocus,w.onBlur=h.onBlur),w}),d=N(()=>{const w={};if(e.openOnHover&&(w.onMouseenter=()=>{s=!0,f()},w.onMouseleave=()=>{s=!1,g()}),c.value&&(w.onFocusin=()=>{l=!0,f()},w.onFocusout=()=>{l=!1,g()}),e.closeOnContentClick){const I=$t(Na,null);w.onClick=()=>{n.value=!1,I==null||I.closeParents()}}return w}),m=N(()=>{const w={};return e.openOnHover&&(w.onMouseenter=()=>{u&&(s=!0,u=!1,f())},w.onMouseleave=()=>{s=!1,g()}),w});W(a,w=>{var I;w&&(e.openOnHover&&!s&&(!c.value||!l)||c.value&&!l&&(!e.openOnHover||!s))&&!((I=r.value)!=null&&I.contains(document.activeElement))&&(n.value=!1)}),W(n,w=>{w||setTimeout(()=>{p.value=void 0})},{flush:"post"});const y=ht();tt(()=>{y.value&&et(()=>{i.value=y.el})});const S=ht(),A=N(()=>e.target==="cursor"&&p.value?p.value:S.value?S.el:Qt(e.target,o)||i.value),E=N(()=>Array.isArray(A.value)?void 0:A.value);let O;return W(()=>!!e.activator,w=>{w&&me?(O=qt(),O.run(()=>{Va(e,o,{activatorEl:i,activatorEvents:b})})):O&&O.stop()},{flush:"post",immediate:!0}),se(()=>{O==null||O.stop()}),{activatorEl:i,activatorRef:y,target:A,targetEl:E,targetRef:S,activatorEvents:b,contentEvents:d,scrimEvents:m}}function Va(e,t,n){let{activatorEl:a,activatorEvents:r}=n;W(()=>e.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&i(c)}l&&et(()=>o())},{immediate:!0}),W(()=>e.activatorProps,()=>{o()}),se(()=>{i()});function o(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&ea(l,j(r.value,u))}function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&ta(l,j(r.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=Qt(l,t);return a.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,a.value}}function Qt(e,t){var a,r;if(!e)return;let n;if(e==="parent"){let o=(r=(a=t==null?void 0:t.proxy)==null?void 0:a.$el)==null?void 0:r.parentNode;for(;o!=null&&o.hasAttribute("data-no-activator");)o=o.parentNode;n=o}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function ja(){if(!me)return ge(!1);const{ssr:e}=xn();if(e){const t=ge(!1);return Ln(()=>{t.value=!0}),t}else return ge(!0)}const Ba=re({eager:Boolean},"lazy");function Wa(e,t){const n=ge(!1),a=N(()=>n.value||e.eager||t.value);W(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:a,onAfterLeave:r}}function Jt(){const t=Ie("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Ct=Symbol.for("vuetify:stack"),be=Dt([]);function Ua(e,t,n){const a=Ie("useStack"),r=!n,o=$t(Ct,void 0),i=Dt({activeChildren:new Set});kn(Ct,i);const s=ge(+t.value);Ze(e,()=>{var v;const c=(v=be.at(-1))==null?void 0:v[1];s.value=c?c+10:+t.value,r&&be.push([a.uid,s.value]),o==null||o.activeChildren.add(a.uid),se(()=>{if(r){const f=Nn(be).findIndex(g=>g[0]===a.uid);be.splice(f,1)}o==null||o.activeChildren.delete(a.uid)})});const l=ge(!0);r&&tt(()=>{var v;const c=((v=be.at(-1))==null?void 0:v[0])===a.uid;setTimeout(()=>l.value=c)});const u=N(()=>!i.activeChildren.size);return{globalTop:Tn(l),localTop:u,stackStyles:N(()=>({zIndex:s.value}))}}function Ha(e){return{teleportTarget:N(()=>{const n=e();if(n===!0||!me)return;const a=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(a==null)return;let r=[...a.children].find(o=>o.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",a.appendChild(r)),r})}}function Ga(){return!0}function Zt(e,t,n){if(!e||en(e,n)===!1)return!1;const a=jt(t);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(o=>o==null?void 0:o.contains(e.target))}function en(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Ga)(e)}function za(e,t,n){const a=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Zt(e,t,n)&&setTimeout(()=>{en(e,n)&&a&&a(e)},0)}function Et(e,t){const n=jt(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const Ya={mounted(e,t){const n=r=>za(r,e,t),a=r=>{e._clickOutside.lastMousedownWasOutside=Zt(r,e,t)};Et(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:a}},beforeUnmount(e,t){e._clickOutside&&(Et(e,n=>{var o;if(!n||!((o=e._clickOutside)!=null&&o[t.instance.$.uid]))return;const{onClick:a,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",a,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Xa(e){const{modelValue:t,color:n,...a}=e;return C(Hn,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&C("div",j({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const tn=re({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...$a(),...Ce(),...xt(),...Ba(),...Ea(),...Ra(),...Lt(),...In()},"VOverlay"),Ot=we()({name:"VOverlay",directives:{ClickOutside:Ya},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...tn()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:a,emit:r}=t;const o=Ie("VOverlay"),i=F(),s=F(),l=F(),u=Vt(e,"modelValue"),c=N({get:()=>u.value,set:k=>{k&&e.disabled||(u.value=k)}}),{themeClasses:v}=kt(e),{rtlClasses:f,isRtl:g}=qn(),{hasContent:p,onAfterLeave:h}=Wa(e,c),b=Tt(N(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:d,localTop:m,stackStyles:y}=Ua(c,Nt(e,"zIndex"),e._disableGlobalStack),{activatorEl:S,activatorRef:A,target:E,targetEl:O,targetRef:w,activatorEvents:I,contentEvents:Y,scrimEvents:T}=Da(e,{isActive:c,isTop:m,contentEl:l}),{teleportTarget:P}=Ha(()=>{var pe,ct,ft;const k=e.attach||e.contained;if(k)return k;const X=((pe=S==null?void 0:S.value)==null?void 0:pe.getRootNode())||((ft=(ct=o.proxy)==null?void 0:ct.$el)==null?void 0:ft.getRootNode());return X instanceof ShadowRoot?X:!1}),{dimensionStyles:_}=It(e),L=ja(),{scopeId:D}=Jt();W(()=>e.disabled,k=>{k&&(c.value=!1)});const{contentStyles:x,updateLocation:U}=Oa(e,{isRtl:g,contentEl:l,target:E,isActive:c});xa(e,{root:i,contentEl:l,targetEl:O,isActive:c,updateLocation:U});function $(k){r("click:outside",k),e.persistent?ie():c.value=!1}function H(k){return c.value&&d.value&&(!e.scrim||k.target===s.value||k instanceof MouseEvent&&k.shadowTarget===s.value)}me&&W(c,k=>{k?window.addEventListener("keydown",J):window.removeEventListener("keydown",J)},{immediate:!0}),$n(()=>{me&&window.removeEventListener("keydown",J)});function J(k){var X,pe;k.key==="Escape"&&d.value&&(e.persistent?ie():(c.value=!1,(X=l.value)!=null&&X.contains(document.activeElement)&&((pe=S.value)==null||pe.focus())))}const oe=Dn();Ze(()=>e.closeOnBack,()=>{Gn(oe,k=>{d.value&&c.value?(k(!1),e.persistent?ie():c.value=!1):k()})});const ye=F();W(()=>c.value&&(e.absolute||e.contained)&&P.value==null,k=>{if(k){const X=ra(i.value);X&&X!==document.scrollingElement&&(ye.value=X.scrollTop)}});function ie(){e.noClickAnimation||l.value&&Zn(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:aa})}function dn(){r("afterEnter")}function mn(){h(),r("afterLeave")}return Je(()=>{var k;return C(Ae,null,[(k=n.activator)==null?void 0:k.call(n,{isActive:c.value,targetRef:w,props:j({ref:A},I.value,e.activatorProps)}),L.value&&p.value&&C(Vn,{disabled:!P.value,to:P.value},{default:()=>[C("div",j({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":c.value,"v-overlay--contained":e.contained},v.value,f.value,e.class],style:[y.value,{"--v-overlay-opacity":e.opacity,top:ne(ye.value)},e.style],ref:i},D,a),[C(Xa,j({color:b,modelValue:c.value&&!!e.scrim,ref:s},T.value),null),C(jn,{appear:!0,persisted:!0,transition:e.transition,target:E.value,onAfterEnter:dn,onAfterLeave:mn},{default:()=>{var X;return[Bn(C("div",j({ref:l,class:["v-overlay__content",e.contentClass],style:[_.value,x.value]},Y.value,e.contentProps),[(X=n.default)==null?void 0:X.call(n,{isActive:c})]),[[Wn,c.value],[Un("click-outside"),{handler:$,closeConditional:H,include:()=>[S.value]}]])]}})])]})])}),{activatorEl:S,scrimEl:s,target:E,animateClick:ie,contentEl:l,globalTop:d,localTop:m,updateLocation:U}}}),Be=Symbol("Forwarded refs");function We(e,t){let n=e;for(;n;){const a=Reflect.getOwnPropertyDescriptor(n,t);if(a)return a;n=Object.getPrototypeOf(n)}}function Ka(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e[Be]=n,new Proxy(e,{get(r,o){if(Reflect.has(r,o))return Reflect.get(r,o);if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const i of n)if(i.value&&Reflect.has(i.value,o)){const s=Reflect.get(i.value,o);return typeof s=="function"?s.bind(i.value):s}}},has(r,o){if(Reflect.has(r,o))return!0;if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const i of n)if(i.value&&Reflect.has(i.value,o))return!0;return!1},set(r,o,i){if(Reflect.has(r,o))return Reflect.set(r,o,i);if(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))return!1;for(const s of n)if(s.value&&Reflect.has(s.value,o))return Reflect.set(s.value,o,i);return!1},getOwnPropertyDescriptor(r,o){var s;const i=Reflect.getOwnPropertyDescriptor(r,o);if(i)return i;if(!(typeof o=="symbol"||o.startsWith("$")||o.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=We(l.value,o)??("_"in l.value?We((s=l.value._)==null?void 0:s.setupState,o):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Be];if(!u)continue;const c=u.slice();for(;c.length;){const v=c.shift(),f=We(v.value,o);if(f)return f;const g=v.value&&v.value[Be];g&&c.push(...g)}}}}})}const Qa=re({id:String,text:String,...zn(tn({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),he=we()({name:"VTooltip",props:Qa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const a=Vt(e,"modelValue"),{scopeId:r}=Jt(),o=Yn(),i=N(()=>e.id||`v-tooltip-${o}`),s=F(),l=N(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=N(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),c=N(()=>e.transition?e.transition:a.value?"scale-transition":"fade-transition"),v=N(()=>j({"aria-describedby":i.value},e.activatorProps));return Je(()=>{const f=Ot.filterProps(e);return C(Ot,j({ref:s,class:["v-tooltip",e.class],style:e.style,id:i.value},f,{modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,transition:c.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:v.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var b;for(var g=arguments.length,p=new Array(g),h=0;h<g;h++)p[h]=arguments[h];return((b=n.default)==null?void 0:b.call(n,...p))??e.text}})}),Ka({},s)}}),Ja={class:"d-flex justify-center align-center ga-3"},Za={class:"tuner-note text-primary d-flex ga-1"},er={class:"tuner-octave"},tr={class:"text-body-1 text-right",style:{width:"7rem"}};function nr(e,t,n,a,r,o){return R(),z(ze,{class:"d-flex flex-wrap justify-center ga-4 bg-background align-center my-4"},{default:q(()=>[e.running?(R(),z(he,{key:1,text:"Detener afinador",location:"start"},{activator:q(({props:i})=>[C(G,j(i,{icon:"mdi-stop",onClick:e.stopTuner}),null,16,["onClick"])]),_:1})):(R(),z(he,{key:0,text:"Iniciar afinador",location:"start"},{activator:q(({props:i})=>[C(G,j(i,{icon:"mdi-microphone",onClick:e.startTuner,color:"primary"}),null,16,["onClick"])]),_:1})),B("div",Ja,[B("div",Za,[!e.showClassicSystem||e.showAmericanSystem?(R(),V("span",{key:0,class:Ge(`tuner-american tuner-${e.note.note.isNatural()?"natural":"semi"}`)},Z(e.note.note.name.american),3)):ae("",!0),e.showClassicSystem?(R(),V("span",{key:1,class:Ge(`tuner-classic tuner-${e.note.note.isNatural()?"natural":"semi"}`)},Z(e.note.note.name.classic),3)):ae("",!0),B("span",er,Z(e.note.octave),1)]),B("div",tr,Z(e.frequency.toFixed(2))+" Hz ",1)])]),_:1})}const ar=Ee(ba,[["render",nr],["__scopeId","data-v-ffffd0f1"]]),rr={class:"text-center"},or={key:0},sr={key:1},ir=ce({__name:"PianoKeyNatural",props:{note:{},playSound:{type:Function},stopSound:{type:Function},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0}},setup(e){return(t,n)=>(R(),z(G,{class:"piano-key key-white",onMousedown:n[0]||(n[0]=a=>t.playSound(t.note.frequency.main)),onMouseup:n[1]||(n[1]=a=>t.stopSound())},{default:q(()=>[B("div",rr,[t.showClassicSystem?(R(),V("div",or,Z(t.note.name.classic),1)):ae("",!0),t.showAmericanSystem?(R(),V("div",sr,Z(t.note.name.american),1)):ae("",!0)])]),_:1}))}}),lr=Ee(ir,[["__scopeId","data-v-175c0436"]]),ur={key:0},cr={key:0},fr={key:1},vr={key:1},dr={key:0},mr={key:1},yr=ce({__name:"PianoKeySemiSF",props:{note:{},playSound:{type:Function},stopSound:{type:Function},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0}},setup(e){return(t,n)=>t.note!=le(M).EmptyNote?(R(),z(G,{key:0,class:"piano-key key-black",onMousedown:n[0]||(n[0]=a=>t.playSound(t.note.frequency.main)),onMouseup:n[1]||(n[1]=a=>t.stopSound())},{default:q(()=>[t.showSemiSharps?(R(),V("div",ur,[t.showClassicSystem?(R(),V("div",cr,[ve(Z(t.note.sharp.name.classic),1),n[2]||(n[2]=B("span",{class:"accidental"},"#",-1))])):ae("",!0),t.showAmericanSystem?(R(),V("div",fr,[ve(Z(t.note.sharp.name.american),1),n[3]||(n[3]=B("span",{class:"accidental"},"#",-1))])):ae("",!0)])):ae("",!0),t.showSemiFlats?(R(),V("div",vr,[t.showClassicSystem?(R(),V("div",dr,[ve(Z(t.note.flat.name.classic),1),n[4]||(n[4]=B("span",{class:"accidental"},"b",-1))])):ae("",!0),t.showAmericanSystem?(R(),V("div",mr,[ve(Z(t.note.flat.name.american),1),n[5]||(n[5]=B("span",{class:"accidental"},"b",-1))])):ae("",!0)])):ae("",!0)]),_:1})):(R(),z(G,{key:1,class:"key-black empty"}))}}),hr=Ee(yr,[["__scopeId","data-v-87a5d0d1"]]),gr=ce({__name:"PianoLightTail",props:{note:{default:()=>M.EmptyNote},currentFrequency:{default:()=>note.frequency.main}},setup(e){e.note;const t=F(50),n=F(!1);return W(()=>e.currentFrequency,()=>{n.value=Se.IsOnRange(e.note.frequency.min,e.note.frequency.max,e.currentFrequency),t.value=n.value?Se.ToRange(e.currentFrequency,e.note.frequency.min,e.note.frequency.max)*100:50}),(a,r)=>(R(),V("div",{class:Ge(`light-tail ${a.note.isNatural()?"":"shrink"} ${n.value?"active":""}`)},[r[1]||(r[1]=B("div",{class:"light-tail-border left"},null,-1)),B("div",{class:"light-tail-indicator",style:Xn(`left: calc(${t.value}% - 1.2rem);`)},r[0]||(r[0]=[B("div",{class:"light-tail-indicator-point"},null,-1)]),4),r[2]||(r[2]=B("div",{class:"light-tail-border right"},null,-1))],2))}}),Sr=Ee(gr,[["__scopeId","data-v-17fc28a4"]]),nn=qe.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),an=qe.reduce((e,t)=>{const n="offset"+Ne(t);return e[n]={type:[String,Number],default:null},e},{}),rn=qe.reduce((e,t)=>{const n="order"+Ne(t);return e[n]={type:[String,Number],default:null},e},{}),Ft={col:Object.keys(nn),offset:Object.keys(an),order:Object.keys(rn)};function wr(e,t,n){let a=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");a+=`-${r}`}return e==="col"&&(a="v-"+a),e==="col"&&(n===""||n===!0)||(a+=`-${n}`),a.toLowerCase()}}const pr=["auto","start","end","center","baseline","stretch"],br=re({cols:{type:[Boolean,String,Number],default:!1},...nn,offset:{type:[String,Number],default:null},...an,order:{type:[String,Number],default:null},...rn,alignSelf:{type:String,default:null,validator:e=>pr.includes(e)},...Ce(),...Qe()},"VCol"),Pt=we()({name:"VCol",props:br(),setup(e,t){let{slots:n}=t;const a=N(()=>{const r=[];let o;for(o in Ft)Ft[o].forEach(s=>{const l=e[s],u=wr(o,s,l);u&&r.push(u)});const i=r.some(s=>s.startsWith("v-col-"));return r.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return Ke(e.tag,{class:[a.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),lt=["start","end","center"],on=["space-between","space-around","space-evenly"];function ut(e,t){return qe.reduce((n,a)=>{const r=e+Ne(a);return n[r]=t(),n},{})}const Ar=[...lt,"baseline","stretch"],sn=e=>Ar.includes(e),ln=ut("align",()=>({type:String,default:null,validator:sn})),Cr=[...lt,...on],un=e=>Cr.includes(e),cn=ut("justify",()=>({type:String,default:null,validator:un})),Er=[...lt,...on,"stretch"],fn=e=>Er.includes(e),vn=ut("alignContent",()=>({type:String,default:null,validator:fn})),_t={align:Object.keys(ln),justify:Object.keys(cn),alignContent:Object.keys(vn)},Or={align:"align",justify:"justify",alignContent:"align-content"};function Fr(e,t,n){let a=Or[e];if(n!=null){if(t){const r=t.replace(e,"");a+=`-${r}`}return a+=`-${n}`,a.toLowerCase()}}const Pr=re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:sn},...ln,justify:{type:String,default:null,validator:un},...cn,alignContent:{type:String,default:null,validator:fn},...vn,...Ce(),...Qe()},"VRow"),Ue=we()({name:"VRow",props:Pr(),setup(e,t){let{slots:n}=t;const a=N(()=>{const r=[];let o;for(o in _t)_t[o].forEach(i=>{const s=e[i],l=Fr(o,i,s);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return Ke(e.tag,{class:["v-row",a.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),He=na("v-spacer","div","VSpacer"),_r=ce({__name:"PianoOctave",props:{octaveId:{default:()=>ue.OCTAVE_CENTRAL},currentFrequency:{default:0},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0}},setup(e){const t=F(null),n=F(null),a=F("sine"),r=i=>{t.value==null&&(t.value=new(window.AudioContext||window.webkitAudioContext)),n.value=t.value.createOscillator(),n.value.type=a.value,n.value.frequency.setValueAtTime(i,t.value.currentTime),n.value.connect(t.value.destination),n.value.start()},o=()=>{n.value&&(n.value.stop(),n.value=null)};return(i,s)=>(R(),z(Pt,{class:"position-relative rounded-lg mt-4",xs:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"3"},{default:q(()=>[C(Ue,{class:"flex-nowrap piano-keys key-tails mx-0"},{default:q(()=>[(R(!0),V(Ae,null,Oe(le(ue).GetNotesAtOctave(i.octaveId),l=>(R(),z(Sr,{note:l,"current-frequency":i.currentFrequency},null,8,["note","current-frequency"]))),256))]),_:1}),C(Ue,{class:"flex-nowrap piano-keys white-keys"},{default:q(()=>[(R(!0),V(Ae,null,Oe(le(ue).GetNaturalsAtOctave(i.octaveId),l=>(R(),z(lr,{note:l,"play-sound":r,"stop-sound":o,"show-classic-system":i.showClassicSystem,"show-american-system":i.showAmericanSystem},null,8,["note","show-classic-system","show-american-system"]))),256))]),_:1}),C(Ue,{class:"flex-nowrap piano-keys black-keys mt-6"},{default:q(()=>[(R(!0),V(Ae,null,Oe(le(ue).GetSemisAtOctave(i.octaveId),l=>(R(),z(hr,{note:l,"play-sound":r,"stop-sound":o,"show-classic-system":i.showClassicSystem,"show-american-system":i.showAmericanSystem,"show-semi-sharps":i.showSemiSharps,"show-semi-flats":i.showSemiFlats},null,8,["note","show-classic-system","show-american-system","show-semi-sharps","show-semi-flats"]))),256))]),_:1}),C(Pt,{cols:"12",class:"piano-octave-id"},{default:q(()=>[ve(Z(i.octaveId),1)]),_:1})]),_:1}))}}),Mr=Ee(_r,[["__scopeId","data-v-0597d82f"]]),Rr={class:"px-3 mb-2 d-flex justify-space-between position-relative",style:{"z-index":"20"}},xr={class:"d-flex align-center ga-2"},Lr={class:"d-flex align-center ga-2"},kr=ce({__name:"InstrumentSettings",emits:["octaves","show:noteSystems","show:noteSemis"],setup(e,{emit:t}){const n=t,a=F({min:3,max:5}),r=F([M.Systems.CLASSIC,M.Systems.AMERICAN]),o=F([M.Accidentals.SHARP,M.Accidentals.FLAT]);W(r,u=>{const c=u.indexOf(M.Systems.CLASSIC)!=-1,v=u.indexOf(M.Systems.AMERICAN)!=-1;n("show:noteSystems",c,v)}),W(o,u=>{const c=u.indexOf(M.Accidentals.SHARP)!=-1,v=u.indexOf(M.Accidentals.FLAT)!=-1;n("show:noteSemis",c,v)});const i=()=>{const u=a.value.max-a.value.min+1,c=Array.from(Array(u).keys()).map(v=>v+a.value.min);n("octaves",c)};i();const s=(u=!0)=>{u?a.value.min-=1:a.value.min+=1,i()},l=(u=!0)=>{u?a.value.max+=1:a.value.max-=1,i()};return(u,c)=>(R(),V("div",Rr,[B("div",xr,[C(he,{text:"Incluir una octava grave más",location:"top"},{activator:q(({props:v})=>[C(G,j(v,{variant:"tonal",disabled:a.value.min<=1,icon:"mdi-music-note-plus",onClick:c[0]||(c[0]=f=>s(!0))}),null,16,["disabled"])]),_:1}),C(he,{text:"Disminuir una octava grave",location:"right"},{activator:q(({props:v})=>[C(G,j(v,{size:"small",variant:"tonal",disabled:a.value.min>=a.value.max,icon:"mdi-music-note-minus",onClick:c[1]||(c[1]=f=>s(!1))}),null,16,["disabled"])]),_:1})]),C(He),C(gt,{modelValue:r.value,"onUpdate:modelValue":c[2]||(c[2]=v=>r.value=v),multiple:"",rounded:"xl",variant:"outlined"},{default:q(()=>[C(G,{value:le(M).Systems.CLASSIC},{default:q(()=>c[6]||(c[6]=[ve("Do, Re, ...")])),_:1},8,["value"]),C(G,{value:le(M).Systems.AMERICAN},{default:q(()=>c[7]||(c[7]=[ve("C, D, ...")])),_:1},8,["value"])]),_:1},8,["modelValue"]),C(He),C(gt,{modelValue:o.value,"onUpdate:modelValue":c[3]||(c[3]=v=>o.value=v),multiple:"",rounded:"xl",variant:"outlined"},{default:q(()=>[C(G,{icon:"mdi-music-accidental-sharp",value:le(M).Accidentals.SHARP},null,8,["value"]),C(G,{icon:"mdi-music-accidental-flat",value:le(M).Accidentals.FLAT},null,8,["value"])]),_:1},8,["modelValue"]),C(He),B("div",Lr,[C(he,{text:"Disminuir una octava aguda",location:"left"},{activator:q(({props:v})=>[C(G,j(v,{size:"small",variant:"tonal",disabled:a.value.min>=a.value.max,icon:"mdi-music-note-minus",onClick:c[4]||(c[4]=f=>l(!1))}),null,16,["disabled"])]),_:1}),C(he,{text:"Incluir una octava aguda más",location:"top"},{activator:q(({props:v})=>[C(G,j(v,{variant:"tonal",disabled:a.value.max>=7,icon:"mdi-music-note-plus",onClick:c[5]||(c[5]=f=>l(!0))}),null,16,["disabled"])]),_:1})])]))}}),Tr=ce({__name:"Piano",props:{currentFrequency:{default:0}},setup(e){const t=F([]),n=F(!0),a=F(!0),r=F(!0),o=F(!0);return(i,s)=>(R(),z(ze,{class:"bg-background"},{default:q(()=>[Kn(i.$slots,"default"),C(kr,{onOctaves:s[0]||(s[0]=l=>{t.value=l}),"onShow:noteSystems":s[1]||(s[1]=(l,u)=>{n.value=l,a.value=u}),"onShow:noteSemis":s[2]||(s[2]=(l,u)=>{r.value=l,o.value=u})}),C(ze,{class:"d-flex flex-wrap justify-center align-center ga-0 position-relative pa-2 pt-10",style:{"z-index":"10"}},{default:q(()=>[(R(!0),V(Ae,null,Oe(t.value,l=>(R(),z(Mr,{octaveId:l,currentFrequency:i.currentFrequency,showClassicSystem:n.value,showAmericanSystem:a.value,showSemiSharps:r.value,showSemiFlats:o.value},null,8,["octaveId","currentFrequency","showClassicSystem","showAmericanSystem","showSemiSharps","showSemiFlats"]))),256))]),_:1})]),_:3}))}}),$r=ce({__name:"Home",setup(e){const t=F(0),n=F(""),a=F(null),r=F(!1),o=s=>{t.value=s},i=s=>{n.value=s};return(s,l)=>(R(),z(Tr,{"current-frequency":t.value},{default:q(()=>[C(ar,{ref_key:"tunerRef",ref:a,"onUpdate:frequency":o,"onUpdate:note":i,onIsRunning:l[0]||(l[0]=u=>r.value=u)},null,512)]),_:1},8,["current-frequency"]))}});export{$r as default};

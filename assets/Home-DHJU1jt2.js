var dn=Object.defineProperty;var mn=(e,t,n)=>t in e?dn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var X=(e,t,n)=>mn(e,typeof t!="symbol"?t+"":t,n);import{c as K}from"./_commonjsHelpers-Cpj98o6Y.js";import{i as Ft,e as Pt,g as ge,c as Ne,a as yn,m as Ae,h as Xe,d as ve,r as R,p as ae,b as hn,f as Mt,j as gn,k as pn,l as Sn,n as bn,o as Ke,q as xt,s as kt,u as Rt,t as Tt,v as wn,w as Lt,x as An,y as En,z as On,A as Cn,B as Qe,C as M,I as fe,D as Je,E as H,F as se,G as _n,H as ft,J as $e,K as Ve,L as vt,M as L,N as Ze,O as dt,P as te,Q as mt,R as et,S as Nt,T as Fn,U as qe,V as qt,W as yt,X as B,Y as Pn,Z as ye,_ as Mn,$ as xn,a0 as It,a1 as kn,a2 as Rn,a3 as Tn,a4 as Ln,a5 as $t,a6 as Nn,a7 as qn,a8 as In,a9 as $n,aa as Vn,ab as Dn,ac as jn,ad as Bn,ae as we,af as Wn,ag as Gn,ah as zn,ai as Hn,aj as Ee,ak as P,al as z,am as $,an as oe,ao as D,ap as j,aq as ze,ar as J,as as ne,at as Oe,au as be,av as Un,aw as Ie,ax as Ce,ay as Yn}from"./index-DozAw6Xw.js";class ce{constructor(t){let{x:n,y:o,width:r,height:s}=t;this.x=n,this.y=o,this.width=r,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ht(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Xn(e){return Array.isArray(e)?new ce({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Kn(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),o=n.transform;if(o){let r,s,i,a,l;if(o.startsWith("matrix3d("))r=o.slice(9,-1).split(/, /),s=+r[0],i=+r[5],a=+r[12],l=+r[13];else if(o.startsWith("matrix("))r=o.slice(7,-1).split(/, /),s=+r[0],i=+r[3],a=+r[4],l=+r[5];else return new ce(t);const u=n.transformOrigin,f=t.x-a-(1-s)*parseFloat(u),v=t.y-l-(1-i)*parseFloat(u.slice(u.indexOf(" ")+1)),c=s?t.width/s:e.offsetWidth+1,p=i?t.height/i:e.offsetHeight+1;return new ce({x:f,y:v,width:c,height:p})}else return new ce(t)}function Qn(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let o;try{o=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof o.finished>"u"&&(o.finished=new Promise(r=>{o.onfinish=()=>{r(o)}})),o}const _e=new WeakMap;function Jn(e,t){Object.keys(t).forEach(n=>{if(Ft(n)){const o=Pt(n),r=_e.get(e);if(t[n]==null)r==null||r.forEach(s=>{const[i,a]=s;i===o&&(e.removeEventListener(o,a),r.delete(s))});else if(!r||![...r].some(s=>s[0]===o&&s[1]===t[n])){e.addEventListener(o,t[n]);const s=r||new Set;s.add([o,t[n]]),_e.has(e)||_e.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function Zn(e,t){Object.keys(t).forEach(n=>{if(Ft(n)){const o=Pt(n),r=_e.get(e);r==null||r.forEach(s=>{const[i,a]=s;i===o&&(e.removeEventListener(o,a),r.delete(s))})}else e.removeAttribute(n)})}function ea(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ge()({name:n??Ne(yn(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Ae()},setup(o,r){let{slots:s}=r;return()=>{var i;return Xe(o.tag,{class:[e,o.class],style:o.style},(i=s.default)==null?void 0:i.call(s))}}})}function Vt(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const ta="cubic-bezier(0.4, 0, 0.2, 1)";function na(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?aa(e):tt(e))return e;e=e.parentElement}return document.scrollingElement}function Pe(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(tt(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function tt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function aa(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function ra(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}var ue={},nt={},Me=K&&K.__assign||function(){return Me=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Me.apply(this,arguments)};Object.defineProperty(nt,"__esModule",{value:!0});var oa={threshold:.1,sampleRate:44100,probabilityThreshold:.1};function sa(e){e===void 0&&(e={});var t=Me(Me({},oa),e),n=t.threshold,o=t.sampleRate,r=t.probabilityThreshold;return function(i){var a;for(a=1;a<i.length;a*=2);a/=2;for(var l=a/2,u=new Float32Array(l),f=0,v,c=0;c<l;c++)u[c]=0;for(var c=1;c<l;c++)for(var p=0;p<l;p++){var g=i[p]-i[p+c];u[c]+=g*g}u[0]=1,u[1]=1;for(var y=0,c=1;c<l;c++)y+=u[c],u[c]*=c/y;for(v=2;v<l;v++)if(u[v]<n){for(;v+1<l&&u[v+1]<u[v];)v++;f=1-u[v];break}if(v===l||u[v]>=n||f<r)return null;var w,d,h;if(v<1?d=v:d=v-1,v+1<l?h=v+1:h=v,d===v)u[v]<=u[h]?w=v:w=h;else if(h===v)u[v]<=u[d]?w=v:w=d;else{var m=u[d],S=u[v],A=u[h];w=v+(A-m)/(2*(2*S-A-m))}return o/w}}nt.YIN=sa;var at={},xe=K&&K.__assign||function(){return xe=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},xe.apply(this,arguments)};Object.defineProperty(at,"__esModule",{value:!0});var ia={sampleRate:44100,minFrequency:82,maxFrequency:1e3,ratio:5,sensitivity:.1};function la(e){e===void 0&&(e={});var t=xe(xe({},ia),e),n=t.sampleRate,o=t.minFrequency,r=t.maxFrequency,s=t.sensitivity,i=t.ratio,a=[],l=Math.ceil(n/o),u=Math.floor(n/r);return function(v){var c=v.length,p=0,g=1/0,y=-1/0,w,d,h,m,S,A,O,E;for(m=0;m<c;m++)if(u<=m&&m<=l){for(O=0,E=m,p=0,w=[],d=[];O<c-m;p++,E++,O++)w[p]=v[O],d[p]=v[E];var b=w.length;for(h=[],A=0;A<b;A++)h[A]=w[A]-d[A];var N=0;for(A=0;A<b;A++)N+=Math.abs(h[A]);a[m]=N}for(S=u;S<l;S++)a[S]<g&&(g=a[S]),a[S]>y&&(y=a[S]);var U=Math.round(s*(y-g)+g);for(S=u;S<=l&&a[S]>U;S++);var T=u/2;g=a[S];var C=S;for(m=S-1;m<S+T&&m<=l;m++)a[m]<g&&(g=a[m],C=m);return Math.round(a[C]*i)<y?n/C:null}}at.AMDF=la;var rt={},ke=K&&K.__assign||function(){return ke=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ke.apply(this,arguments)};Object.defineProperty(rt,"__esModule",{value:!0});var gt={sampleRate:44100};function ua(e){e===void 0&&(e=gt);var t=ke(ke({},gt),e),n=t.sampleRate;return function(r){var s=r.length,i=0,a,l,u,f;for(a=0;a<s;a++)f=r[a],i+=f*f;if(i=Math.sqrt(i/s),i<.01)return-1;var v=0,c=s-1,p=.2;for(a=0;a<s/2;a++)if(Math.abs(r[a])<p){v=a;break}for(a=1;a<s/2;a++)if(Math.abs(r[s-a])<p){c=s-a;break}var g=r.slice(v,c),y=g.length,w=new Array(y).fill(0);for(a=0;a<y;a++)for(l=0;l<y-a;l++)w[a]=w[a]+g[l]*g[l+a];for(u=0;w[u]>w[u+1];)u++;var d=-1,h=-1;for(a=u;a<y;a++)w[a]>d&&(d=w[a],h=a);var m=h,S=w[m-1],A=w[m],O=w[m+1],E=(S+O-2*A)/2,b=(O-S)/2;return E&&(m=m-b/(2*E)),n/m}}rt.ACF2PLUS=ua;var ot={},Re=K&&K.__assign||function(){return Re=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Re.apply(this,arguments)};Object.defineProperty(ot,"__esModule",{value:!0});var ca=6,fa=3e3,va=3,da=.75,ma={sampleRate:44100};function ya(e){e===void 0&&(e={});var t=Re(Re({},ma),e),n=t.sampleRate;return function(r){for(var s=[],i=[],a=r.length,l=null,u=0,f=0,v=0,c=0;c<a;c++){var p=r[c];u=u+p,v=Math.max(v,p),f=Math.min(f,p)}u/=a,f-=u,v-=u;for(var g=v>-1*f?v:-1*f,y=g*da,w=0,d=-1,h=r.length,m,S,A;m=~~(n/(Math.pow(2,w)*fa)),!(h<2);){var O=void 0,E=-1e3,b=-1e6,N=-1e6,U=!1,T=!1;A=0,S=0;for(var c=2;c<h;c++){var C=r[c]-u,_=r[c-1]-u;_<=0&&C>0&&(U=!0),_>=0&&C<0&&(T=!0),O=C-_,E>-1e3&&(T&&E<0&&O>=0&&Math.abs(C)>=y&&c>b+m&&(s[A++]=c,b=c,T=!1),U&&E>0&&O<=0&&Math.abs(C)>=y&&c>N+m&&(i[S++]=c,N=c,U=!1)),E=O}if(A===0&&S===0)break;for(var x=void 0,V=[],c=0;c<h;c++)V[c]=0;for(var c=0;c<A;c++)for(var F=1;F<va;F++)c+F<A&&(x=Math.abs(s[c]-s[c+F]),V[x]+=1);for(var W=-1,q=-1,c=0;c<h;c++){for(var G=0,F=-1*m;F<=m;F++)c+F>=0&&c+F<h&&(G+=V[c+F]);G===q?c===2*W&&(W=c):G>q&&(q=G,W=c)}for(var Q=0,re=0,F=-m;F<=m;F++)if(W+F>=0&&W+F<a){var de=V[W+F];de>0&&(re+=de,Q+=(W+F)*de)}if(Q/=re,d>-1&&Math.abs(Q*2-d)<=2*m){l=n/(Math.pow(2,w-1)*d);break}if(d=Q,w++,w>=ca||h<2)break;var ie=r.subarray(0);h===V.length&&(ie=new Float32Array(h/2));for(var c=0;c<h/2;c++)ie[c]=(r[2*c]+r[2*c+1])/2;r=ie,h/=2}return l}}ot.DynamicWavelet=ya;var st={},Te=K&&K.__assign||function(){return Te=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Te.apply(this,arguments)};Object.defineProperty(st,"__esModule",{value:!0});var ha={bufferSize:1024,cutoff:.97,sampleRate:44100};function ga(e){e===void 0&&(e={});var t=Te(Te({},ha),e),n=t.bufferSize,o=t.cutoff,r=t.sampleRate,s=.5,i=80,a=new Float32Array(n),l=new Float32Array(n),u,f,v=[],c=[],p=[];function g(d){var h,m;l[0]=d[0]*d[0];for(var S=1;S<d.length;S+=1)l[S]=d[S]*d[S]+l[S-1];for(var A=0;A<d.length;A++){h=0,m=l[d.length-1-A]+l[d.length-1]-l[A];for(var S=0;S<d.length-A;S++)h+=d[S]*d[S+A];a[A]=2*h/m}}function y(d){var h=a[d-1],m=a[d],S=a[d+1],A=d,O=S+h-2*m;if(O===0)u=A,f=m;else{var E=h-S;u=A+E/(2*O),f=m-E*E/(8*O)}}function w(){for(var d=0,h=0;d<(a.length-1)/3&&a[d]>0;)d++;for(;d<a.length-1&&a[d]<=0;)d++;for(d==0&&(d=1);d<a.length-1;)if(a[d]>a[d-1]&&a[d]>=a[d+1]&&(h==0||a[d]>a[h])&&(h=d),d++,d<a.length-1&&a[d]<=0)for(h>0&&(v.push(h),h=0);d<a.length-1&&a[d]<=0;)d++;h>0&&v.push(h)}return function(h){var m;v=[],c=[],p=[],g(h),w();for(var S=-1/0,A=0;A<v.length;A++){var O=v[A];S=Math.max(S,a[O]),a[O]>s&&(y(O),p.push(f),c.push(u),S=Math.max(S,f))}if(c.length){for(var E=o*S,b=0,A=0;A<p.length;A++)if(p[A]>=E){b=A;break}var N=c[b],U=r/N;U>i?m=U:m=-1}else m=-1;return{probability:S,freq:m}}}st.Macleod=ga;var Dt={};(function(e){var t=K&&K.__assign||function(){return t=Object.assign||function(r){for(var s,i=1,a=arguments.length;i<a;i++){s=arguments[i];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FREQUENCIES_PARAMS={tempo:120,quantization:4,sampleRate:44100};function n(r,s){var i=r.map(function(p){return p(s)}).filter(function(p){return p!==null}).sort(function(p,g){return p-g});if(i.length===1)return i[0];if(i.length===2){var a=i[0],l=i[1];return a*2>l?Math.sqrt(a*l):a}else{var a=i[0],l=i[1],u=i[i.length-2],f=i[i.length-1],v=a*2>l?i:i.slice(1),c=u*2>f?v:v.slice(0,-1);return Math.pow(c.reduce(function(y,w){return y*w},1),1/c.length)}}function o(r,s,i){i===void 0&&(i={});var a=t(t({},e.DEFAULT_FREQUENCIES_PARAMS),i),l=a.tempo,u=a.quantization,f=a.sampleRate,v=s.length,c=Math.round(f*60/(u*l)),p;Array.isArray(r)?p=n.bind(null,r):p=r;for(var g=[],y=0,w=v-c;y<=w;y+=c){var d=s.slice(y,y+c),h=p(d);g.push(h)}return g}e.frequencies=o})(Dt);Object.defineProperty(ue,"__esModule",{value:!0});var jt=nt;ue.YIN=jt.YIN;var Bt=at;ue.AMDF=Bt.AMDF;var Wt=rt;ue.ACF2PLUS=Wt.ACF2PLUS;var Gt=ot;ue.DynamicWavelet=Gt.DynamicWavelet;var zt=st;ue.Macleod=zt.Macleod;var Ht=Dt;ue.frequencies=Ht.frequencies;var pa=ue.default={YIN:jt.YIN,AMDF:Bt.AMDF,ACF2PLUS:Wt.ACF2PLUS,DynamicWavelet:Gt.DynamicWavelet,Macleod:zt.Macleod,frequencies:Ht.frequencies};const ee=class ee{};X(ee,"IsOnRange",(t,n,o)=>o<n&&o>t),X(ee,"Clamp",(t,n=0,o=1)=>Math.min(o,Math.max(n,t))),X(ee,"Lerp",(t,n,o)=>t*(1-o)+n*o),X(ee,"Invlerp",(t,n,o)=>ee.Clamp((o-t)/(n-t))),X(ee,"ToRange",(t,n,o,r=0,s=1)=>ee.Lerp(r,s,ee.Invlerp(n,o,t)));let he=ee;class I{constructor(t,n,o){X(this,"$natural",!0);X(this,"name",{classic:I.Classic.ENotes.NONE,american:I.American.ENotes.NONE});X(this,"frequency",{main:0,min:0,max:0});X(this,"isNatural",()=>this.$natural);this.frequency.main=t,n&&(this.name.classic=n),o&&(this.name.american=o)}}class Z extends I{constructor(n,o=I.Classic.ENotes.NONE,r=I.American.ENotes.NONE){super(n,o,r);X(this,"sharp",I.EmptyNote);X(this,"flat",I.EmptyNote);this.$natural=!1}}(e=>{(s=>{(i=>{i.NONE="?",i.DO="DO",i.DOS_REF="DO# REb",i.RE="RE",i.RES_MIF="RE# MIb",i.MI="MI",i.FA="FA",i.FAS_SOLF="FA# SOLb",i.SOL="SOL",i.SOLS_LAF="SOL# LAb",i.LA="LA",i.LAS_SIF="LA# SIb",i.SI="SI"})(s.ENotes||(s.ENotes={}))})(e.Classic||(e.Classic={})),(s=>{(i=>{i.NONE="?",i.C="C",i.CS_DF="C# Db",i.D="D",i.DS_EF="D# Eb",i.E="E",i.F="F",i.FS_GF="F# Gb",i.G="G",i.GS_AF="G# Ab",i.A="A",i.AS_BF="A# Bb",i.B="B"})(s.ENotes||(s.ENotes={}))})(e.American||(e.American={}));let t=[new e(261.63,"DO","C"),new Z(277.18,"DO# REb","C# Db"),new e(293.66,"RE","D"),new Z(311.13,"RE# MIb","D# Eb"),new e(329.63,"MI","E"),new e(349.23,"FA","F"),new Z(369.99,"FA# SOLb","F# Gb"),new e(392,"SOL","G"),new Z(415.3,"SOL# LAb","G# Ab"),new e(440,"LA","A"),new Z(466.16,"LA# SIb","A# Bb"),new e(493.88,"SI","B")];e.Notes=t,e.EmptyNote=new Z(0);let n=[],o=[];const r=(s,i)=>Math.sqrt(s*i);e.FillMedFrequencys=(s,i,a)=>{for(let l=0;l<s.length;l++){{const u=l>0?s[l-1].frequency.main:s[s.length-1].frequency.main/2;s[l].frequency.min=r(u,s[l].frequency.main)}{const u=l<s.length-1?s[l+1].frequency.main:s[0].frequency.main*2;s[l].frequency.max=r(s[l].frequency.main,u)}s[l]instanceof Z?(s[l].sharp=s[l-1],s[l].flat=s[l+1],a.push(s[l])):(i.push(s[l]),l<s.length-1&&!(s[l+1]instanceof Z)&&a.push(e.EmptyNote))}},(0,e.FillMedFrequencys)(t,n,o),e.Naturals=n,e.Semis=o})(I||(I={}));var le;(e=>{e.OCTAVE_CENTRAL=4,e.OCTAVE_RANGE={MIN:1,MAX:7};const t=(l,u)=>l/Math.pow(2,u),n=(l,u)=>l*Math.pow(2,u),o=(l,u)=>l==e.OCTAVE_CENTRAL?u:l<e.OCTAVE_CENTRAL?t(u,e.OCTAVE_CENTRAL-l):n(u,l-e.OCTAVE_CENTRAL);let r=[],s=[],i=[];for(let l=e.OCTAVE_RANGE.MIN;l<=e.OCTAVE_RANGE.MAX;l++){let u=[],f=[],v=[];I.Notes.forEach(c=>{const p=o(l,c.frequency.main);let g;c instanceof Z?g=new Z(p,c.name.classic,c.name.american):g=new I(p,c.name.classic,c.name.american),u.push(g)}),I.FillMedFrequencys(u,f,v),r.push(u),s.push(f),i.push(v)}const a=l=>he.Clamp(l,e.OCTAVE_RANGE.MIN,e.OCTAVE_RANGE.MAX)-e.OCTAVE_RANGE.MIN;e.GetNotesAtOctave=l=>r[a(l)],e.GetNaturalsAtOctave=l=>s[a(l)],e.GetSemisAtOctave=l=>i[a(l)]})(le||(le={}));const Sa=ve({name:"Tuner",emits:["update:frequency","update:note","is-running"],props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0}},setup(e,{emit:t,expose:n}){const o=R(null),r=R(null),s=R(0),i=R({note:I.EmptyNote,octave:0}),a=R(!1),l=R(null),u=pa.YIN(),f=g=>{const d=Math.round(12*(Math.log(g/440)/Math.log(2)))+69,h=d%12;if(he.IsOnRange(le.OCTAVE_RANGE.MIN,le.OCTAVE_RANGE.MAX,h)){const m=I.Notes[h],S=Math.floor(d/12)-1;return{note:m,octave:S}}return{note:I.EmptyNote,octave:-1}},v=()=>{if(!r.value||!o.value||!a.value)return;const g=r.value.fftSize,y=new Float32Array(g);r.value.getFloatTimeDomainData(y);const w=u(y);w&&(s.value=w,i.value=f(w),t("update:frequency",w),t("update:note",i.value)),requestAnimationFrame(v)},c=async()=>{if(a.value)return;o.value=new AudioContext,r.value=o.value.createAnalyser(),r.value.fftSize=2048,l.value=await navigator.mediaDevices.getUserMedia({audio:!0}),o.value.createMediaStreamSource(l.value).connect(r.value),a.value=!0,t("is-running",!0),v()},p=()=>{o.value&&o.value.close(),a.value=!1,t("is-running",!1),l.value!=null&&l.value.getTracks().forEach(g=>{g.stop()})};return n({startTuner:c,stopTuner:p}),{frequency:s,note:i,startTuner:c,stopTuner:p,running:a}}}),ba=ae({color:String,...hn(),...Ae(),...Mt(),...gn(),...pn(),...Sn(),...bn(),...Ke(),...xt()},"VSheet"),He=ge()({name:"VSheet",props:ba(),setup(e,t){let{slots:n}=t;const{themeClasses:o}=kt(e),{backgroundColorClasses:r,backgroundColorStyles:s}=Rt(Tt(e,"color")),{borderClasses:i}=wn(e),{dimensionStyles:a}=Lt(e),{elevationClasses:l}=An(e),{locationStyles:u}=En(e),{positionClasses:f}=On(e),{roundedClasses:v}=Cn(e);return Qe(()=>M(e.tag,{class:["v-sheet",o.value,r.value,i.value,l.value,f.value,v.value,e.class],style:[s.value,a.value,u.value,e.style]},n)),{}}});function De(e,t){return{x:e.x+t.x,y:e.y+t.y}}function wa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pt(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:o}=e,r=o==="left"?0:o==="center"?t.width/2:o==="right"?t.width:o,s=n==="top"?0:n==="bottom"?t.height:n;return De({x:r,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:o}=e,r=n==="left"?0:n==="right"?t.width:n,s=o==="top"?0:o==="center"?t.height/2:o==="bottom"?t.height:o;return De({x:r,y:s},t)}return De({x:t.width/2,y:t.height/2},t)}const Ut={static:Oa,connected:_a},Aa=ae({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Ut},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Ea(e,t){const n=R({}),o=R();fe&&Je(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var i,a;H(()=>e.locationStrategy,s),se(()=>{window.removeEventListener("resize",r),o.value=void 0}),window.addEventListener("resize",r,{passive:!0}),typeof e.locationStrategy=="function"?o.value=(i=e.locationStrategy(t,e,n))==null?void 0:i.updateLocation:o.value=(a=Ut[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function r(s){var i;(i=o.value)==null||i.call(o,s)}return{contentStyles:n,updateLocation:o}}function Oa(){}function Ca(e,t){const n=Kn(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function _a(e,t,n){(Array.isArray(e.target.value)||ra(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:r,preferredOrigin:s}=_n(()=>{const g=ft(t.location,e.isRtl.value),y=t.origin==="overlap"?g:t.origin==="auto"?$e(g):ft(t.origin,e.isRtl.value);return g.side===y.side&&g.align===Ve(y).align?{preferredAnchor:vt(g),preferredOrigin:vt(y)}:{preferredAnchor:g,preferredOrigin:y}}),[i,a,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(g=>L(()=>{const y=parseFloat(t[g]);return isNaN(y)?1/0:y})),f=L(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const g=t.offset.split(" ").map(parseFloat);return g.length<2&&g.push(0),g}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let v=!1;const c=new ResizeObserver(()=>{v&&p()});H([e.target,e.contentEl],(g,y)=>{let[w,d]=g,[h,m]=y;h&&!Array.isArray(h)&&c.unobserve(h),w&&!Array.isArray(w)&&c.observe(w),m&&c.unobserve(m),d&&c.observe(d)},{immediate:!0}),se(()=>{c.disconnect()});function p(){if(v=!1,requestAnimationFrame(()=>v=!0),!e.target.value||!e.contentEl.value)return;const g=Xn(e.target.value),y=Ca(e.contentEl.value,e.isRtl.value),w=Pe(e.contentEl.value),d=12;w.length||(w.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(y.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),y.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const h=w.reduce((T,C)=>{const _=C.getBoundingClientRect(),x=new ce({x:C===document.documentElement?0:_.x,y:C===document.documentElement?0:_.y,width:C.clientWidth,height:C.clientHeight});return T?new ce({x:Math.max(T.left,x.left),y:Math.max(T.top,x.top),width:Math.min(T.right,x.right)-Math.max(T.left,x.left),height:Math.min(T.bottom,x.bottom)-Math.max(T.top,x.top)}):x},void 0);h.x+=d,h.y+=d,h.width-=d*2,h.height-=d*2;let m={anchor:r.value,origin:s.value};function S(T){const C=new ce(y),_=pt(T.anchor,g),x=pt(T.origin,C);let{x:V,y:F}=wa(_,x);switch(T.anchor.side){case"top":F-=f.value[0];break;case"bottom":F+=f.value[0];break;case"left":V-=f.value[0];break;case"right":V+=f.value[0];break}switch(T.anchor.align){case"top":F-=f.value[1];break;case"bottom":F+=f.value[1];break;case"left":V-=f.value[1];break;case"right":V+=f.value[1];break}return C.x+=V,C.y+=F,C.width=Math.min(C.width,l.value),C.height=Math.min(C.height,u.value),{overflows:ht(C,h),x:V,y:F}}let A=0,O=0;const E={x:0,y:0},b={x:!1,y:!1};let N=-1;for(;!(N++>10);){const{x:T,y:C,overflows:_}=S(m);A+=T,O+=C,y.x+=T,y.y+=C;{const x=dt(m.anchor),V=_.x.before||_.x.after,F=_.y.before||_.y.after;let W=!1;if(["x","y"].forEach(q=>{if(q==="x"&&V&&!b.x||q==="y"&&F&&!b.y){const G={anchor:{...m.anchor},origin:{...m.origin}},Q=q==="x"?x==="y"?Ve:$e:x==="y"?$e:Ve;G.anchor=Q(G.anchor),G.origin=Q(G.origin);const{overflows:re}=S(G);(re[q].before<=_[q].before&&re[q].after<=_[q].after||re[q].before+re[q].after<(_[q].before+_[q].after)/2)&&(m=G,W=b[q]=!0)}}),W)continue}_.x.before&&(A+=_.x.before,y.x+=_.x.before),_.x.after&&(A-=_.x.after,y.x-=_.x.after),_.y.before&&(O+=_.y.before,y.y+=_.y.before),_.y.after&&(O-=_.y.after,y.y-=_.y.after);{const x=ht(y,h);E.x=h.width-x.x.before-x.x.after,E.y=h.height-x.y.before-x.y.after,A+=x.x.before,y.x+=x.x.before,O+=x.y.before,y.y+=x.y.before}break}const U=dt(m.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${m.anchor.side} ${m.anchor.align}`,transformOrigin:`${m.origin.side} ${m.origin.align}`,top:te(je(O)),left:e.isRtl.value?void 0:te(je(A)),right:e.isRtl.value?te(je(-A)):void 0,minWidth:te(U==="y"?Math.min(i.value,g.width):i.value),maxWidth:te(St(mt(E.x,i.value===1/0?0:i.value,l.value))),maxHeight:te(St(mt(E.y,a.value===1/0?0:a.value,u.value)))}),{available:E,contentBox:y}}return H(()=>[r.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>p()),Ze(()=>{const g=p();if(!g)return;const{available:y,contentBox:w}=g;w.height>y.y&&requestAnimationFrame(()=>{p(),requestAnimationFrame(()=>{p()})})}),{updateLocation:p}}function je(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function St(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Ue=!0;const Le=[];function Fa(e){!Ue||Le.length?(Le.push(e),Ye()):(Ue=!1,e(),Ye())}let bt=-1;function Ye(){cancelAnimationFrame(bt),bt=requestAnimationFrame(()=>{const e=Le.shift();e&&e(),Le.length?Ye():Ue=!0})}const Fe={none:null,close:xa,block:ka,reposition:Ra},Pa=ae({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Fe}},"VOverlay-scroll-strategies");function Ma(e,t){if(!fe)return;let n;et(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Nt(),await new Promise(o=>setTimeout(o)),n.active&&n.run(()=>{var o;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(o=Fe[e.scrollStrategy])==null||o.call(Fe,t,e,n)}))}),se(()=>{n==null||n.stop()})}function xa(e){function t(n){e.isActive.value=!1}Yt(e.targetEl.value??e.contentEl.value,t)}function ka(e,t){var i;const n=(i=e.root.value)==null?void 0:i.offsetParent,o=[...new Set([...Pe(e.targetEl.value,t.contained?n:void 0),...Pe(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),r=window.innerWidth-document.documentElement.offsetWidth,s=(a=>tt(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",te(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",te(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",te(r)),a.classList.add("v-overlay-scroll-blocked")}),se(()=>{o.forEach((a,l)=>{const u=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),v=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-u,a.scrollTop=-f,a.style.scrollBehavior=v}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Ra(e,t,n){let o=!1,r=-1,s=-1;function i(a){Fa(()=>{var f,v;const l=performance.now();(v=(f=e.updateLocation).value)==null||v.call(f,a),o=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Yt(e.targetEl.value??e.contentEl.value,a=>{o?(cancelAnimationFrame(r),r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{i(a)})})):i(a)})})}),se(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(r)})}function Yt(e,t){const n=[document,...Pe(e)];n.forEach(o=>{o.addEventListener("scroll",t,{passive:!0})}),se(()=>{n.forEach(o=>{o.removeEventListener("scroll",t)})})}const Ta=Symbol.for("vuetify:v-menu"),La=ae({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Na(e,t){let n=()=>{};function o(i){n==null||n();const a=Number(i?e.openDelay:e.closeDelay);return new Promise(l=>{n=Fn(a,()=>{t==null||t(i),l(i)})})}function r(){return o(!0)}function s(){return o(!1)}return{clearDelay:n,runOpenDelay:r,runCloseDelay:s}}const qa=ae({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...La()},"VOverlay-activator");function Ia(e,t){let{isActive:n,isTop:o,contentEl:r}=t;const s=qe("useActivator"),i=R();let a=!1,l=!1,u=!0;const f=L(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),v=L(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!f.value),{runOpenDelay:c,runCloseDelay:p}=Na(e,b=>{b===(e.openOnHover&&a||f.value&&l)&&!(e.openOnHover&&n.value&&!o.value)&&(n.value!==b&&(u=!0),n.value=b)}),g=R(),y={onClick:b=>{b.stopPropagation(),i.value=b.currentTarget||b.target,n.value||(g.value=[b.clientX,b.clientY]),n.value=!n.value},onMouseenter:b=>{var N;(N=b.sourceCapabilities)!=null&&N.firesTouchEvents||(a=!0,i.value=b.currentTarget||b.target,c())},onMouseleave:b=>{a=!1,p()},onFocus:b=>{Pn(b.target,":focus-visible")!==!1&&(l=!0,b.stopPropagation(),i.value=b.currentTarget||b.target,c())},onBlur:b=>{l=!1,b.stopPropagation(),p()}},w=L(()=>{const b={};return v.value&&(b.onClick=y.onClick),e.openOnHover&&(b.onMouseenter=y.onMouseenter,b.onMouseleave=y.onMouseleave),f.value&&(b.onFocus=y.onFocus,b.onBlur=y.onBlur),b}),d=L(()=>{const b={};if(e.openOnHover&&(b.onMouseenter=()=>{a=!0,c()},b.onMouseleave=()=>{a=!1,p()}),f.value&&(b.onFocusin=()=>{l=!0,c()},b.onFocusout=()=>{l=!1,p()}),e.closeOnContentClick){const N=qt(Ta,null);b.onClick=()=>{n.value=!1,N==null||N.closeParents()}}return b}),h=L(()=>{const b={};return e.openOnHover&&(b.onMouseenter=()=>{u&&(a=!0,u=!1,c())},b.onMouseleave=()=>{a=!1,p()}),b});H(o,b=>{var N;b&&(e.openOnHover&&!a&&(!f.value||!l)||f.value&&!l&&(!e.openOnHover||!a))&&!((N=r.value)!=null&&N.contains(document.activeElement))&&(n.value=!1)}),H(n,b=>{b||setTimeout(()=>{g.value=void 0})},{flush:"post"});const m=yt();et(()=>{m.value&&Ze(()=>{i.value=m.el})});const S=yt(),A=L(()=>e.target==="cursor"&&g.value?g.value:S.value?S.el:Xt(e.target,s)||i.value),O=L(()=>Array.isArray(A.value)?void 0:A.value);let E;return H(()=>!!e.activator,b=>{b&&fe?(E=Nt(),E.run(()=>{$a(e,s,{activatorEl:i,activatorEvents:w})})):E&&E.stop()},{flush:"post",immediate:!0}),se(()=>{E==null||E.stop()}),{activatorEl:i,activatorRef:m,target:A,targetEl:O,targetRef:S,activatorEvents:w,contentEvents:d,scrimEvents:h}}function $a(e,t,n){let{activatorEl:o,activatorEvents:r}=n;H(()=>e.activator,(l,u)=>{if(u&&l!==u){const f=a(u);f&&i(f)}l&&Ze(()=>s())},{immediate:!0}),H(()=>e.activatorProps,()=>{s()}),se(()=>{i()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Jn(l,B(r.value,u))}function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&Zn(l,B(r.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const u=Xt(l,t);return o.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,o.value}}function Xt(e,t){var o,r;if(!e)return;let n;if(e==="parent"){let s=(r=(o=t==null?void 0:t.proxy)==null?void 0:o.$el)==null?void 0:r.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function Va(){if(!fe)return ye(!1);const{ssr:e}=Mn();if(e){const t=ye(!1);return xn(()=>{t.value=!0}),t}else return ye(!0)}const Da=ae({eager:Boolean},"lazy");function ja(e,t){const n=ye(!1),o=L(()=>n.value||e.eager||t.value);H(t,()=>n.value=!0);function r(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:o,onAfterLeave:r}}function Kt(){const t=qe("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const wt=Symbol.for("vuetify:stack"),Se=It([]);function Ba(e,t,n){const o=qe("useStack"),r=!n,s=qt(wt,void 0),i=It({activeChildren:new Set});kn(wt,i);const a=ye(+t.value);Je(e,()=>{var v;const f=(v=Se.at(-1))==null?void 0:v[1];a.value=f?f+10:+t.value,r&&Se.push([o.uid,a.value]),s==null||s.activeChildren.add(o.uid),se(()=>{if(r){const c=Tn(Se).findIndex(p=>p[0]===o.uid);Se.splice(c,1)}s==null||s.activeChildren.delete(o.uid)})});const l=ye(!0);r&&et(()=>{var v;const f=((v=Se.at(-1))==null?void 0:v[0])===o.uid;setTimeout(()=>l.value=f)});const u=L(()=>!i.activeChildren.size);return{globalTop:Rn(l),localTop:u,stackStyles:L(()=>({zIndex:a.value}))}}function Wa(e){return{teleportTarget:L(()=>{const n=e();if(n===!0||!fe)return;const o=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(o==null)return;let r=[...o.children].find(s=>s.matches(".v-overlay-container"));return r||(r=document.createElement("div"),r.className="v-overlay-container",o.appendChild(r)),r})}}function Ga(){return!0}function Qt(e,t,n){if(!e||Jt(e,n)===!1)return!1;const o=Vt(t);if(typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&o.host===e.target)return!1;const r=(typeof n.value=="object"&&n.value.include||(()=>[]))();return r.push(t),!r.some(s=>s==null?void 0:s.contains(e.target))}function Jt(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Ga)(e)}function za(e,t,n){const o=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Qt(e,t,n)&&setTimeout(()=>{Jt(e,n)&&o&&o(e)},0)}function At(e,t){const n=Vt(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const Ha={mounted(e,t){const n=r=>za(r,e,t),o=r=>{e._clickOutside.lastMousedownWasOutside=Qt(r,e,t)};At(e,r=>{r.addEventListener("click",n,!0),r.addEventListener("mousedown",o,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:o}},beforeUnmount(e,t){e._clickOutside&&(At(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:o,onMousedown:r}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",o,!0),n.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Ua(e){const{modelValue:t,color:n,...o}=e;return M(Wn,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&M("div",B({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},o),null)]})}const Zt=ae({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...qa(),...Ae(),...Mt(),...Da(),...Aa(),...Pa(),...xt(),...Ln()},"VOverlay"),Et=ge()({name:"VOverlay",directives:{ClickOutside:Ha},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Zt()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:o,emit:r}=t;const s=qe("VOverlay"),i=R(),a=R(),l=R(),u=$t(e,"modelValue"),f=L({get:()=>u.value,set:k=>{k&&e.disabled||(u.value=k)}}),{themeClasses:v}=kt(e),{rtlClasses:c,isRtl:p}=Nn(),{hasContent:g,onAfterLeave:y}=ja(e,f),w=Rt(L(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:d,localTop:h,stackStyles:m}=Ba(f,Tt(e,"zIndex"),e._disableGlobalStack),{activatorEl:S,activatorRef:A,target:O,targetEl:E,targetRef:b,activatorEvents:N,contentEvents:U,scrimEvents:T}=Ia(e,{isActive:f,isTop:h,contentEl:l}),{teleportTarget:C}=Wa(()=>{var pe,ut,ct;const k=e.attach||e.contained;if(k)return k;const Y=((pe=S==null?void 0:S.value)==null?void 0:pe.getRootNode())||((ct=(ut=s.proxy)==null?void 0:ut.$el)==null?void 0:ct.getRootNode());return Y instanceof ShadowRoot?Y:!1}),{dimensionStyles:_}=Lt(e),x=Va(),{scopeId:V}=Kt();H(()=>e.disabled,k=>{k&&(f.value=!1)});const{contentStyles:F,updateLocation:W}=Ea(e,{isRtl:p,contentEl:l,target:O,isActive:f});Ma(e,{root:i,contentEl:l,targetEl:E,isActive:f,updateLocation:W});function q(k){r("click:outside",k),e.persistent?ie():f.value=!1}function G(k){return f.value&&d.value&&(!e.scrim||k.target===a.value||k instanceof MouseEvent&&k.shadowTarget===a.value)}fe&&H(f,k=>{k?window.addEventListener("keydown",Q):window.removeEventListener("keydown",Q)},{immediate:!0}),qn(()=>{fe&&window.removeEventListener("keydown",Q)});function Q(k){var Y,pe;k.key==="Escape"&&d.value&&(e.persistent?ie():(f.value=!1,(Y=l.value)!=null&&Y.contains(document.activeElement)&&((pe=S.value)==null||pe.focus())))}const re=In();Je(()=>e.closeOnBack,()=>{Gn(re,k=>{d.value&&f.value?(k(!1),e.persistent?ie():f.value=!1):k()})});const de=R();H(()=>f.value&&(e.absolute||e.contained)&&C.value==null,k=>{if(k){const Y=na(i.value);Y&&Y!==document.scrollingElement&&(de.value=Y.scrollTop)}});function ie(){e.noClickAnimation||l.value&&Qn(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:ta})}function fn(){r("afterEnter")}function vn(){y(),r("afterLeave")}return Qe(()=>{var k;return M(we,null,[(k=n.activator)==null?void 0:k.call(n,{isActive:f.value,targetRef:b,props:B({ref:A},N.value,e.activatorProps)}),x.value&&g.value&&M($n,{disabled:!C.value,to:C.value},{default:()=>[M("div",B({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":f.value,"v-overlay--contained":e.contained},v.value,c.value,e.class],style:[m.value,{"--v-overlay-opacity":e.opacity,top:te(de.value)},e.style],ref:i},V,o),[M(Ua,B({color:w,modelValue:f.value&&!!e.scrim,ref:a},T.value),null),M(Vn,{appear:!0,persisted:!0,transition:e.transition,target:O.value,onAfterEnter:fn,onAfterLeave:vn},{default:()=>{var Y;return[Dn(M("div",B({ref:l,class:["v-overlay__content",e.contentClass],style:[_.value,F.value]},U.value,e.contentProps),[(Y=n.default)==null?void 0:Y.call(n,{isActive:f})]),[[jn,f.value],[Bn("click-outside"),{handler:q,closeConditional:G,include:()=>[S.value]}]])]}})])]})])}),{activatorEl:S,scrimEl:a,target:O,animateClick:ie,contentEl:l,globalTop:d,localTop:h,updateLocation:W}}}),Be=Symbol("Forwarded refs");function We(e,t){let n=e;for(;n;){const o=Reflect.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function Ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e[Be]=n,new Proxy(e,{get(r,s){if(Reflect.has(r,s))return Reflect.get(r,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const i of n)if(i.value&&Reflect.has(i.value,s)){const a=Reflect.get(i.value,s);return typeof a=="function"?a.bind(i.value):a}}},has(r,s){if(Reflect.has(r,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const i of n)if(i.value&&Reflect.has(i.value,s))return!0;return!1},set(r,s,i){if(Reflect.has(r,s))return Reflect.set(r,s,i);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,i);return!1},getOwnPropertyDescriptor(r,s){var a;const i=Reflect.getOwnPropertyDescriptor(r,s);if(i)return i;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const u=We(l.value,s)??("_"in l.value?We((a=l.value._)==null?void 0:a.setupState,s):void 0);if(u)return u}for(const l of n){const u=l.value&&l.value[Be];if(!u)continue;const f=u.slice();for(;f.length;){const v=f.shift(),c=We(v.value,s);if(c)return c;const p=v.value&&v.value[Be];p&&f.push(...p)}}}}})}const Xa=ae({id:String,text:String,...zn(Zt({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),me=ge()({name:"VTooltip",props:Xa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const o=$t(e,"modelValue"),{scopeId:r}=Kt(),s=Hn(),i=L(()=>e.id||`v-tooltip-${s}`),a=R(),l=L(()=>e.location.split(" ").length>1?e.location:e.location+" center"),u=L(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),f=L(()=>e.transition?e.transition:o.value?"scale-transition":"fade-transition"),v=L(()=>B({"aria-describedby":i.value},e.activatorProps));return Qe(()=>{const c=Et.filterProps(e);return M(Et,B({ref:a,class:["v-tooltip",e.class],style:e.style,id:i.value},c,{modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,transition:f.value,absolute:!0,location:l.value,origin:u.value,persistent:!0,role:"tooltip",activatorProps:v.value,_disableGlobalStack:!0},r),{activator:n.activator,default:function(){var w;for(var p=arguments.length,g=new Array(p),y=0;y<p;y++)g[y]=arguments[y];return((w=n.default)==null?void 0:w.call(n,...g))??e.text}})}),Ya({},a)}}),Ka={class:"d-flex justify-center align-center ga-3"},Qa={class:"tuner-note text-primary d-flex ga-1"},Ja={class:"tuner-octave"},Za={class:"text-body-1 text-right",style:{width:"7rem"}};function er(e,t,n,o,r,s){return P(),z(He,{class:"d-flex flex-wrap justify-center ga-4 bg-background"},{default:$(()=>[e.running?(P(),z(me,{key:1,text:"Detener afinador",location:"start"},{activator:$(({props:i})=>[M(oe,B(i,{icon:"mdi-stop",onClick:e.stopTuner}),null,16,["onClick"])]),_:1})):(P(),z(me,{key:0,text:"Iniciar afinador",location:"start"},{activator:$(({props:i})=>[M(oe,B(i,{icon:"mdi-microphone",onClick:e.startTuner,color:"primary"}),null,16,["onClick"])]),_:1})),D("div",Ka,[D("div",Qa,[!e.showClassicSystem||e.showAmericanSystem?(P(),j("span",{key:0,class:ze(`tuner-american tuner-${e.note.note.isNatural()?"natural":"semi"}`)},J(e.note.note.name.american),3)):ne("",!0),e.showClassicSystem?(P(),j("span",{key:1,class:ze(`tuner-classic tuner-${e.note.note.isNatural()?"natural":"semi"}`)},J(e.note.note.name.classic),3)):ne("",!0),D("span",Ja,J(e.note.octave),1)]),D("div",Za,J(e.frequency.toFixed(2))+" Hz ",1)])]),_:1})}const tr=Ee(Sa,[["render",er],["__scopeId","data-v-c5aeb6e2"]]),nr={class:"text-center"},ar={key:0},rr={key:1},or=ve({__name:"PianoKeyNatural",props:{note:{},playSound:{type:Function},stopSound:{type:Function},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0}},setup(e){return(t,n)=>(P(),z(oe,{class:"piano-key key-white",onMousedown:n[0]||(n[0]=o=>t.playSound(t.note.frequency.main)),onMouseup:n[1]||(n[1]=o=>t.stopSound())},{default:$(()=>[D("div",nr,[t.showClassicSystem?(P(),j("div",ar,J(t.note.name.classic),1)):ne("",!0),t.showAmericanSystem?(P(),j("div",rr,J(t.note.name.american),1)):ne("",!0)])]),_:1}))}}),sr=Ee(or,[["__scopeId","data-v-175c0436"]]),ir={key:0},lr={key:0},ur={key:1},cr={key:1},fr={key:0},vr={key:1},dr=ve({__name:"PianoKeySemiSF",props:{note:{},playSound:{type:Function},stopSound:{type:Function},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0}},setup(e){return(t,n)=>t.note!=Oe(I).EmptyNote?(P(),z(oe,{key:0,class:"piano-key key-black",onMousedown:n[0]||(n[0]=o=>t.playSound(t.note.frequency.main)),onMouseup:n[1]||(n[1]=o=>t.stopSound())},{default:$(()=>[t.showSemiSharps?(P(),j("div",ir,[t.showClassicSystem?(P(),j("div",lr,[be(J(t.note.sharp.name.classic),1),n[2]||(n[2]=D("span",{class:"accidental"},"#",-1))])):ne("",!0),t.showAmericanSystem?(P(),j("div",ur,[be(J(t.note.sharp.name.american),1),n[3]||(n[3]=D("span",{class:"accidental"},"#",-1))])):ne("",!0)])):ne("",!0),t.showSemiFlats?(P(),j("div",cr,[t.showClassicSystem?(P(),j("div",fr,[be(J(t.note.flat.name.classic),1),n[4]||(n[4]=D("span",{class:"accidental"},"b",-1))])):ne("",!0),t.showAmericanSystem?(P(),j("div",vr,[be(J(t.note.flat.name.american),1),n[5]||(n[5]=D("span",{class:"accidental"},"b",-1))])):ne("",!0)])):ne("",!0)]),_:1})):(P(),z(oe,{key:1,class:"key-black empty"}))}}),mr=Ee(dr,[["__scopeId","data-v-4d7330c9"]]),yr=ve({__name:"PianoLightTail",props:{note:{default:()=>I.EmptyNote},currentFrequency:{default:()=>note.frequency.main}},setup(e){e.note;const t=R(50),n=R(!1);return H(()=>e.currentFrequency,()=>{n.value=he.IsOnRange(e.note.frequency.min,e.note.frequency.max,e.currentFrequency),t.value=n.value?he.ToRange(e.currentFrequency,e.note.frequency.min,e.note.frequency.max)*100:50}),(o,r)=>(P(),j("div",{class:ze(`light-tail ${o.note.isNatural()?"":"shrink"} ${n.value?"active":""}`)},[r[1]||(r[1]=D("div",{class:"light-tail-border left"},null,-1)),D("div",{class:"light-tail-indicator",style:Un(`left: calc(${t.value}% - 1.2rem);`)},r[0]||(r[0]=[D("div",{class:"light-tail-indicator-point"},null,-1)]),4),r[2]||(r[2]=D("div",{class:"light-tail-border right"},null,-1))],2))}}),hr=Ee(yr,[["__scopeId","data-v-17fc28a4"]]),en=Ie.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),tn=Ie.reduce((e,t)=>{const n="offset"+Ne(t);return e[n]={type:[String,Number],default:null},e},{}),nn=Ie.reduce((e,t)=>{const n="order"+Ne(t);return e[n]={type:[String,Number],default:null},e},{}),Ot={col:Object.keys(en),offset:Object.keys(tn),order:Object.keys(nn)};function gr(e,t,n){let o=e;if(!(n==null||n===!1)){if(t){const r=t.replace(e,"");o+=`-${r}`}return e==="col"&&(o="v-"+o),e==="col"&&(n===""||n===!0)||(o+=`-${n}`),o.toLowerCase()}}const pr=["auto","start","end","center","baseline","stretch"],Sr=ae({cols:{type:[Boolean,String,Number],default:!1},...en,offset:{type:[String,Number],default:null},...tn,order:{type:[String,Number],default:null},...nn,alignSelf:{type:String,default:null,validator:e=>pr.includes(e)},...Ae(),...Ke()},"VCol"),Ct=ge()({name:"VCol",props:Sr(),setup(e,t){let{slots:n}=t;const o=L(()=>{const r=[];let s;for(s in Ot)Ot[s].forEach(a=>{const l=e[a],u=gr(s,a,l);u&&r.push(u)});const i=r.some(a=>a.startsWith("v-col-"));return r.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),r});return()=>{var r;return Xe(e.tag,{class:[o.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),it=["start","end","center"],an=["space-between","space-around","space-evenly"];function lt(e,t){return Ie.reduce((n,o)=>{const r=e+Ne(o);return n[r]=t(),n},{})}const br=[...it,"baseline","stretch"],rn=e=>br.includes(e),on=lt("align",()=>({type:String,default:null,validator:rn})),wr=[...it,...an],sn=e=>wr.includes(e),ln=lt("justify",()=>({type:String,default:null,validator:sn})),Ar=[...it,...an,"stretch"],un=e=>Ar.includes(e),cn=lt("alignContent",()=>({type:String,default:null,validator:un})),_t={align:Object.keys(on),justify:Object.keys(ln),alignContent:Object.keys(cn)},Er={align:"align",justify:"justify",alignContent:"align-content"};function Or(e,t,n){let o=Er[e];if(n!=null){if(t){const r=t.replace(e,"");o+=`-${r}`}return o+=`-${n}`,o.toLowerCase()}}const Cr=ae({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:rn},...on,justify:{type:String,default:null,validator:sn},...ln,alignContent:{type:String,default:null,validator:un},...cn,...Ae(),...Ke()},"VRow"),Ge=ge()({name:"VRow",props:Cr(),setup(e,t){let{slots:n}=t;const o=L(()=>{const r=[];let s;for(s in _t)_t[s].forEach(i=>{const a=e[i],l=Or(s,i,a);l&&r.push(l)});return r.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),r});return()=>{var r;return Xe(e.tag,{class:["v-row",o.value,e.class],style:e.style},(r=n.default)==null?void 0:r.call(n))}}}),_r=ea("v-spacer","div","VSpacer"),Fr=ve({__name:"PianoOctave",props:{octaveId:{default:()=>le.OCTAVE_CENTRAL},currentFrequency:{default:0},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0}},setup(e){const t=R(null),n=R(null),o=R("sine"),r=i=>{t.value==null&&(t.value=new window.AudioContext),n.value=t.value.createOscillator(),n.value.type=o.value,n.value.frequency.setValueAtTime(i,t.value.currentTime),n.value.connect(t.value.destination),n.value.start()},s=()=>{n.value&&(n.value.stop(),n.value=null)};return(i,a)=>(P(),z(Ct,{class:"position-relative rounded-lg mt-4",xs:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"3"},{default:$(()=>[M(Ge,{class:"flex-nowrap piano-keys key-tails mx-0"},{default:$(()=>[(P(!0),j(we,null,Ce(Oe(le).GetNotesAtOctave(i.octaveId),l=>(P(),z(hr,{note:l,"current-frequency":i.currentFrequency},null,8,["note","current-frequency"]))),256))]),_:1}),M(Ge,{class:"flex-nowrap piano-keys white-keys"},{default:$(()=>[(P(!0),j(we,null,Ce(Oe(le).GetNaturalsAtOctave(i.octaveId),l=>(P(),z(sr,{note:l,"play-sound":r,"stop-sound":s,"show-classic-system":i.showClassicSystem,"show-american-system":i.showAmericanSystem},null,8,["note","show-classic-system","show-american-system"]))),256))]),_:1}),M(Ge,{class:"flex-nowrap piano-keys black-keys"},{default:$(()=>[(P(!0),j(we,null,Ce(Oe(le).GetSemisAtOctave(i.octaveId),l=>(P(),z(mr,{note:l,"play-sound":r,"stop-sound":s,"show-classic-system":i.showClassicSystem,"show-american-system":i.showAmericanSystem,"show-semi-sharps":i.showSemiSharps,"show-semi-flats":i.showSemiFlats},null,8,["note","show-classic-system","show-american-system","show-semi-sharps","show-semi-flats"]))),256))]),_:1}),M(Ct,{cols:"12",class:"piano-octave-id"},{default:$(()=>[be(J(i.octaveId),1)]),_:1})]),_:1}))}}),Pr=Ee(Fr,[["__scopeId","data-v-25d199af"]]),Mr={class:"px-3 mb-2 d-flex justify-space-between position-relative",style:{"z-index":"20"}},xr={class:"d-flex align-center ga-2"},kr={class:"d-flex align-center ga-2"},Rr=ve({__name:"Piano",props:{currentFrequency:{default:0}},setup(e){const t=R({min:3,max:5}),n=()=>{const s=t.value.max-t.value.min+1;return Array.from(Array(s).keys()).map(a=>a+t.value.min)},o=(s=!0)=>{s?t.value.min-=1:t.value.min+=1},r=(s=!0)=>{s?t.value.max+=1:t.value.max-=1};return(s,i)=>(P(),z(He,{class:"bg-background"},{default:$(()=>[Yn(s.$slots,"default"),D("div",Mr,[D("div",xr,[M(me,{text:"Incluir una octava grave más",location:"top"},{activator:$(({props:a})=>[M(oe,B(a,{variant:"tonal",disabled:t.value.min<=1,icon:"mdi-music-note-plus",onClick:i[0]||(i[0]=l=>o(!0))}),null,16,["disabled"])]),_:1}),M(me,{text:"Disminuir una octava grave",location:"right"},{activator:$(({props:a})=>[M(oe,B(a,{size:"small",variant:"tonal",disabled:t.value.min>=t.value.max,icon:"mdi-music-note-minus",onClick:i[1]||(i[1]=l=>o(!1))}),null,16,["disabled"])]),_:1})]),M(_r),D("div",kr,[M(me,{text:"Disminuir una octava aguda",location:"left"},{activator:$(({props:a})=>[M(oe,B(a,{size:"small",variant:"tonal",disabled:t.value.min>=t.value.max,icon:"mdi-music-note-minus",onClick:i[2]||(i[2]=l=>r(!1))}),null,16,["disabled"])]),_:1}),M(me,{text:"Incluir una octava aguda más",location:"top"},{activator:$(({props:a})=>[M(oe,B(a,{variant:"tonal",disabled:t.value.max>=7,icon:"mdi-music-note-plus",onClick:i[3]||(i[3]=l=>r(!0))}),null,16,["disabled"])]),_:1})])]),M(He,{class:"d-flex flex-wrap justify-center align-center ga-0 position-relative pa-2 pt-10",style:{"z-index":"10"}},{default:$(()=>[(P(!0),j(we,null,Ce(n(),a=>(P(),z(Pr,{octaveId:a,currentFrequency:s.currentFrequency},null,8,["octaveId","currentFrequency"]))),256))]),_:1})]),_:3}))}}),qr=ve({__name:"Home",setup(e){const t=R(0),n=R(""),o=R(null),r=R(!1),s=a=>{t.value=a},i=a=>{n.value=a};return(a,l)=>(P(),z(Rr,{"current-frequency":t.value},{default:$(()=>[M(tr,{ref_key:"tunerRef",ref:o,"onUpdate:frequency":s,"onUpdate:note":i,onIsRunning:l[0]||(l[0]=u=>r.value=u)},null,512)]),_:1},8,["current-frequency"]))}});export{qr as default};

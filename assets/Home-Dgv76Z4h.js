var hn=Object.defineProperty;var gn=(e,t,n)=>t in e?hn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var J=(e,t,n)=>gn(e,typeof t!="symbol"?t+"":t,n);import{c as Z}from"./_commonjsHelpers-Cpj98o6Y.js";import{i as Pt,e as Tt,d as ie,r as C,p as re,m as Sn,a as Ie,b as Rt,c as wn,f as pn,g as bn,h as An,j as Qe,k as Mt,l as Ce,n as Lt,u as kt,t as _t,o as En,q as xt,s as Cn,v as On,w as Fn,x as Pn,y as Je,z as E,I as ye,A as Ze,B as $,C as le,D as Tn,E as vt,F as Ve,G as Be,H as dt,J as q,K as Ke,L as mt,M as ae,N as yt,O as et,P as Nt,Q as Rn,R as De,S as qt,T as ht,U,V as Mn,W as we,X as Ln,Y as kn,Z as It,_ as _n,$ as xn,a0 as Nn,a1 as qn,a2 as Dt,a3 as In,a4 as Dn,a5 as $n,a6 as Vn,a7 as Bn,a8 as jn,a9 as Un,aa as Wn,ab as fe,ac as Gn,ad as Hn,ae as zn,af as Yn,ag as be,ah as P,ai as H,aj as k,ak as j,al as G,am as $t,an as D,ao as Y,ap as ee,aq as Oe,ar as $e,as as tt,at as Vt,au as je,av as oe,aw as de,ax as Xn,ay as Fe,az as Qn}from"./index-0gGXsbmb.js";class me{constructor(t){let{x:n,y:r,width:o,height:s}=t;this.x=n,this.y=r,this.width=o,this.height=s}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function gt(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Jn(e){return Array.isArray(e)?new me({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Zn(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let o,s,i,a,l;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),s=+o[0],i=+o[5],a=+o[12],l=+o[13];else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),s=+o[0],i=+o[3],a=+o[4],l=+o[5];else return new me(t);const c=n.transformOrigin,f=t.x-a-(1-s)*parseFloat(c),v=t.y-l-(1-i)*parseFloat(c.slice(c.indexOf(" ")+1)),u=s?t.width/s:e.offsetWidth+1,d=i?t.height/i:e.offsetHeight+1;return new me({x:f,y:v,width:u,height:d})}else return new me(t)}function Kn(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}const Pe=new WeakMap;function ea(e,t){Object.keys(t).forEach(n=>{if(Pt(n)){const r=Tt(n),o=Pe.get(e);if(t[n]==null)o==null||o.forEach(s=>{const[i,a]=s;i===r&&(e.removeEventListener(r,a),o.delete(s))});else if(!o||![...o].some(s=>s[0]===r&&s[1]===t[n])){e.addEventListener(r,t[n]);const s=o||new Set;s.add([r,t[n]]),Pe.has(e)||Pe.set(e,s)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function ta(e,t){Object.keys(t).forEach(n=>{if(Pt(n)){const r=Tt(n),o=Pe.get(e);o==null||o.forEach(s=>{const[i,a]=s;i===r&&(e.removeEventListener(r,a),o.delete(s))})}else e.removeAttribute(n)})}function Bt(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const na="cubic-bezier(0.4, 0, 0.2, 1)";function aa(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?ra(e):nt(e))return e;e=e.parentElement}return document.scrollingElement}function Me(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(nt(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function nt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function ra(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function sa(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const ne=class ne{};J(ne,"IsOnRange",(t,n,r)=>r<n&&r>t),J(ne,"Clamp",(t,n=0,r=1)=>Math.min(r,Math.max(n,t))),J(ne,"Lerp",(t,n,r)=>t*(1-r)+n*r),J(ne,"Invlerp",(t,n,r)=>ne.Clamp((r-t)/(n-t))),J(ne,"ToRange",(t,n,r,o=0,s=1)=>ne.Lerp(o,s,ne.Invlerp(n,r,t)));let pe=ne;class M{constructor(t,n,r){J(this,"$natural",!0);J(this,"name",{classic:M.Classic.ENotes.NONE,american:M.American.ENotes.NONE});J(this,"frequency",{main:0,min:0,max:0});J(this,"isNatural",()=>this.$natural);this.frequency.main=t,n&&(this.name.classic=n),r&&(this.name.american=r)}}class te extends M{constructor(n,r=M.Classic.ENotes.NONE,o=M.American.ENotes.NONE){super(n,r,o);J(this,"sharp",M.EmptyNote);J(this,"flat",M.EmptyNote);this.$natural=!1}}(e=>{(s=>{s[s.CLASSIC=0]="CLASSIC",s[s.AMERICAN=1]="AMERICAN"})(e.Systems||(e.Systems={})),(s=>{s[s.SHARP=0]="SHARP",s[s.FLAT=1]="FLAT",s[s.NATURAL=2]="NATURAL",s[s.DOUBLE_SHARP=3]="DOUBLE_SHARP",s[s.DOUBLE_FLAT=4]="DOUBLE_FLAT"})(e.Accidentals||(e.Accidentals={})),(s=>{(i=>{i.NONE="?",i.DO="DO",i.DOS_REF="DO# REb",i.RE="RE",i.RES_MIF="RE# MIb",i.MI="MI",i.FA="FA",i.FAS_SOLF="FA# SOLb",i.SOL="SOL",i.SOLS_LAF="SOL# LAb",i.LA="LA",i.LAS_SIF="LA# SIb",i.SI="SI"})(s.ENotes||(s.ENotes={}))})(e.Classic||(e.Classic={})),(s=>{(i=>{i.NONE="?",i.C="C",i.CS_DF="C# Db",i.D="D",i.DS_EF="D# Eb",i.E="E",i.F="F",i.FS_GF="F# Gb",i.G="G",i.GS_AF="G# Ab",i.A="A",i.AS_BF="A# Bb",i.B="B"})(s.ENotes||(s.ENotes={}))})(e.American||(e.American={}));let t=[new e(261.63,"DO","C"),new te(277.18,"DO# REb","C# Db"),new e(293.66,"RE","D"),new te(311.13,"RE# MIb","D# Eb"),new e(329.63,"MI","E"),new e(349.23,"FA","F"),new te(369.99,"FA# SOLb","F# Gb"),new e(392,"SOL","G"),new te(415.3,"SOL# LAb","G# Ab"),new e(440,"LA","A"),new te(466.16,"LA# SIb","A# Bb"),new e(493.88,"SI","B")];e.Notes=t,e.EmptyNote=new te(0);let n=[],r=[];const o=(s,i)=>Math.sqrt(s*i);e.FillMedFrequencys=(s,i,a)=>{for(let l=0;l<s.length;l++){{const c=l>0?s[l-1].frequency.main:s[s.length-1].frequency.main/2;s[l].frequency.min=o(c,s[l].frequency.main)}{const c=l<s.length-1?s[l+1].frequency.main:s[0].frequency.main*2;s[l].frequency.max=o(s[l].frequency.main,c)}s[l]instanceof te?(s[l].sharp=s[l-1],s[l].flat=s[l+1],a.push(s[l])):(i.push(s[l]),l<s.length-1&&!(s[l+1]instanceof te)&&a.push(e.EmptyNote))}},(0,e.FillMedFrequencys)(t,n,r),e.Naturals=n,e.Semis=r})(M||(M={}));var ce;(e=>{e.OCTAVE_CENTRAL=4,e.OCTAVE_RANGE={MIN:1,MAX:7};const t=(l,c)=>l/Math.pow(2,c),n=(l,c)=>l*Math.pow(2,c),r=(l,c)=>l==e.OCTAVE_CENTRAL?c:l<e.OCTAVE_CENTRAL?t(c,e.OCTAVE_CENTRAL-l):n(c,l-e.OCTAVE_CENTRAL);let o=[],s=[],i=[];for(let l=e.OCTAVE_RANGE.MIN;l<=e.OCTAVE_RANGE.MAX;l++){let c=[],f=[],v=[];M.Notes.forEach(u=>{const d=r(l,u.frequency.main);let w;u instanceof te?w=new te(d,u.name.classic,u.name.american):w=new M(d,u.name.classic,u.name.american),c.push(w)}),M.FillMedFrequencys(c,f,v),o.push(c),s.push(f),i.push(v)}const a=l=>pe.Clamp(l,e.OCTAVE_RANGE.MIN,e.OCTAVE_RANGE.MAX)-e.OCTAVE_RANGE.MIN;e.GetNotesAtOctave=l=>o[a(l)],e.GetNaturalsAtOctave=l=>s[a(l)],e.GetSemisAtOctave=l=>i[a(l)]})(ce||(ce={}));var ve={},at={},Le=Z&&Z.__assign||function(){return Le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Le.apply(this,arguments)};Object.defineProperty(at,"__esModule",{value:!0});var oa={threshold:.1,sampleRate:44100,probabilityThreshold:.1};function ia(e){e===void 0&&(e={});var t=Le(Le({},oa),e),n=t.threshold,r=t.sampleRate,o=t.probabilityThreshold;return function(i){var a;for(a=1;a<i.length;a*=2);a/=2;for(var l=a/2,c=new Float32Array(l),f=0,v,u=0;u<l;u++)c[u]=0;for(var u=1;u<l;u++)for(var d=0;d<l;d++){var w=i[d]-i[d+u];c[u]+=w*w}c[0]=1,c[1]=1;for(var g=0,u=1;u<l;u++)g+=c[u],c[u]*=u/g;for(v=2;v<l;v++)if(c[v]<n){for(;v+1<l&&c[v+1]<c[v];)v++;f=1-c[v];break}if(v===l||c[v]>=n||f<o)return null;var A,m,h;if(v<1?m=v:m=v-1,v+1<l?h=v+1:h=v,m===v)c[v]<=c[h]?A=v:A=h;else if(h===v)c[v]<=c[m]?A=v:A=m;else{var y=c[m],S=c[v],b=c[h];A=v+(b-y)/(2*(2*S-b-y))}return r/A}}at.YIN=ia;var rt={},ke=Z&&Z.__assign||function(){return ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ke.apply(this,arguments)};Object.defineProperty(rt,"__esModule",{value:!0});var la={sampleRate:44100,minFrequency:82,maxFrequency:1e3,ratio:5,sensitivity:.1};function ua(e){e===void 0&&(e={});var t=ke(ke({},la),e),n=t.sampleRate,r=t.minFrequency,o=t.maxFrequency,s=t.sensitivity,i=t.ratio,a=[],l=Math.ceil(n/r),c=Math.floor(n/o);return function(v){var u=v.length,d=0,w=1/0,g=-1/0,A,m,h,y,S,b,O,F;for(y=0;y<u;y++)if(c<=y&&y<=l){for(O=0,F=y,d=0,A=[],m=[];O<u-y;d++,F++,O++)A[d]=v[O],m[d]=v[F];var p=A.length;for(h=[],b=0;b<p;b++)h[b]=A[b]-m[b];var I=0;for(b=0;b<p;b++)I+=Math.abs(h[b]);a[y]=I}for(S=c;S<l;S++)a[S]<w&&(w=a[S]),a[S]>g&&(g=a[S]);var X=Math.round(s*(g-w)+w);for(S=c;S<=l&&a[S]>X;S++);var N=c/2;w=a[S];var T=S;for(y=S-1;y<S+N&&y<=l;y++)a[y]<w&&(w=a[y],T=y);return Math.round(a[T]*i)<g?n/T:null}}rt.AMDF=ua;var st={},_e=Z&&Z.__assign||function(){return _e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_e.apply(this,arguments)};Object.defineProperty(st,"__esModule",{value:!0});var St={sampleRate:44100};function ca(e){e===void 0&&(e=St);var t=_e(_e({},St),e),n=t.sampleRate;return function(o){var s=o.length,i=0,a,l,c,f;for(a=0;a<s;a++)f=o[a],i+=f*f;if(i=Math.sqrt(i/s),i<.01)return-1;var v=0,u=s-1,d=.2;for(a=0;a<s/2;a++)if(Math.abs(o[a])<d){v=a;break}for(a=1;a<s/2;a++)if(Math.abs(o[s-a])<d){u=s-a;break}var w=o.slice(v,u),g=w.length,A=new Array(g).fill(0);for(a=0;a<g;a++)for(l=0;l<g-a;l++)A[a]=A[a]+w[l]*w[l+a];for(c=0;A[c]>A[c+1];)c++;var m=-1,h=-1;for(a=c;a<g;a++)A[a]>m&&(m=A[a],h=a);var y=h,S=A[y-1],b=A[y],O=A[y+1],F=(S+O-2*b)/2,p=(O-S)/2;return F&&(y=y-p/(2*F)),n/y}}st.ACF2PLUS=ca;var ot={},xe=Z&&Z.__assign||function(){return xe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},xe.apply(this,arguments)};Object.defineProperty(ot,"__esModule",{value:!0});var fa=6,va=3e3,da=3,ma=.75,ya={sampleRate:44100};function ha(e){e===void 0&&(e={});var t=xe(xe({},ya),e),n=t.sampleRate;return function(o){for(var s=[],i=[],a=o.length,l=null,c=0,f=0,v=0,u=0;u<a;u++){var d=o[u];c=c+d,v=Math.max(v,d),f=Math.min(f,d)}c/=a,f-=c,v-=c;for(var w=v>-1*f?v:-1*f,g=w*ma,A=0,m=-1,h=o.length,y,S,b;y=~~(n/(Math.pow(2,A)*va)),!(h<2);){var O=void 0,F=-1e3,p=-1e6,I=-1e6,X=!1,N=!1;b=0,S=0;for(var u=2;u<h;u++){var T=o[u]-c,R=o[u-1]-c;R<=0&&T>0&&(X=!0),R>=0&&T<0&&(N=!0),O=T-R,F>-1e3&&(N&&F<0&&O>=0&&Math.abs(T)>=g&&u>p+y&&(s[b++]=u,p=u,N=!1),X&&F>0&&O<=0&&Math.abs(T)>=g&&u>I+y&&(i[S++]=u,I=u,X=!1)),F=O}if(b===0&&S===0)break;for(var _=void 0,B=[],u=0;u<h;u++)B[u]=0;for(var u=0;u<b;u++)for(var L=1;L<da;L++)u+L<b&&(_=Math.abs(s[u]-s[u+L]),B[_]+=1);for(var W=-1,V=-1,u=0;u<h;u++){for(var z=0,L=-1*y;L<=y;L++)u+L>=0&&u+L<h&&(z+=B[u+L]);z===V?u===2*W&&(W=u):z>V&&(V=z,W=u)}for(var K=0,se=0,L=-y;L<=y;L++)if(W+L>=0&&W+L<a){var he=B[W+L];he>0&&(se+=he,K+=(W+L)*he)}if(K/=se,m>-1&&Math.abs(K*2-m)<=2*y){l=n/(Math.pow(2,A-1)*m);break}if(m=K,A++,A>=fa||h<2)break;var ue=o.subarray(0);h===B.length&&(ue=new Float32Array(h/2));for(var u=0;u<h/2;u++)ue[u]=(o[2*u]+o[2*u+1])/2;o=ue,h/=2}return l}}ot.DynamicWavelet=ha;var it={},Ne=Z&&Z.__assign||function(){return Ne=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Ne.apply(this,arguments)};Object.defineProperty(it,"__esModule",{value:!0});var ga={bufferSize:1024,cutoff:.97,sampleRate:44100};function Sa(e){e===void 0&&(e={});var t=Ne(Ne({},ga),e),n=t.bufferSize,r=t.cutoff,o=t.sampleRate,s=.5,i=80,a=new Float32Array(n),l=new Float32Array(n),c,f,v=[],u=[],d=[];function w(m){var h,y;l[0]=m[0]*m[0];for(var S=1;S<m.length;S+=1)l[S]=m[S]*m[S]+l[S-1];for(var b=0;b<m.length;b++){h=0,y=l[m.length-1-b]+l[m.length-1]-l[b];for(var S=0;S<m.length-b;S++)h+=m[S]*m[S+b];a[b]=2*h/y}}function g(m){var h=a[m-1],y=a[m],S=a[m+1],b=m,O=S+h-2*y;if(O===0)c=b,f=y;else{var F=h-S;c=b+F/(2*O),f=y-F*F/(8*O)}}function A(){for(var m=0,h=0;m<(a.length-1)/3&&a[m]>0;)m++;for(;m<a.length-1&&a[m]<=0;)m++;for(m==0&&(m=1);m<a.length-1;)if(a[m]>a[m-1]&&a[m]>=a[m+1]&&(h==0||a[m]>a[h])&&(h=m),m++,m<a.length-1&&a[m]<=0)for(h>0&&(v.push(h),h=0);m<a.length-1&&a[m]<=0;)m++;h>0&&v.push(h)}return function(h){var y;v=[],u=[],d=[],w(h),A();for(var S=-1/0,b=0;b<v.length;b++){var O=v[b];S=Math.max(S,a[O]),a[O]>s&&(g(O),d.push(f),u.push(c),S=Math.max(S,f))}if(u.length){for(var F=r*S,p=0,b=0;b<d.length;b++)if(d[b]>=F){p=b;break}var I=u[p],X=o/I;X>i?y=X:y=-1}else y=-1;return{probability:S,freq:y}}}it.Macleod=Sa;var jt={};(function(e){var t=Z&&Z.__assign||function(){return t=Object.assign||function(o){for(var s,i=1,a=arguments.length;i<a;i++){s=arguments[i];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},t.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FREQUENCIES_PARAMS={tempo:120,quantization:4,sampleRate:44100};function n(o,s){var i=o.map(function(d){return d(s)}).filter(function(d){return d!==null}).sort(function(d,w){return d-w});if(i.length===1)return i[0];if(i.length===2){var a=i[0],l=i[1];return a*2>l?Math.sqrt(a*l):a}else{var a=i[0],l=i[1],c=i[i.length-2],f=i[i.length-1],v=a*2>l?i:i.slice(1),u=c*2>f?v:v.slice(0,-1);return Math.pow(u.reduce(function(g,A){return g*A},1),1/u.length)}}function r(o,s,i){i===void 0&&(i={});var a=t(t({},e.DEFAULT_FREQUENCIES_PARAMS),i),l=a.tempo,c=a.quantization,f=a.sampleRate,v=s.length,u=Math.round(f*60/(c*l)),d;Array.isArray(o)?d=n.bind(null,o):d=o;for(var w=[],g=0,A=v-u;g<=A;g+=u){var m=s.slice(g,g+u),h=d(m);w.push(h)}return w}e.frequencies=r})(jt);Object.defineProperty(ve,"__esModule",{value:!0});var Ut=at;ve.YIN=Ut.YIN;var Wt=rt;ve.AMDF=Wt.AMDF;var Gt=st;ve.ACF2PLUS=Gt.ACF2PLUS;var Ht=ot;ve.DynamicWavelet=Ht.DynamicWavelet;var zt=it;ve.Macleod=zt.Macleod;var Yt=jt;ve.frequencies=Yt.frequencies;var wa=ve.default={YIN:Ut.YIN,AMDF:Wt.AMDF,ACF2PLUS:Gt.ACF2PLUS,DynamicWavelet:Ht.DynamicWavelet,Macleod:zt.Macleod,frequencies:Yt.frequencies};const pa=ie({name:"Tuner",emits:["update:frequency","update:note","is-running","update:bad-frequency"],props:{classes:{type:String,default:""},showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,defailt:!0},showSemiFlats:{type:Boolean,defailt:!0}},setup(e,{emit:t,expose:n}){const r=C(null),o=C(null),s=C(0),i=C({note:M.EmptyNote,octave:0}),a=C(!1),l=C(!0),c=C(null),f=C(new Date),v=500,u=wa.YIN(),d=m=>{const S=Math.round(12*(Math.log(m/440)/Math.log(2)))+69,b=S%12,O=Math.floor(S/12)-1;if(pe.IsOnRange(ce.OCTAVE_RANGE.MIN,ce.OCTAVE_RANGE.MAX,O)){const F=M.Notes[b];return f.value=new Date,{note:F,octave:O}}return{note:M.EmptyNote,octave:-1}},w=()=>{if(!o.value||!r.value||!a.value)return;const m=o.value.fftSize,h=new Float32Array(m);o.value.getFloatTimeDomainData(h);const y=u(h);if(y){const S=d(y);S.octave==-1?new Date().getTime()-f.value.getTime()>v&&(l.value=!0,t("update:bad-frequency",!0)):(s.value=y,i.value=S,l.value=!1,t("update:note",i.value),t("update:frequency",y),t("update:bad-frequency",!1))}requestAnimationFrame(w)},g=async()=>{if(a.value)return;r.value=new AudioContext,o.value=r.value.createAnalyser(),o.value.fftSize=2048,c.value=await navigator.mediaDevices.getUserMedia({audio:!0}),r.value.createMediaStreamSource(c.value).connect(o.value),a.value=!0,t("is-running",!0),w()},A=()=>{r.value&&r.value.close(),a.value=!1,t("is-running",!1),c.value!=null&&c.value.getTracks().forEach(m=>{m.stop()})};return n({startTuner:g,stopTuner:A}),{frequency:s,note:i,startTuner:g,stopTuner:A,running:a,badFrequency:l}}}),ba=re({color:String,...Sn(),...Ie(),...Rt(),...wn(),...pn(),...bn(),...An(),...Qe(),...Mt()},"VSheet"),ze=Ce()({name:"VSheet",props:ba(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Lt(e),{backgroundColorClasses:o,backgroundColorStyles:s}=kt(_t(e,"color")),{borderClasses:i}=En(e),{dimensionStyles:a}=xt(e),{elevationClasses:l}=Cn(e),{locationStyles:c}=On(e),{positionClasses:f}=Fn(e),{roundedClasses:v}=Pn(e);return Je(()=>E(e.tag,{class:["v-sheet",r.value,o.value,i.value,l.value,f.value,v.value,e.class],style:[s.value,a.value,c.value,e.style]},n)),{}}});function Ue(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Aa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wt(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,o=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,s=n==="top"?0:n==="bottom"?t.height:n;return Ue({x:o,y:s},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,o=n==="left"?0:n==="right"?t.width:n,s=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return Ue({x:o,y:s},t)}return Ue({x:t.width/2,y:t.height/2},t)}const Xt={static:Oa,connected:Pa},Ea=re({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Xt},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Ca(e,t){const n=C({}),r=C();ye&&Ze(()=>!!(t.isActive.value&&e.locationStrategy),s=>{var i,a;$(()=>e.locationStrategy,s),le(()=>{window.removeEventListener("resize",o),r.value=void 0}),window.addEventListener("resize",o,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(i=e.locationStrategy(t,e,n))==null?void 0:i.updateLocation:r.value=(a=Xt[e.locationStrategy](t,e,n))==null?void 0:a.updateLocation});function o(s){var i;(i=r.value)==null||i.call(r,s)}return{contentStyles:n,updateLocation:r}}function Oa(){}function Fa(e,t){const n=Zn(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function Pa(e,t,n){(Array.isArray(e.target.value)||sa(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:s}=Tn(()=>{const w=vt(t.location,e.isRtl.value),g=t.origin==="overlap"?w:t.origin==="auto"?Ve(w):vt(t.origin,e.isRtl.value);return w.side===g.side&&w.align===Be(g).align?{preferredAnchor:dt(w),preferredOrigin:dt(g)}:{preferredAnchor:w,preferredOrigin:g}}),[i,a,l,c]=["minWidth","minHeight","maxWidth","maxHeight"].map(w=>q(()=>{const g=parseFloat(t[w]);return isNaN(g)?1/0:g})),f=q(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const w=t.offset.split(" ").map(parseFloat);return w.length<2&&w.push(0),w}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let v=!1;const u=new ResizeObserver(()=>{v&&d()});$([e.target,e.contentEl],(w,g)=>{let[A,m]=w,[h,y]=g;h&&!Array.isArray(h)&&u.unobserve(h),A&&!Array.isArray(A)&&u.observe(A),y&&u.unobserve(y),m&&u.observe(m)},{immediate:!0}),le(()=>{u.disconnect()});function d(){if(v=!1,requestAnimationFrame(()=>v=!0),!e.target.value||!e.contentEl.value)return;const w=Jn(e.target.value),g=Fa(e.contentEl.value,e.isRtl.value),A=Me(e.contentEl.value),m=12;A.length||(A.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const h=A.reduce((N,T)=>{const R=T.getBoundingClientRect(),_=new me({x:T===document.documentElement?0:R.x,y:T===document.documentElement?0:R.y,width:T.clientWidth,height:T.clientHeight});return N?new me({x:Math.max(N.left,_.left),y:Math.max(N.top,_.top),width:Math.min(N.right,_.right)-Math.max(N.left,_.left),height:Math.min(N.bottom,_.bottom)-Math.max(N.top,_.top)}):_},void 0);h.x+=m,h.y+=m,h.width-=m*2,h.height-=m*2;let y={anchor:o.value,origin:s.value};function S(N){const T=new me(g),R=wt(N.anchor,w),_=wt(N.origin,T);let{x:B,y:L}=Aa(R,_);switch(N.anchor.side){case"top":L-=f.value[0];break;case"bottom":L+=f.value[0];break;case"left":B-=f.value[0];break;case"right":B+=f.value[0];break}switch(N.anchor.align){case"top":L-=f.value[1];break;case"bottom":L+=f.value[1];break;case"left":B-=f.value[1];break;case"right":B+=f.value[1];break}return T.x+=B,T.y+=L,T.width=Math.min(T.width,l.value),T.height=Math.min(T.height,c.value),{overflows:gt(T,h),x:B,y:L}}let b=0,O=0;const F={x:0,y:0},p={x:!1,y:!1};let I=-1;for(;!(I++>10);){const{x:N,y:T,overflows:R}=S(y);b+=N,O+=T,g.x+=N,g.y+=T;{const _=mt(y.anchor),B=R.x.before||R.x.after,L=R.y.before||R.y.after;let W=!1;if(["x","y"].forEach(V=>{if(V==="x"&&B&&!p.x||V==="y"&&L&&!p.y){const z={anchor:{...y.anchor},origin:{...y.origin}},K=V==="x"?_==="y"?Be:Ve:_==="y"?Ve:Be;z.anchor=K(z.anchor),z.origin=K(z.origin);const{overflows:se}=S(z);(se[V].before<=R[V].before&&se[V].after<=R[V].after||se[V].before+se[V].after<(R[V].before+R[V].after)/2)&&(y=z,W=p[V]=!0)}}),W)continue}R.x.before&&(b+=R.x.before,g.x+=R.x.before),R.x.after&&(b-=R.x.after,g.x-=R.x.after),R.y.before&&(O+=R.y.before,g.y+=R.y.before),R.y.after&&(O-=R.y.after,g.y-=R.y.after);{const _=gt(g,h);F.x=h.width-_.x.before-_.x.after,F.y=h.height-_.y.before-_.y.after,b+=_.x.before,g.x+=_.x.before,O+=_.y.before,g.y+=_.y.before}break}const X=mt(y.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${y.anchor.side} ${y.anchor.align}`,transformOrigin:`${y.origin.side} ${y.origin.align}`,top:ae(We(O)),left:e.isRtl.value?void 0:ae(We(b)),right:e.isRtl.value?ae(We(-b)):void 0,minWidth:ae(X==="y"?Math.min(i.value,w.width):i.value),maxWidth:ae(pt(yt(F.x,i.value===1/0?0:i.value,l.value))),maxHeight:ae(pt(yt(F.y,a.value===1/0?0:a.value,c.value)))}),{available:F,contentBox:g}}return $(()=>[o.value,s.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>d()),Ke(()=>{const w=d();if(!w)return;const{available:g,contentBox:A}=w;A.height>g.y&&requestAnimationFrame(()=>{d(),requestAnimationFrame(()=>{d()})})}),{updateLocation:d}}function We(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function pt(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Ye=!0;const qe=[];function Ta(e){!Ye||qe.length?(qe.push(e),Xe()):(Ye=!1,e(),Xe())}let bt=-1;function Xe(){cancelAnimationFrame(bt),bt=requestAnimationFrame(()=>{const e=qe.shift();e&&e(),qe.length?Xe():Ye=!0})}const Te={none:null,close:La,block:ka,reposition:_a},Ra=re({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in Te}},"VOverlay-scroll-strategies");function Ma(e,t){if(!ye)return;let n;et(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Nt(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=Te[e.scrollStrategy])==null||r.call(Te,t,e,n)}))}),le(()=>{n==null||n.stop()})}function La(e){function t(n){e.isActive.value=!1}Qt(e.targetEl.value??e.contentEl.value,t)}function ka(e,t){var i;const n=(i=e.root.value)==null?void 0:i.offsetParent,r=[...new Set([...Me(e.targetEl.value,t.contained?n:void 0),...Me(e.contentEl.value,t.contained?n:void 0)])].filter(a=>!a.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,s=(a=>nt(a)&&a)(n||document.documentElement);s&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((a,l)=>{a.style.setProperty("--v-body-scroll-x",ae(-a.scrollLeft)),a.style.setProperty("--v-body-scroll-y",ae(-a.scrollTop)),a!==document.documentElement&&a.style.setProperty("--v-scrollbar-offset",ae(o)),a.classList.add("v-overlay-scroll-blocked")}),le(()=>{r.forEach((a,l)=>{const c=parseFloat(a.style.getPropertyValue("--v-body-scroll-x")),f=parseFloat(a.style.getPropertyValue("--v-body-scroll-y")),v=a.style.scrollBehavior;a.style.scrollBehavior="auto",a.style.removeProperty("--v-body-scroll-x"),a.style.removeProperty("--v-body-scroll-y"),a.style.removeProperty("--v-scrollbar-offset"),a.classList.remove("v-overlay-scroll-blocked"),a.scrollLeft=-c,a.scrollTop=-f,a.style.scrollBehavior=v}),s&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function _a(e,t,n){let r=!1,o=-1,s=-1;function i(a){Ta(()=>{var f,v;const l=performance.now();(v=(f=e.updateLocation).value)==null||v.call(f,a),r=(performance.now()-l)/(1e3/60)>2})}s=(typeof requestIdleCallback>"u"?a=>a():requestIdleCallback)(()=>{n.run(()=>{Qt(e.targetEl.value??e.contentEl.value,a=>{r?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{i(a)})})):i(a)})})}),le(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(s),cancelAnimationFrame(o)})}function Qt(e,t){const n=[document,...Me(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),le(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const xa=Symbol.for("vuetify:v-menu"),Na=re({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function qa(e,t){let n=()=>{};function r(i){n==null||n();const a=Number(i?e.openDelay:e.closeDelay);return new Promise(l=>{n=Rn(a,()=>{t==null||t(i),l(i)})})}function o(){return r(!0)}function s(){return r(!1)}return{clearDelay:n,runOpenDelay:o,runCloseDelay:s}}const Ia=re({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Na()},"VOverlay-activator");function Da(e,t){let{isActive:n,isTop:r,contentEl:o}=t;const s=De("useActivator"),i=C();let a=!1,l=!1,c=!0;const f=q(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),v=q(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!f.value),{runOpenDelay:u,runCloseDelay:d}=qa(e,p=>{p===(e.openOnHover&&a||f.value&&l)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==p&&(c=!0),n.value=p)}),w=C(),g={onClick:p=>{p.stopPropagation(),i.value=p.currentTarget||p.target,n.value||(w.value=[p.clientX,p.clientY]),n.value=!n.value},onMouseenter:p=>{var I;(I=p.sourceCapabilities)!=null&&I.firesTouchEvents||(a=!0,i.value=p.currentTarget||p.target,u())},onMouseleave:p=>{a=!1,d()},onFocus:p=>{Mn(p.target,":focus-visible")!==!1&&(l=!0,p.stopPropagation(),i.value=p.currentTarget||p.target,u())},onBlur:p=>{l=!1,p.stopPropagation(),d()}},A=q(()=>{const p={};return v.value&&(p.onClick=g.onClick),e.openOnHover&&(p.onMouseenter=g.onMouseenter,p.onMouseleave=g.onMouseleave),f.value&&(p.onFocus=g.onFocus,p.onBlur=g.onBlur),p}),m=q(()=>{const p={};if(e.openOnHover&&(p.onMouseenter=()=>{a=!0,u()},p.onMouseleave=()=>{a=!1,d()}),f.value&&(p.onFocusin=()=>{l=!0,u()},p.onFocusout=()=>{l=!1,d()}),e.closeOnContentClick){const I=qt(xa,null);p.onClick=()=>{n.value=!1,I==null||I.closeParents()}}return p}),h=q(()=>{const p={};return e.openOnHover&&(p.onMouseenter=()=>{c&&(a=!0,c=!1,u())},p.onMouseleave=()=>{a=!1,d()}),p});$(r,p=>{var I;p&&(e.openOnHover&&!a&&(!f.value||!l)||f.value&&!l&&(!e.openOnHover||!a))&&!((I=o.value)!=null&&I.contains(document.activeElement))&&(n.value=!1)}),$(n,p=>{p||setTimeout(()=>{w.value=void 0})},{flush:"post"});const y=ht();et(()=>{y.value&&Ke(()=>{i.value=y.el})});const S=ht(),b=q(()=>e.target==="cursor"&&w.value?w.value:S.value?S.el:Jt(e.target,s)||i.value),O=q(()=>Array.isArray(b.value)?void 0:b.value);let F;return $(()=>!!e.activator,p=>{p&&ye?(F=Nt(),F.run(()=>{$a(e,s,{activatorEl:i,activatorEvents:A})})):F&&F.stop()},{flush:"post",immediate:!0}),le(()=>{F==null||F.stop()}),{activatorEl:i,activatorRef:y,target:b,targetEl:O,targetRef:S,activatorEvents:A,contentEvents:m,scrimEvents:h}}function $a(e,t,n){let{activatorEl:r,activatorEvents:o}=n;$(()=>e.activator,(l,c)=>{if(c&&l!==c){const f=a(c);f&&i(f)}l&&Ke(()=>s())},{immediate:!0}),$(()=>e.activatorProps,()=>{s()}),le(()=>{i()});function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&ea(l,U(o.value,c))}function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a(),c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;l&&ta(l,U(o.value,c))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const c=Jt(l,t);return r.value=(c==null?void 0:c.nodeType)===Node.ELEMENT_NODE?c:void 0,r.value}}function Jt(e,t){var r,o;if(!e)return;let n;if(e==="parent"){let s=(o=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:o.parentNode;for(;s!=null&&s.hasAttribute("data-no-activator");)s=s.parentNode;n=s}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function Va(){if(!ye)return we(!1);const{ssr:e}=Ln();if(e){const t=we(!1);return kn(()=>{t.value=!0}),t}else return we(!0)}const Ba=re({eager:Boolean},"lazy");function ja(e,t){const n=we(!1),r=q(()=>n.value||e.eager||t.value);$(t,()=>n.value=!0);function o(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:o}}function Zt(){const t=De("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const At=Symbol.for("vuetify:stack"),Ee=It([]);function Ua(e,t,n){const r=De("useStack"),o=!n,s=qt(At,void 0),i=It({activeChildren:new Set});_n(At,i);const a=we(+t.value);Ze(e,()=>{var v;const f=(v=Ee.at(-1))==null?void 0:v[1];a.value=f?f+10:+t.value,o&&Ee.push([r.uid,a.value]),s==null||s.activeChildren.add(r.uid),le(()=>{if(o){const u=Nn(Ee).findIndex(d=>d[0]===r.uid);Ee.splice(u,1)}s==null||s.activeChildren.delete(r.uid)})});const l=we(!0);o&&et(()=>{var v;const f=((v=Ee.at(-1))==null?void 0:v[0])===r.uid;setTimeout(()=>l.value=f)});const c=q(()=>!i.activeChildren.size);return{globalTop:xn(l),localTop:c,stackStyles:q(()=>({zIndex:a.value}))}}function Wa(e){return{teleportTarget:q(()=>{const n=e();if(n===!0||!ye)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let o=[...r.children].find(s=>s.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",r.appendChild(o)),o})}}function Ga(){return!0}function Kt(e,t,n){if(!e||en(e,n)===!1)return!1;const r=Bt(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const o=(typeof n.value=="object"&&n.value.include||(()=>[]))();return o.push(t),!o.some(s=>s==null?void 0:s.contains(e.target))}function en(e,t){return(typeof t.value=="object"&&t.value.closeConditional||Ga)(e)}function Ha(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Kt(e,t,n)&&setTimeout(()=>{en(e,n)&&r&&r(e)},0)}function Et(e,t){const n=Bt(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const za={mounted(e,t){const n=o=>Ha(o,e,t),r=o=>{e._clickOutside.lastMousedownWasOutside=Kt(o,e,t)};Et(e,o=>{o.addEventListener("click",n,!0),o.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(Et(e,n=>{var s;if(!n||!((s=e._clickOutside)!=null&&s[t.instance.$.uid]))return;const{onClick:r,onMousedown:o}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",o,!0)}),delete e._clickOutside[t.instance.$.uid])}};function Ya(e){const{modelValue:t,color:n,...r}=e;return E(Gn,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&E("div",U({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const tn=re({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ia(),...Ie(),...Rt(),...Ba(),...Ea(),...Ra(),...Mt(),...qn()},"VOverlay"),Ct=Ce()({name:"VOverlay",directives:{ClickOutside:za},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...tn()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:o}=t;const s=De("VOverlay"),i=C(),a=C(),l=C(),c=Dt(e,"modelValue"),f=q({get:()=>c.value,set:x=>{x&&e.disabled||(c.value=x)}}),{themeClasses:v}=Lt(e),{rtlClasses:u,isRtl:d}=In(),{hasContent:w,onAfterLeave:g}=ja(e,f),A=kt(q(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:m,localTop:h,stackStyles:y}=Ua(f,_t(e,"zIndex"),e._disableGlobalStack),{activatorEl:S,activatorRef:b,target:O,targetEl:F,targetRef:p,activatorEvents:I,contentEvents:X,scrimEvents:N}=Da(e,{isActive:f,isTop:h,contentEl:l}),{teleportTarget:T}=Wa(()=>{var Ae,ct,ft;const x=e.attach||e.contained;if(x)return x;const Q=((Ae=S==null?void 0:S.value)==null?void 0:Ae.getRootNode())||((ft=(ct=s.proxy)==null?void 0:ct.$el)==null?void 0:ft.getRootNode());return Q instanceof ShadowRoot?Q:!1}),{dimensionStyles:R}=xt(e),_=Va(),{scopeId:B}=Zt();$(()=>e.disabled,x=>{x&&(f.value=!1)});const{contentStyles:L,updateLocation:W}=Ca(e,{isRtl:d,contentEl:l,target:O,isActive:f});Ma(e,{root:i,contentEl:l,targetEl:F,isActive:f,updateLocation:W});function V(x){o("click:outside",x),e.persistent?ue():f.value=!1}function z(x){return f.value&&m.value&&(!e.scrim||x.target===a.value||x instanceof MouseEvent&&x.shadowTarget===a.value)}ye&&$(f,x=>{x?window.addEventListener("keydown",K):window.removeEventListener("keydown",K)},{immediate:!0}),Dn(()=>{ye&&window.removeEventListener("keydown",K)});function K(x){var Q,Ae;x.key==="Escape"&&m.value&&(e.persistent?ue():(f.value=!1,(Q=l.value)!=null&&Q.contains(document.activeElement)&&((Ae=S.value)==null||Ae.focus())))}const se=$n();Ze(()=>e.closeOnBack,()=>{Hn(se,x=>{m.value&&f.value?(x(!1),e.persistent?ue():f.value=!1):x()})});const he=C();$(()=>f.value&&(e.absolute||e.contained)&&T.value==null,x=>{if(x){const Q=aa(i.value);Q&&Q!==document.scrollingElement&&(he.value=Q.scrollTop)}});function ue(){e.noClickAnimation||l.value&&Kn(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:na})}function mn(){o("afterEnter")}function yn(){g(),o("afterLeave")}return Je(()=>{var x;return E(fe,null,[(x=n.activator)==null?void 0:x.call(n,{isActive:f.value,targetRef:p,props:U({ref:b},I.value,e.activatorProps)}),_.value&&w.value&&E(Vn,{disabled:!T.value,to:T.value},{default:()=>[E("div",U({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":f.value,"v-overlay--contained":e.contained},v.value,u.value,e.class],style:[y.value,{"--v-overlay-opacity":e.opacity,top:ae(he.value)},e.style],ref:i},B,r),[E(Ya,U({color:A,modelValue:f.value&&!!e.scrim,ref:a},N.value),null),E(Bn,{appear:!0,persisted:!0,transition:e.transition,target:O.value,onAfterEnter:mn,onAfterLeave:yn},{default:()=>{var Q;return[jn(E("div",U({ref:l,class:["v-overlay__content",e.contentClass],style:[R.value,L.value]},X.value,e.contentProps),[(Q=n.default)==null?void 0:Q.call(n,{isActive:f})]),[[Un,f.value],[Wn("click-outside"),{handler:V,closeConditional:z,include:()=>[S.value]}]])]}})])]})])}),{activatorEl:S,scrimEl:a,target:O,animateClick:ue,contentEl:l,globalTop:m,localTop:h,updateLocation:W}}}),Ge=Symbol("Forwarded refs");function He(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Xa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[Ge]=n,new Proxy(e,{get(o,s){if(Reflect.has(o,s))return Reflect.get(o,s);if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const i of n)if(i.value&&Reflect.has(i.value,s)){const a=Reflect.get(i.value,s);return typeof a=="function"?a.bind(i.value):a}}},has(o,s){if(Reflect.has(o,s))return!0;if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const i of n)if(i.value&&Reflect.has(i.value,s))return!0;return!1},set(o,s,i){if(Reflect.has(o,s))return Reflect.set(o,s,i);if(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))return!1;for(const a of n)if(a.value&&Reflect.has(a.value,s))return Reflect.set(a.value,s,i);return!1},getOwnPropertyDescriptor(o,s){var a;const i=Reflect.getOwnPropertyDescriptor(o,s);if(i)return i;if(!(typeof s=="symbol"||s.startsWith("$")||s.startsWith("__"))){for(const l of n){if(!l.value)continue;const c=He(l.value,s)??("_"in l.value?He((a=l.value._)==null?void 0:a.setupState,s):void 0);if(c)return c}for(const l of n){const c=l.value&&l.value[Ge];if(!c)continue;const f=c.slice();for(;f.length;){const v=f.shift(),u=He(v.value,s);if(u)return u;const d=v.value&&v.value[Ge];d&&f.push(...d)}}}}})}const Qa=re({id:String,text:String,...zn(tn({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),ge=Ce()({name:"VTooltip",props:Qa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=Dt(e,"modelValue"),{scopeId:o}=Zt(),s=Yn(),i=q(()=>e.id||`v-tooltip-${s}`),a=C(),l=q(()=>e.location.split(" ").length>1?e.location:e.location+" center"),c=q(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),f=q(()=>e.transition?e.transition:r.value?"scale-transition":"fade-transition"),v=q(()=>U({"aria-describedby":i.value},e.activatorProps));return Je(()=>{const u=Ct.filterProps(e);return E(Ct,U({ref:a,class:["v-tooltip",e.class],style:e.style,id:i.value},u,{modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,transition:f.value,absolute:!0,location:l.value,origin:c.value,persistent:!0,role:"tooltip",activatorProps:v.value,_disableGlobalStack:!0},o),{activator:n.activator,default:function(){var A;for(var d=arguments.length,w=new Array(d),g=0;g<d;g++)w[g]=arguments[g];return((A=n.default)==null?void 0:A.call(n,...w))??e.text}})}),Xa({},a)}}),Ja={class:"tuner-note text-primary d-flex ga-1"},Za={key:0,class:"tuner-classic tuner-natural"},Ka={key:1,class:"tuner-classic tuner-semi"},er={key:0,class:"tuner-american tuner-natural"},tr={key:1,class:"tuner-american tuner-semi"},nr={class:"tuner-octave"},ar={class:"text-body-1 text-right",style:{width:"7rem"}};function rr(e,t,n,r,o,s){return P(),H(ze,{class:Oe(`d-flex flex-wrap justify-center ga-4 bg-background align-center my-4 ${e.classes}`),style:{"z-index":"100"}},{default:k(()=>[e.running?(P(),H(ge,{key:1,text:"Detener afinador",location:"start"},{activator:k(({props:i})=>[E(j,U(i,{icon:"mdi-stop",onClick:e.stopTuner}),null,16,["onClick"])]),_:1})):(P(),H(ge,{key:0,text:"Iniciar afinador",location:"start"},{activator:k(({props:i})=>[E(j,U(i,{icon:"mdi-microphone",onClick:e.startTuner,color:"primary"}),null,16,["onClick"])]),_:1})),G("div",{class:"d-flex justify-center align-center ga-3",style:$t(`opacity: ${e.badFrequency?"0.5":"1"}`)},[G("div",Ja,[e.showClassicSystem||!e.showAmericanSystem?(P(),D(fe,{key:0},[e.note.note.isNatural()?(P(),D("span",Za,Y(e.note.note.name.classic),1)):(P(),D("span",Ka,Y(e.showSemiFlats?e.showSemiSharps?e.note.note.name.classic:e.note.note.name.classic.split(" ")[1]:e.note.note.name.classic.split(" ")[0]),1))],64)):ee("",!0),e.showAmericanSystem?(P(),D(fe,{key:1},[e.note.note.isNatural()?(P(),D("span",er,Y(e.note.note.name.american),1)):(P(),D("span",tr,Y(e.showSemiFlats?e.showSemiSharps?e.note.note.name.american:e.note.note.name.american.split(" ")[1]:e.note.note.name.american.split(" ")[0]),1))],64)):ee("",!0),G("span",nr,Y(e.note.octave),1)]),G("div",ar,Y(e.frequency.toFixed(2))+" Hz ",1)],4)]),_:1},8,["class"])}const sr=be(pa,[["render",rr],["__scopeId","data-v-98050293"]]),nn=$e.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),an=$e.reduce((e,t)=>{const n="offset"+tt(t);return e[n]={type:[String,Number],default:null},e},{}),rn=$e.reduce((e,t)=>{const n="order"+tt(t);return e[n]={type:[String,Number],default:null},e},{}),Ot={col:Object.keys(nn),offset:Object.keys(an),order:Object.keys(rn)};function or(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const o=t.replace(e,"");r+=`-${o}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const ir=["auto","start","end","center","baseline","stretch"],lr=re({cols:{type:[Boolean,String,Number],default:!1},...nn,offset:{type:[String,Number],default:null},...an,order:{type:[String,Number],default:null},...rn,alignSelf:{type:String,default:null,validator:e=>ir.includes(e)},...Ie(),...Qe()},"VCol"),Se=Ce()({name:"VCol",props:lr(),setup(e,t){let{slots:n}=t;const r=q(()=>{const o=[];let s;for(s in Ot)Ot[s].forEach(a=>{const l=e[a],c=or(s,a,l);c&&o.push(c)});const i=o.some(a=>a.startsWith("v-col-"));return o.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),o});return()=>{var o;return Vt(e.tag,{class:[r.value,e.class],style:e.style},(o=n.default)==null?void 0:o.call(n))}}}),lt=["start","end","center"],sn=["space-between","space-around","space-evenly"];function ut(e,t){return $e.reduce((n,r)=>{const o=e+tt(r);return n[o]=t(),n},{})}const ur=[...lt,"baseline","stretch"],on=e=>ur.includes(e),ln=ut("align",()=>({type:String,default:null,validator:on})),cr=[...lt,...sn],un=e=>cr.includes(e),cn=ut("justify",()=>({type:String,default:null,validator:un})),fr=[...lt,...sn,"stretch"],fn=e=>fr.includes(e),vn=ut("alignContent",()=>({type:String,default:null,validator:fn})),Ft={align:Object.keys(ln),justify:Object.keys(cn),alignContent:Object.keys(vn)},vr={align:"align",justify:"justify",alignContent:"align-content"};function dr(e,t,n){let r=vr[e];if(n!=null){if(t){const o=t.replace(e,"");r+=`-${o}`}return r+=`-${n}`,r.toLowerCase()}}const mr=re({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:on},...ln,justify:{type:String,default:null,validator:un},...cn,alignContent:{type:String,default:null,validator:fn},...vn,...Ie(),...Qe()},"VRow"),Re=Ce()({name:"VRow",props:mr(),setup(e,t){let{slots:n}=t;const r=q(()=>{const o=[];let s;for(s in Ft)Ft[s].forEach(i=>{const a=e[i],l=dr(s,i,a);l&&o.push(l)});return o.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),o});return()=>{var o;return Vt(e.tag,{class:["v-row",r.value,e.class],style:e.style},(o=n.default)==null?void 0:o.call(n))}}}),yr=ie({__name:"InstrumentSettings",props:{classes:{}},emits:["octaves","show:noteSystems","show:noteSemis","waveform"],setup(e,{emit:t}){const n=t,r=C({min:3,max:5}),o=C([M.Systems.CLASSIC,M.Systems.AMERICAN]),s=C([M.Accidentals.SHARP,M.Accidentals.FLAT]),i=C("sine");$(o,f=>{const v=f.indexOf(M.Systems.CLASSIC)!=-1,u=f.indexOf(M.Systems.AMERICAN)!=-1;n("show:noteSystems",v,u)}),$(s,f=>{const v=f.indexOf(M.Accidentals.SHARP)!=-1,u=f.indexOf(M.Accidentals.FLAT)!=-1;n("show:noteSemis",v,u)}),$(i,()=>{n("waveform",i.value)});const a=()=>{const f=r.value.max-r.value.min+1,v=Array.from(Array(f).keys()).map(u=>u+r.value.min);n("octaves",v)};a();const l=(f=!0)=>{f?r.value.min-=1:r.value.min+=1,a()},c=(f=!0)=>{f?r.value.max+=1:r.value.max-=1,a()};return(f,v)=>(P(),H(Re,{"no-gutters":"",class:Oe(`align-center px-3 mb-2 position-relative gr-1 ${f.classes}`),style:{"z-index":"20"}},{default:k(()=>[E(Se,{cols:"6",sm:"3",md:"2",class:"d-flex align-center justify-start ga-2 order-1"},{default:k(()=>[E(ge,{text:"Incluir una octava grave más",location:"top"},{activator:k(({props:u})=>[E(j,U(u,{variant:"tonal",disabled:r.value.min<=1,icon:"mdi-music-note-plus",onClick:v[0]||(v[0]=d=>l(!0))}),null,16,["disabled"])]),_:1}),E(ge,{text:"Disminuir una octava grave",location:"right"},{activator:k(({props:u})=>[E(j,U(u,{size:"small",variant:"tonal",disabled:r.value.min>=r.value.max,icon:"mdi-music-note-minus",onClick:v[1]||(v[1]=d=>l(!1))}),null,16,["disabled"])]),_:1})]),_:1}),E(Se,{cols:"12",sm:"12",md:"5",class:"d-flex justify-space-evenly order-3 order-sm-4 order-md-2"},{default:k(()=>[E(je,{multiple:"",modelValue:o.value,"onUpdate:modelValue":v[2]||(v[2]=u=>o.value=u),rounded:"xl",variant:"outlined"},{default:k(()=>[E(j,{value:oe(M).Systems.CLASSIC},{default:k(()=>v[7]||(v[7]=[de("Do, Re, ...")])),_:1},8,["value"]),E(j,{value:oe(M).Systems.AMERICAN},{default:k(()=>v[8]||(v[8]=[de("C, D, ...")])),_:1},8,["value"])]),_:1},8,["modelValue"]),E(je,{multiple:"",modelValue:s.value,"onUpdate:modelValue":v[3]||(v[3]=u=>s.value=u),rounded:"xl",variant:"outlined"},{default:k(()=>[E(j,{icon:"mdi-music-accidental-sharp",value:oe(M).Accidentals.SHARP},null,8,["value"]),E(j,{icon:"mdi-music-accidental-flat",value:oe(M).Accidentals.FLAT},null,8,["value"])]),_:1},8,["modelValue"])]),_:1}),E(Se,{cols:"12",sm:"6",md:"3",class:"d-flex justify-space-evenly ga-2 order-4 order-sm-2 order-md-3"},{default:k(()=>[E(je,{modelValue:i.value,"onUpdate:modelValue":v[4]||(v[4]=u=>i.value=u),rounded:"xl",variant:"outlined"},{default:k(()=>[E(j,{icon:"mdi-sine-wave",value:"sine"}),E(j,{icon:"mdi-sawtooth-wave",value:"sawtooth"}),E(j,{icon:"mdi-square-wave",value:"square"}),E(j,{icon:"mdi-triangle-wave",value:"triangle"})]),_:1},8,["modelValue"])]),_:1}),E(Se,{cols:"6",sm:"3",md:"2",class:"d-flex align-center justify-end ga-2 order-2 order-sm-3 order-md-4"},{default:k(()=>[E(ge,{text:"Disminuir una octava aguda",location:"left"},{activator:k(({props:u})=>[E(j,U(u,{size:"small",variant:"tonal",disabled:r.value.min>=r.value.max,icon:"mdi-music-note-minus",onClick:v[5]||(v[5]=d=>c(!1))}),null,16,["disabled"])]),_:1}),E(ge,{text:"Incluir una octava aguda más",location:"top"},{activator:k(({props:u})=>[E(j,U(u,{variant:"tonal",disabled:r.value.max>=7,icon:"mdi-music-note-plus",onClick:v[6]||(v[6]=d=>c(!0))}),null,16,["disabled"])]),_:1})]),_:1})]),_:1},8,["class"]))}}),hr=ie({__name:"PianoKey",props:{note:{},variant:{}},emits:["pressedFrequency","pressedStopped"],setup(e,{emit:t}){const n=t,r=C(!1),o=()=>{r.value||(r.value=!0,n("pressedFrequency",e.note.frequency.main))},s=()=>{r.value&&(r.value=!1,n("pressedStopped",e.note.frequency.main))};return(i,a)=>(P(),H(j,{class:Oe(`piano-key key-${i.variant}`),onMousedown:o,onMouseup:s,onTouchstart:o,onTouchend:s},{default:k(()=>[Xn(i.$slots,"default",{},void 0,!0)]),_:3},8,["class"]))}}),dn=be(hr,[["__scopeId","data-v-1e67e62e"]]),gr={class:"text-center"},Sr={key:0},wr={key:1},pr=ie({__name:"PianoKeyNatural",props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},note:{}},setup(e){return(t,n)=>(P(),H(dn,{note:t.note,variant:"white"},{default:k(()=>[G("div",gr,[t.showClassicSystem?(P(),D("div",Sr,Y(t.note.name.classic),1)):ee("",!0),t.showAmericanSystem?(P(),D("div",wr,Y(t.note.name.american),1)):ee("",!0)])]),_:1},8,["note"]))}}),br=be(pr,[["__scopeId","data-v-59d32181"]]),Ar={key:0},Er={key:0},Cr={key:1},Or={key:1},Fr={key:0},Pr={key:1},Tr=ie({__name:"PianoKeySemiSF",props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0},note:{}},setup(e){return(t,n)=>t.note!=oe(M).EmptyNote?(P(),H(dn,{key:0,note:t.note,variant:"black"},{default:k(()=>[t.showSemiSharps?(P(),D("div",Ar,[t.showClassicSystem?(P(),D("div",Er,[de(Y(t.note.sharp.name.classic),1),n[0]||(n[0]=G("span",{class:"accidental"},"#",-1))])):ee("",!0),t.showAmericanSystem?(P(),D("div",Cr,[de(Y(t.note.sharp.name.american),1),n[1]||(n[1]=G("span",{class:"accidental"},"#",-1))])):ee("",!0)])):ee("",!0),t.showSemiFlats?(P(),D("div",Or,[t.showClassicSystem?(P(),D("div",Fr,[de(Y(t.note.flat.name.classic),1),n[2]||(n[2]=G("span",{class:"accidental"},"b",-1))])):ee("",!0),t.showAmericanSystem?(P(),D("div",Pr,[de(Y(t.note.flat.name.american),1),n[3]||(n[3]=G("span",{class:"accidental"},"b",-1))])):ee("",!0)])):ee("",!0)]),_:1},8,["note"])):(P(),H(j,{key:1,class:"key-black empty"}))}}),Rr=be(Tr,[["__scopeId","data-v-8d44301e"]]),Mr={key:0,class:"light-tail-indicator pressed"},Lr=ie({__name:"PianoLightTail",props:{listenedFrequency:{default:()=>note.frequency.main},badFrequency:{type:Boolean,default:!0},note:{default:()=>M.EmptyNote},isPressed:{type:Boolean,default:!1}},emits:["key-state"],setup(e,{emit:t}){let n;(a=>{a[a.INACTIVE=0]="INACTIVE",a[a.LISTENED=2]="LISTENED",a[a.IS_BAD_LISTENED=4]="IS_BAD_LISTENED",a[a.PRESSED=8]="PRESSED",a[a.PRESSED_ANY=12]="PRESSED_ANY",a[a.LISTENED_PRESSED=10]="LISTENED_PRESSED",a[a.LISTENED_BAD=6]="LISTENED_BAD",a[a.LISTENED_PRESSED_BAD=14]="LISTENED_PRESSED_BAD"})(n||(n={}));const r=new Map([[0,"none"],[4,"none"],[2,"listened"],[8,"pressed"],[12,"pressed"],[10,"glow"],[6,"listened-bad"],[14,"pressed-bad"]]);e.note;const o=t,s=C(50),i=C(0);return $(()=>e.badFrequency,()=>{e.badFrequency?i.value|=4:i.value&=-5,o("key-state",i.value)}),$(()=>e.listenedFrequency,()=>{pe.IsOnRange(e.note.frequency.min,e.note.frequency.max,e.listenedFrequency)?i.value|=2:i.value&=-3,s.value=(i.value&2)==2?pe.Invlerp(e.note.frequency.min,e.note.frequency.max,e.listenedFrequency)*100:50,o("key-state",i.value)}),$(()=>e.isPressed,()=>{e.isPressed===!0?i.value|=8:e.isPressed===!1&&(i.value&=-9),o("key-state",i.value)}),(a,l)=>(P(),D("div",{class:Oe(`light-tail ${a.note.isNatural()?"":"shrink"} ${oe(r).get(i.value)} ${i.value}}`)},[l[2]||(l[2]=G("div",{class:"light-tail-border left"},null,-1)),G("div",{class:"light-tail-indicator listened",style:$t(`left: ${s.value}%;`)},l[0]||(l[0]=[G("div",{class:"light-tail-indicator-point"},null,-1)]),4),i.value?(P(),D("div",Mr,l[1]||(l[1]=[G("div",{class:"light-tail-indicator-point"},null,-1)]))):ee("",!0),l[3]||(l[3]=G("div",{class:"light-tail-border right"},null,-1))],2))}}),kr=be(Lr,[["__scopeId","data-v-8ce3d670"]]),_r=ie({__name:"PianoOctave",props:{showClassicSystem:{type:Boolean,default:!0},showAmericanSystem:{type:Boolean,default:!0},showSemiSharps:{type:Boolean,default:!0},showSemiFlats:{type:Boolean,default:!0},listenedFrequency:{default:0},badFrequency:{type:Boolean,default:!0},octaveId:{default:()=>ce.OCTAVE_CENTRAL}},emits:["frequency-pressed","frequency-stopped"],setup(e,{emit:t}){const n=t,r=C(new Set),o=i=>{r.value.has(i)||(r.value.add(i),n("frequency-pressed",i))},s=i=>{r.value.has(i)&&(r.value.delete(i),n("frequency-stopped",i))};return(i,a)=>(P(),H(Se,{class:"position-relative rounded-lg mt-4",xs:"12",sm:"6",md:"6",lg:"4",xl:"3",xxl:"3"},{default:k(()=>[E(Re,{class:"flex-nowrap piano-keys key-tails mx-0"},{default:k(()=>[(P(!0),D(fe,null,Fe(oe(ce).GetNotesAtOctave(i.octaveId),l=>(P(),H(kr,{key:l.frequency.main,note:l,"bad-frequency":i.badFrequency,"listened-frequency":i.listenedFrequency,"is-pressed":r.value.has(l.frequency.main)},null,8,["note","bad-frequency","listened-frequency","is-pressed"]))),128))]),_:1}),E(Re,{class:"flex-nowrap piano-keys white-keys"},{default:k(()=>[(P(!0),D(fe,null,Fe(oe(ce).GetNaturalsAtOctave(i.octaveId),l=>(P(),H(br,{note:l,"show-classic-system":i.showClassicSystem,"show-american-system":i.showAmericanSystem,onPressedFrequency:o,onPressedStopped:s},null,8,["note","show-classic-system","show-american-system"]))),256))]),_:1}),E(Re,{class:"flex-nowrap piano-keys black-keys mt-6"},{default:k(()=>[(P(!0),D(fe,null,Fe(oe(ce).GetSemisAtOctave(i.octaveId),l=>(P(),H(Rr,{note:l,"show-classic-system":i.showClassicSystem,"show-american-system":i.showAmericanSystem,"show-semi-sharps":i.showSemiSharps,"show-semi-flats":i.showSemiFlats,onPressedFrequency:o,onPressedStopped:s},null,8,["note","show-classic-system","show-american-system","show-semi-sharps","show-semi-flats"]))),256))]),_:1}),E(Se,{cols:"12",class:"piano-octave-id"},{default:k(()=>[de(Y(i.octaveId),1)]),_:1})]),_:1}))}}),xr=be(_r,[["__scopeId","data-v-c73b83e5"]]),Nr={listenedFrequency:0,badFrequency:!1},qr=ie({__name:"Piano",props:Qn({activeOctaves:{},waveform:{},showClassicSystem:{type:Boolean},showAmericanSystem:{type:Boolean},showSemiSharps:{type:Boolean},showSemiFlats:{type:Boolean},listenedFrequency:{},badFrequency:{type:Boolean},classes:{}},{waveform:"sine",...Nr}),setup(e){const t=e,n=new Map,r=C(0),o=new Map;$(r,()=>{if(r.value==0)return;const a=1;n.forEach((l,c)=>{const f=l.audioCtx.currentTime;l.gainNode&&l.gainNode.gain.setValueAtTime(a,f),l.oscillator&&l.oscillator.frequency.setValueAtTime(c,f)})});const s=a=>{let l=null;if(o.forEach((u,d)=>{u||(l=d)}),l==null&&(l=new(AudioContext||window.AudioContext||window.webkitAudioContext)),l==null)return;o.set(l,!0);let c=l.createGain(),f=l.createOscillator();const v=l.currentTime;f&&(f.type=t.waveform??"sine",f.frequency.setValueAtTime(a,v),c?(c.gain.setValueAtTime(1,v),f.connect(c),c.connect(l.destination)):f.connect(l.destination),f.start(),r.value++,n.set(a,{audioCtx:l,oscillator:f,gainNode:c}))},i=a=>{let l=n.get(a);if(l){if(l.oscillator)if(l.gainNode){const c=l.audioCtx.currentTime;l.gainNode.gain.setValueAtTime(l.gainNode.gain.value,c),l.gainNode.gain.exponentialRampToValueAtTime(1e-4,c+.05),l.oscillator.stop(c+.06),setTimeout(()=>{o.set(l.audioCtx,!1),n.delete(a)},75)}else l.oscillator.stop();r.value--}};return(a,l)=>(P(),H(ze,{class:Oe(`bg-background ${a.classes}`)},{default:k(()=>[E(ze,{class:"d-flex flex-wrap justify-center align-center ga-0 position-relative pa-2 pt-10",style:{"z-index":"10"}},{default:k(()=>[(P(!0),D(fe,null,Fe(a.activeOctaves,c=>(P(),H(xr,{octaveId:c,"listened-frequency":a.listenedFrequency,"bad-frequency":a.badFrequency,"show-classic-system":a.showClassicSystem,"show-american-system":a.showAmericanSystem,"show-semi-sharps":a.showSemiSharps,"show-semi-flats":a.showSemiFlats,onFrequencyPressed:s,onFrequencyStopped:i},null,8,["octaveId","listened-frequency","bad-frequency","show-classic-system","show-american-system","show-semi-sharps","show-semi-flats"]))),256))]),_:1})]),_:1},8,["class"]))}}),Vr=ie({__name:"Home",setup(e){const t=C(!1),n=C(0),r=C(!0),o=C({note:M.EmptyNote,octave:-1}),s=C(!0),i=C(!0),a=C(!0),l=C(!0),c=C([]),f=C("sine");return(v,u)=>(P(),D(fe,null,[E(sr,{ref:"tunerRef",classes:"order-1 order-md-1 position-sticky top-0","show-american-system":i.value,"show-classic-system":s.value,"show-semi-sharps":a.value,"show-semi-flats":l.value,"onUpdate:frequency":u[0]||(u[0]=d=>n.value=d),"onUpdate:note":u[1]||(u[1]=d=>o.value=d),"onUpdate:badFrequency":u[2]||(u[2]=d=>r.value=d),onIsRunning:u[3]||(u[3]=d=>t.value=d)},null,8,["show-american-system","show-classic-system","show-semi-sharps","show-semi-flats"]),E(yr,{classes:"order-3 order-md-2",onOctaves:u[4]||(u[4]=d=>{c.value=d}),"onShow:noteSystems":u[5]||(u[5]=(d,w)=>{s.value=d,i.value=w}),"onShow:noteSemis":u[6]||(u[6]=(d,w)=>{a.value=d,l.value=w}),onWaveform:u[7]||(u[7]=d=>{d&&(f.value=d)})}),E(qr,{classes:"order-2 order-md-3","active-octaves":c.value,waveform:f.value,showAmericanSystem:i.value,showClassicSystem:s.value,showSemiSharps:a.value,showSemiFlats:l.value,"listened-frequency":n.value,"bad-frequency":r.value},null,8,["active-octaves","waveform","showAmericanSystem","showClassicSystem","showSemiSharps","showSemiFlats","listened-frequency","bad-frequency"])],64))}});export{Vr as default};
